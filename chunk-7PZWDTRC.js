import{b as Be,c as ce}from"./chunk-SYKHHQ4H.js";import{e as Ct,g as We}from"./chunk-T2PBPVYP.js";import{c as xt}from"./chunk-TYN4DC37.js";import{c as ae,h as ft,j as de,k as Le}from"./chunk-E6BANPG3.js";import{c as De,d as $}from"./chunk-PDKCQL27.js";import{a as vt}from"./chunk-VDQBP35T.js";import{B as se,b as Ve,f as Fe,g as Ae,j as Ne,l as Ee,t as Re}from"./chunk-WK4VBANE.js";import{A as gt,I as mt,a as ht,b as _t,x as ut,y as le,z as Y}from"./chunk-ORXQNIBN.js";import{g as Te,h as N}from"./chunk-CYCH5DGK.js";import{c as X,e as j}from"./chunk-SSOY4R6P.js";import{f as dt,g as ct,k as re,l as pt,o as Se}from"./chunk-P7HYBCKR.js";import{b as V}from"./chunk-NEM4VVWP.js";import{j as st,o as Pe,y as at}from"./chunk-P6JKCIKX.js";import{Ac as ie,Ba as O,Bc as ne,Ca as Je,Cb as d,Cc as oe,Dc as b,Ec as m,Fa as G,Fc as f,I as ge,J as K,Jb as R,Jc as q,Kb as it,Lb as fe,Lc as P,Nc as T,Oa as et,Ob as L,Oc as A,Pa as E,Pc as U,Q as me,Rc as we,Sc as ye,Tc as Me,Xc as Oe,Zc as ot,_ as Ye,_b as k,aa as w,bc as y,cd as ke,dc as M,fc as ve,gc as Ce,hc as xe,ia as Xe,ic as g,id as rt,ja as $e,jc as p,k as F,kc as h,l as Ue,la as Ze,lc as B,ld as v,mc as nt,na as D,nc as be,rb as s,rc as ee,rd as lt,sd as z,ta as _,tc as S,ua as u,uc as te,xc as x,xd as Ie,yb as tt,z as Q,zc as c}from"./chunk-ZUBEA7JB.js";var qe=["*"],Ft=["container"],At=n=>({"nx-dropdown-results__option--selected":n});function Nt(n,l){n&1&&ee(0)}function Et(n,l){if(n&1&&(p(0,"nx-checkbox",4),L(1,Nt,1,0,"ng-container",6),h()),n&2){let e=c(),i=q(6);g("checked",e.selected)("disabled",e.disabled),s(),g("ngTemplateOutlet",i)}}function Rt(n,l){n&1&&(p(0,"span",5),B(1,"nx-icon",7),h())}function Lt(n,l){n&1&&ee(0)}function Wt(n,l){if(n&1&&L(0,Lt,1,0,"ng-container",6),n&2){c();let e=q(6);g("ngTemplateOutlet",e)}}function Bt(n,l){if(n&1&&T(0),n&2){let e=c(2);U(" ",e._formattedValue," ")}}function zt(n,l){if(n&1){let e=S();p(0,"div",8)(1,"div",9,2),x("cdkObserveContent",function(){_(e);let t=c();return u(t._onLabelChange())}),ne(3),h(),p(4,"div"),y(5,Bt,1,1),h()()}if(n&2){let e=q(2),i=c();s(5),M(i._isContentEmpty(e)?5:-1)}}var jt=["panel"],Ht=["panelBody"],Ot=["trigger"],Qt=["fallbackOrigin"],kt=["filterInput"],Kt=["defaultClosedDropdownLabel"];function Gt(n,l){if(n&1&&(p(0,"span"),T(1),h()),n&2){let e=c();s(),A(e.placeholder)}}function qt(n,l){n&1&&ee(0)}function Ut(n,l){if(n&1&&L(0,qt,1,0,"ng-container",10),n&2){let e=c();g("ngTemplateOutlet",e.closedDropdownLabel)}}function Yt(n,l){if(n&1&&(p(0,"span"),T(1),h()),n&2){let e=c(2);s(),A(e.triggerValue)}}function Xt(n,l){if(n&1&&y(0,Yt,2,1,"span"),n&2){let e=c();M(e.triggerValue?0:-1)}}function $t(n,l){if(n&1&&(p(0,"div",12),T(1),h()),n&2){let e=c(2);s(),A(e.label)}}function Zt(n,l){if(n&1){let e=S();p(0,"span",19),x("click",function(){_(e);let t=c(3);return u(t._clearFilter())}),B(1,"nx-icon",20),h()}}function Jt(n,l){if(n&1){let e=S();p(0,"div",13)(1,"div",16)(2,"input",17,4),x("input",function(t){return _(e),u(t.preventDefault())}),Me("ngModelChange",function(t){_(e);let o=c(2);return ye(o.filterValue,t)||(o.filterValue=t),u(t)}),x("ngModelChange",function(t){_(e);let o=c(2);return u(o._onFilter(t))}),h(),y(4,Zt,2,0,"span",18),h()()}if(n&2){let e=c(2);s(2),P("is-filled",!e.isFilterEmpty),g("type",e.filterInputType),we("ngModel",e.filterValue),g("placeholder",e.filterPlaceholder()),k("aria-controls",e.modalId)("aria-label",e.label)("aria-activedescendant",e.activeId()),s(2),M(e.isFilterEmpty?-1:4)}}function ei(n,l){if(n&1){let e=S();p(0,"nx-dropdown-item",21),x("onSelectionChange",function(t){let o=_(e).$implicit,r=c(2);return u(r._onSelect(t.item,t.isUserInput,o))}),T(1),h()}if(n&2){let e=l.$implicit,i=c(2);g("value",e.value),s(),A(i._getLabel(e))}}function ti(n,l){if(n&1){let e=S();p(0,"div",11,2),x("keydown",function(t){_(e);let o=c();return u(o._handleKeydown(t))}),y(2,$t,2,1,"div",12),y(3,Jt,5,9,"div",13),p(4,"div",14,3),ne(6),Ce(7,ei,2,2,"nx-dropdown-item",15,ve),h()()}if(n&2){let e=c();P("has-filter",e.showFilter())("nx-dropdown__panel--in-outline-field",e._isInOutlineField)("centered-checkmark",e.verticalAlignCheckmark()==="center"),g("dir",e.dir),s(2),M(e.label?2:-1),s(),M(e.showFilter()?3:-1),s(),P("keyboard-focused",e.openedByKeyboard),g("id",e.modalId),k("aria-activedescendant",e.activeId())("aria-multiselectable",e.isMultiSelect()),s(3),xe(e.options)}}function ii(n,l){n&1&&B(0,"nx-icon",2)}var ni=["selectAllCheckbox"],oi=["itemsList"],ri=["panelHeader"],li=["panelContent"],si=["selectAllCheckbox","option"];function ai(n,l){if(n&1&&(p(0,"div",12,3),T(2),h()),n&2){let e=c(2);s(2),U(" ",e._overlayLabel," ")}}function di(n,l){if(n&1){let e=S();p(0,"div",13)(1,"nx-multi-select-all",17,4),x("selectedAllChange",function(){_(e);let t=c(2);return u(t._onSelectAll())}),h()()}if(n&2){let e=c(2);k("aria-label",e._intl.selectAll),s(),g("label",e._intl.selectAll)("indeterminate",e._someSelected)("selected",e._allSelected)}}function ci(n,l){if(n&1){let e=S();p(0,"div",14)(1,"nx-formfield",18)(2,"input",19,5),Me("ngModelChange",function(t){_(e);let o=c(2);return ye(o._filterValue,t)||(o._filterValue=t),u(t)}),x("ngModelChange",function(t){_(e);let o=c(2);return u(o._onFilterChange(t))}),h(),p(4,"nx-icon",20),x("click",function(){_(e);let t=c(2);return u(t._clearFilter())}),h()()()}if(n&2){let e=c(2);s(2),we("ngModel",e._filterValue),g("placeholder",e.filterPlaceholder()),k("aria-expanded",e._isOpen)("aria-controls",e._comboboxId)("aria-labelledby",e._getAriaLabelledBy())("aria-activedescendant",e._getAriaActiveDescendant()),s(2),P("hidden",!e._filterValue.length)}}function pi(n,l){if(n&1){let e=S();p(0,"nx-multi-select-option",21,6),x("selectedChange",function(t){let o=_(e).$implicit,r=c(2);return u(r._onSelect(o,t))}),h()}if(n&2){let e=l.$implicit,i=l.$index,t=c(2);P("divider",t._divider===i),g("value",t._selectValue(e))("label",t._selectLabel(e))("selected",t._isOptionSelected(e))("disabled",t._isDisabled(e))("appearance",t._appearance)}}function hi(n,l){if(n&1){let e=S();p(0,"div",11,1),x("keydown",function(t){_(e);let o=c();return u(o._onKeydown(t))})("focusin",function(t){_(e);let o=c();return u(o._onFocusWithinOverlay(t))}),y(2,ai,3,1,"div",12),y(3,di,3,4,"div",13),y(4,ci,5,8,"div",14),p(5,"div",15,2),Ce(7,pi,2,7,"nx-multi-select-option",16,ve),h()()}if(n&2){let e=c();P("is-outline",e._isOutline)("keyboard-focused",e._focusOrigin()==="keyboard"),k("aria-owns",e._isOpen?e._comboboxId:null)("aria-labelledby",e._getAriaLabelledBy()),s(2),M(!e._isOutline&&e._overlayLabel?2:-1),s(),M(e._isOutline&&!e.disableSelectAll?3:-1),s(),M(e.filter?4:-1),s(),g("id",e._comboboxId),s(2),xe(e.listItems)}}var _i=(()=>{class n{constructor(e){this.templateRef=e}static{this.\u0275fac=function(i){return new(i||n)(d(tt))}}static{this.\u0275dir=fe({type:n,selectors:[["","nxClosedLabel",""]]})}}return n})(),he=class extends ae{constructor(){super(...arguments),this.ignoreItemTruncation=!1}};function ui(){return Error("Value must be an array in multiselect mode.")}function gi(n=0){return[{originX:"start",originY:"top",overlayX:"start",overlayY:"top",offsetY:n},{originX:"start",originY:"center",overlayX:"start",overlayY:"center"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}function mi(){return[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top",offsetY:8},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",offsetY:-8}]}function _e(n,l){return n==="outline"?mi():gi(l)}function It(n,l,e){let i=l.getBoundingClientRect(),t=n.getBoundingClientRect(),o=e?parseInt(getComputedStyle(e).paddingTop,10):0;return Math.round(i.top)-Math.round(t.top)-Math.round(o)}var Pt=(()=>{class n{constructor(){this.id=D(N).nextId("nx-dropdown-group"),this.label=v.required({})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=R({type:n,selectors:[["nx-dropdown-group"]],hostAttrs:["role","group"],hostVars:1,hostBindings:function(i,t){i&2&&k("aria-labelledby",t.id)},inputs:{label:[1,"label"]},ngContentSelectors:qe,decls:4,vars:2,consts:[[1,"nx-dropdown-results__group"],["role","presentation",1,"nx-dropdown-results__group-label"]],template:function(i,t){i&1&&(ie(),nt(0,"div",0)(1,"div",1),T(2),be(),ne(3),be()),i&2&&(s(),k("id",t.id),s(),A(t.label()))},styles:['[_nghost-%COMP%]{display:block}[_nghost-%COMP%]:not(:last-child)   .nx-dropdown-results__group[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]:not(:last-child)   .nx-dropdown-results__group[_ngcontent-%COMP%]:after{content:"";position:absolute;width:calc(100% - 64px);height:1px;margin:0 32px;background-color:var(--dropdown-group-divider);bottom:0;left:0}.nx-dropdown-results__group-label[_ngcontent-%COMP%]{font-size:var(--dropdown-group-label-font-size);line-height:var(--dropdown-group-label-line-height);font-weight:var(--dropdown-group-label-font-weight);letter-spacing:var(--dropdown-group-label-letter-spacing);padding:24px 32px 8px;color:var(--dropdown-group-label-color)}'],changeDetection:0})}}return n})(),Ke=class{constructor(l,e=!1){this.item=l,this.isUserInput=e}},pe=(()=>{class n{get label(){return this._mostRecentViewValue||this.viewValue}get id(){return this._id}set disabled(e){let i=V(e);this.disabled!==i&&(this._disabled=i,this._cdr.markForCheck())}get disabled(){return this._disabled}get selected(){return this._selected}get active(){return this._active}get multiselect(){return this._dropdown?.isMultiSelect()}constructor(e,i,t,o){this._dropdown=e,this.group=i,this._cdr=t,this._elementRef=o,this._hidden=!1,this._mostRecentViewValue="",this._id=D(N).nextId("nx-dropdown-item"),this._disabled=!1,this._selected=!1,this._destroyed=new F,this.onSelectionChange=new O,this._stateChanges=new F,this._dropdown.filterChanges.pipe(w(this._destroyed)).subscribe(r=>{this._showOrHideByFilter(r)}),this._dropdown._closedStream.pipe(w(this._destroyed)).subscribe(()=>{this._hidden=!1})}ngAfterViewChecked(){this._updateViewValue()}_updateViewValue(){if(this._selected){let e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stateChanges.complete()}_onClick(e){e.preventDefault(),e.stopPropagation(),this._selectViaInteraction()}_selectViaInteraction(){this.disabled||(this._selected=this.multiselect?!this._selected:!0,this._updateViewValue(),this._cdr.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.multiselect?this.selected:null}show(){this._hidden=!1,this._cdr.markForCheck()}hide(){this._hidden=!0,this._cdr.markForCheck()}_showOrHideByFilter(e){let i=this._dropdown.filterFn(e,this.viewValue);this._hidden=!i,this._cdr.markForCheck()}get _formattedValue(){return this._dropdown.valueFormatter(this.value)}get viewValue(){return(this._elementRef.nativeElement.textContent||"").trim()}get elementRef(){return this._elementRef}select(){!this._selected&&!this.disabled&&(this._selected=!0,this._cdr.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._cdr.markForCheck(),this._emitSelectionChangeEvent())}_initSelected(e){this._selected=e,this._cdr.markForCheck()}focus(){this._elementRef.nativeElement.focus()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new Ke(this,e))}setActiveStyles(){this._active=!0,this._cdr.markForCheck()}setInactiveStyles(){this._active=!1,this._cdr.markForCheck()}getLabel(){return this.viewValue}_isContentEmpty(e){return e.children.length===0&&!e.textContent?.trim()}_onLabelChange(){this._cdr.detectChanges()}_getTabIndex(){return this.disabled?"-1":"0"}static{this.\u0275fac=function(i){return new(i||n)(d(he),d(Pt,8),d(z),d(E))}}static{this.\u0275cmp=R({type:n,selectors:[["nx-dropdown-item"]],viewQuery:function(i,t){if(i&1&&b(Ft,7),i&2){let o;m(o=f())&&(t.containerElement=o.first)}},hostAttrs:["role","option"],hostVars:14,hostBindings:function(i,t){i&1&&x("click",function(r){return t._onClick(r)}),i&2&&(te("id",t.id),k("tabindex",t._getTabIndex())("aria-disabled",t.disabled.toString())("aria-selected",t._getAriaSelected()),P("nx-hidden",t._hidden)("nx-dropdown-item--active",t.active)("nx-dropdown-item--disabled",t.disabled)("nx-selected",t.selected)("nx-multiselect",t.multiselect))},inputs:{value:"value",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"},ngContentSelectors:qe,decls:7,vars:6,consts:[["container",""],["contentTemplate",""],["content",""],[1,"nx-dropdown-results__option",3,"ngClass"],[3,"checked","disabled"],[1,"nx-dropdown-results__option-checkicon"],[4,"ngTemplateOutlet"],["name","check","aria-hidden","true"],[1,"nx-dropdown-results__option-label"],[3,"cdkObserveContent"]],template:function(i,t){i&1&&(ie(),p(0,"div",3,0),y(2,Et,2,3,"nx-checkbox",4),y(3,Rt,2,0,"span",5),y(4,Wt,1,1,"ng-container"),h(),L(5,zt,6,1,"ng-template",null,1,ke)),i&2&&(g("ngClass",ot(4,At,t.selected)),s(2),M(t.multiselect?2:-1),s(),M(t.multiselect?-1:3),s(),M(t.multiselect?-1:4))},dependencies:[st,ce,Be,Pe,j,X,$,dt],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]:focus{outline:none}.nx-hidden[_nghost-%COMP%]{display:none}nx-checkbox[_ngcontent-%COMP%]{margin-bottom:0}.nx-dropdown-results__option[_ngcontent-%COMP%]{font-size:var(--dropdown-item-font-size);line-height:var(--dropdown-item-line-height);font-weight:var(--dropdown-item-font-weight);letter-spacing:var(--dropdown-item-letter-spacing);padding-top:var(--dropdown-item-padding-top);padding-right:var(--dropdown-item-padding-right);padding-bottom:var(--dropdown-item-padding-bottom);padding-left:var(--dropdown-item-padding-left);cursor:pointer;position:relative;display:flex;max-width:100%;white-space:nowrap}[dir=rtl][_nghost-%COMP%]   .nx-dropdown-results__option[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .nx-dropdown-results__option[_ngcontent-%COMP%]{padding:var(--dropdown-item-padding-top) var(--dropdown-item-padding-left) var(--dropdown-item-padding-bottom) var(--dropdown-item-padding-right)}[_nghost-%COMP%]:not(.nx-dropdown-item--disabled)   .nx-dropdown-results__option[_ngcontent-%COMP%]:hover{background-color:var(--dropdown-item-hover-background-color)}[_nghost-%COMP%]:not(.nx-dropdown-item--disabled)   .nx-dropdown-results__option[_ngcontent-%COMP%]:active{background-color:var(--dropdown-item-active-background-color)}.nx-dropdown-results__option-label[_ngcontent-%COMP%]{padding:0 12px;margin:0 -12px;color:var(--dropdown-item-text-color);word-break:break-word}@media screen and (forced-colors:active){.nx-dropdown-results__option-label[_ngcontent-%COMP%]{forced-colors-adjust:none;color:buttonText;background-color:buttonFace;border-radius:4px}}.nx-dropdown-results__option-label[_ngcontent-%COMP%]{white-space:pre-line}.nx-multiselect[_nghost-%COMP%]   .nx-dropdown-results__option[_ngcontent-%COMP%]{display:block;padding-left:32px}[dir=rtl]   .nx-multiselect[_nghost-%COMP%]   .nx-dropdown-results__option[_ngcontent-%COMP%]{padding-right:32px}[_nghost-%COMP%]:not(.nx-dropdown-item--disabled):hover   .nx-dropdown-results__option-label[_ngcontent-%COMP%], .nx-selected[_nghost-%COMP%]:not(.nx-dropdown-item--disabled):hover   .nx-dropdown-results__option-label[_ngcontent-%COMP%], .nx-selected[_nghost-%COMP%]:not(.nx-dropdown-item--disabled):hover   .nx-dropdown-results__option-checkicon[_ngcontent-%COMP%]{color:var(--dropdown-item-hover-color)}.nx-selected[_nghost-%COMP%]   .nx-dropdown-results__option-checkicon[_ngcontent-%COMP%]{opacity:1}.nx-selected[_nghost-%COMP%]   .nx-dropdown-results__option-label[_ngcontent-%COMP%]{color:var(--dropdown-item-selected-color)}.nx-dropdown-results__option-checkicon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;opacity:0;margin-right:8px;height:var(--dropdown-item-line-height);color:var(--dropdown-item-checkmark-color)}.nx-dropdown-results__option-checkicon[_ngcontent-%COMP%]   nx-icon[_ngcontent-%COMP%]{font-size:20px}  .nx-dropdown__panel--in-outline-field .nx-dropdown-results__option-checkicon nx-icon{font-size:16px!important}.nx-dropdown-results__option-checkicon[_ngcontent-%COMP%]   nx-icon[_ngcontent-%COMP%]:has(svg){height:var(--dropdown-item-line-height)}[dir=rtl][_nghost-%COMP%]   .nx-dropdown-results__option-checkicon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .nx-dropdown-results__option-checkicon[_ngcontent-%COMP%]{margin-right:initial;margin-left:8px}.keyboard-focused   .nx-dropdown-item--active[_nghost-%COMP%]   .nx-dropdown-results__option[_ngcontent-%COMP%]   .nx-dropdown-results__option-label[_ngcontent-%COMP%]{border-radius:4px;box-shadow:var(--focus-box-shadow)}@media screen and (forced-colors:active),(forced-colors:active){.keyboard-focused   .nx-dropdown-item--active[_nghost-%COMP%]   .nx-dropdown-results__option[_ngcontent-%COMP%]   .nx-dropdown-results__option-label[_ngcontent-%COMP%]{box-shadow:0 0 0 2px background,0 0 0 6px CanvasText;outline:4px solid CanvasText;outline-offset:2px}}.nx-multiselect.nx-dropdown-item--active[_nghost-%COMP%]   .nx-dropdown-results__option[_ngcontent-%COMP%]   .nx-dropdown-results__option-label[_ngcontent-%COMP%]{box-shadow:none}@media screen and (forced-colors:active){.nx-multiselect.nx-dropdown-item--active[_nghost-%COMP%]   .nx-dropdown-results__option[_ngcontent-%COMP%]   .nx-dropdown-results__option-label[_ngcontent-%COMP%]{box-shadow:none}}.nx-multiselect.nx-dropdown-item--active[_nghost-%COMP%]     .nx-checkbox__label{border-radius:4px;box-shadow:var(--focus-box-shadow)}@media screen and (forced-colors:active),(forced-colors:active){.nx-multiselect.nx-dropdown-item--active[_nghost-%COMP%]     .nx-checkbox__label{box-shadow:0 0 0 2px background,0 0 0 6px CanvasText;outline:4px solid CanvasText;outline-offset:2px}}.nx-selected.nx-dropdown-item--active[_nghost-%COMP%]   .nx-dropdown-results__option-label[_ngcontent-%COMP%]{padding-left:24px;margin-left:-24px}[dir=rtl]   .nx-selected.nx-dropdown-item--active[_nghost-%COMP%]   .nx-dropdown-results__option-label[_ngcontent-%COMP%]{padding-left:initial;margin-left:initial;padding-right:24px;margin-right:-24px}[_nghost-%COMP%]     .nx-checkbox__label{padding:0 4px;margin:0 -4px}.nx-dropdown-item--disabled[_nghost-%COMP%]   .nx-dropdown-results__option[_ngcontent-%COMP%]{cursor:not-allowed}.nx-dropdown-item--disabled[_nghost-%COMP%]   .nx-dropdown-results__option-label[_ngcontent-%COMP%]{color:var(--dropdown-item-text-color-disabled)}@media screen and (forced-colors:active){[_nghost-%COMP%]:hover:not(.nx-dropdown-item--disabled)   .nx-dropdown-results__option-label[_ngcontent-%COMP%], .nx-dropdown-item--active[_nghost-%COMP%]:not(.nx-multiselect)   .nx-dropdown-results__option-label[_ngcontent-%COMP%]{color:highlightText;background-color:highlight;forced-color-adjust:none}.nx-dropdown-item--active[_nghost-%COMP%]:not(.nx-multiselect)   .nx-dropdown-results__option-checkicon[_ngcontent-%COMP%]{forced-color-adjust:none;color:highlightText;background:highlight;z-index:1}.nx-dropdown-item--disabled[_nghost-%COMP%]   .nx-dropdown-results__option-label[_ngcontent-%COMP%]{color:GrayText}}"],changeDetection:0})}}return n})(),fi=(()=>{class n{constructor(){this.changes=new F,this.selectAll="Select all",this.clearAll="Clear all"}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Xe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ge=class{constructor(l,e){this.source=l,this.value=e}},vi=new Ze("nx-dropdown-scroll-strategy",{providedIn:"root",factory:()=>{let n=D(ut);return()=>n.scrollStrategies.reposition()}});var Ci=(n,l)=>l.toLocaleLowerCase().includes(n.toLocaleLowerCase()),xi=(n,l)=>n===l,bi=n=>n==null?"":n.toString(),wi=(()=>{class n{set readonly(e){this._readonly=V(e),this.stateChanges.next()}get readonly(){return this._readonly}setReadonly(e){this.readonly=e}_setAriaLabelledBy(e){this._ariaLabelledSignal.set(e)}set options(e){this._options.next(e)}get options(){return this._options.value}set filterInputType(e){this._filterInputType=e}get filterInputType(){return this._filterInputType}set tabIndex(e){this._tabIndex=e??0}get tabIndex(){return this.disabled?-1:this._tabIndex}set value(e){e!==this._value&&(this.writeValue(e),this._value=e,this._onChange(e))}get value(){return this._value}set disabled(e){this._disabled=V(e)}get disabled(){return this._disabled}get id(){return this.renderedValueId}set required(e){this._required=V(e)}get required(){return this._required}set styles(e){this._style!==e&&(this._style=e,this._negative=!!this._style.match(/negative/))}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get placeholder(){return this._placeholder}set ignoreItemTruncation(e){this._ignoreItemTruncation=V(e),this._ignoreItemTruncation&&(this.ignoreItemTruncationWasSet=!0)}get ignoreItemTruncation(){return this._ignoreItemTruncation}get dropdownItems(){return this._isLazy?this._lazyDropdownItems:this._contentDropdownItems}get closedDropdownLabel(){return this._closedDropdownLabel}set panelOpen(e){this._panelOpen=e}get panelOpen(){return this._panelOpen}get label(){if(this._isInOutlineField)return"";let e=this.overlayLabel();return e||(this.formFieldComponent?.label()??"")}set panelMinWidth(e){this.panelMinWidthWasSet=!0,this._panelMinWidth=e}get panelMinWidth(){return this._panelMinWidth}set panelGrow(e){this.panelGrowWasSet=!0,this._panelGrow=e}get panelGrow(){return this._panelGrow}set valueFormatter(e){this.#e=e}get valueFormatter(){return this.#e??bi}#e;set compareWith(e){this.#t=e,this._selectionModel&&this._initializeSelection()}get compareWith(){return this.#t??xi}#t;set filterFn(e){this.#i=e}get filterFn(){return this.#i??Ci}#i;get focused(){return this._focused||this.panelOpen}get elementRef(){return this._elementRef}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}constructor(e,i,t,o,r,a,C,W,I,ue,Z,J){this._cdr=e,this._elementRef=i,this._ngZone=t,this.formFieldComponent=r,this._errorStateMatcher=a,this.ngControl=C,this._parentForm=W,this._parentFormGroup=I,this._dir=ue,this._defaultScrollStrategyFactory=Z,this.liveAnnouncer=J,this._readonly=!1,this.ariaLabelledBy=v(null,{}),this._ariaLabelledSignal=G(null,{}),this._getAriaLabelledBy=rt(()=>{let H=this._ariaLabelledSignal(),Dt=this.ariaLabelledBy();return H??Dt??this.formFieldComponent?.labelId??this.renderedValueId},{}),this.verticalAlignCheckmark=v("top",{}),this.renderedValueId=D(N).nextId("nx-dropdown-rendered"),this.modalId=D(N).nextId("nx-dropdown-modal"),this._focused=!1,this._panelOpen=!1,this.errorState=!1,this._tooltipText=G("",{}),this._overlayWidth="",this._overlayMinWidth="",this.controlType="nx-dropdown",this._overlayViewportMargin=this.dir==="rtl"?0:16,this._positions=_e("auto",0),this.stateChanges=new F,this._options=new Ue(null),this._filterInputType="text",this._tabIndex=0,this._disabled=!1,this.isMultiSelect=v(!1,{}),this._required=!1,this._style="",this._negative=!1,this._placeholder="",this._ignoreItemTruncation=!1,this.showFilter=v(!1,{}),this.filterPlaceholder=v("",{}),this.overlayLabel=v("",{}),this.overlayFallbackOrigin=v(void 0,{}),this.panelMaxWidth=v(void 0,{}),this.openedChange=new O,this.focusOut=new O,this.filterResultChange=new O,this._openedStream=this.openedChange.pipe(K(H=>H),Q(()=>{})),this._closedStream=this.openedChange.pipe(K(H=>!H),Q(()=>{})),this.filterChanges=new O,this.valueChange=new O,this.selectionChange=new O,this.filterValue="",this._destroyed=new F,this.panelMinWidthWasSet=!1,this.panelGrowWasSet=!1,this.ignoreItemTruncationWasSet=!1,this._scrollStrategyFactory=this._defaultScrollStrategyFactory,this._scrollStrategy=this._scrollStrategyFactory(),this._panelMinWidth="trigger",this._panelGrow=!1,this._onChange=()=>{},this._onTouched=()=>{},this.activeId=G(null,{}),this.openedByKeyboard=!0,this.ngControl&&(this.ngControl.valueAccessor=this),this.tabIndex=parseInt(o,10)||0}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnInit(){this._selectionModel=new xt(this.isMultiSelect())}ngAfterViewInit(){this._initKeyManager(),this._scheduleTooltipUpdate()}ngAfterContentInit(){this._closedDropdownLabel=this._customClosedDropdownLabel?.templateRef||this._defaultClosedDropdownLabel,this._selectionModel.changed.pipe(w(this._destroyed)).subscribe(e=>{e.added.forEach(({value:i})=>{this.dropdownItems.filter(t=>t.value===i).forEach(t=>t.select())}),e.removed.forEach(({value:i})=>{this.dropdownItems.filter(t=>t.value===i).forEach(t=>t.deselect())})}),this._isLazy?this._options.pipe(w(this._destroyed)).subscribe(()=>{this._initializeSelection()}):this.dropdownItems.changes.pipe(Ye(null),w(this._destroyed)).subscribe(()=>{this._subscribeToOptionChanges(),this._initializeSelection()})}ngOnDestroy(){this._tooltipUpdateTimeoutId&&(clearTimeout(this._tooltipUpdateTimeoutId),this._tooltipUpdateTimeoutId=null),this._destroyed.next(),this._destroyed.complete()}updateErrorState(){let e=this.errorState,i=this._parentFormGroup||this._parentForm,t=this.ngControl?this.ngControl.control:null,o=this._errorStateMatcher.isErrorState(t,i);o!==e&&(this.errorState=o,this.stateChanges.next())}_updateTooltipText(){if(!this.trigger)return;let[e,i]=this.trigger.nativeElement.children,{paddingLeft:t,paddingRight:o}=getComputedStyle(this.trigger.nativeElement),r=this.trigger.nativeElement.clientWidth-parseInt(t,10)-parseInt(o,10),a;r-i.offsetWidth<e.scrollWidth?a=this.triggerValue:a="",this._tooltipText()!==a&&this._tooltipText.set(a)}_initKeyManager(){this._keyManager=new Se(this.dropdownItems).withTypeAhead(500).withHomeAndEnd().withVerticalOrientation().withHorizontalOrientation("ltr").skipPredicate(e=>e._hidden||e.disabled),this._keyManager.tabOut.pipe(w(this._closedStream),w(this._destroyed)).subscribe(()=>{this.closePanel()}),this._keyManager.change.pipe(w(this._destroyed)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollActiveOptionIntoView():!this._panelOpen&&!this.isMultiSelect()&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.activeId.set(this._keyManager.activeItem?.id||null)})}_initActiveItem(){if(!this.isMultiSelect()&&this._selectionModel.selected[0]){let e=this.dropdownItems.find(i=>i.value===this._selectionModel.selected[0].value);e&&(this._keyManager.setActiveItem(e),this._scrollActiveOptionIntoCenter())}else this._keyManager.setFirstItemActive()}_subscribeToOptionChanges(){ge(...this.dropdownItems.map(e=>e.onSelectionChange)).pipe(w(this.dropdownItems.changes),w(this._destroyed)).subscribe(e=>{this._onSelect(e.item,e.isUserInput)}),ge(...this.dropdownItems.map(e=>e._stateChanges)).pipe(w(this.dropdownItems.changes),w(this._destroyed)).subscribe(()=>{Promise.resolve().then(()=>{this._panelOpen&&this._initActiveItem(),this._cdr.markForCheck(),this.stateChanges.next()})})}_onSelect(e,i,t){let o=this._selectionModel.isSelected(e),r=t||e,a=this.isMultiSelect();e.value===null&&!a?(e.deselect(),this._selectionModel.clear(),this._propagateChanges(r.value)):(e.selected?this._selectionModel.select(r):this._selectionModel.deselect(r),i&&this._keyManager?.setActiveItem(e),a&&this._sortValues());let C=this._selectionModel.isSelected(r);o!==C&&(this._propagateChanges(),this._tooltipText.set(""),this._scheduleTooltipUpdate()),this.stateChanges.next(),i&&!a&&this._panelOpen&&this.closePanel()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value)})}_setSelectionByValue(e){if(this._selectionModel){if(this._selectionModel.clear(),this.isMultiSelect()&&e){if(!Array.isArray(e))throw ui();e.forEach(i=>this._selectValue(i)),this._sortValues()}else this._selectValue(e);this._cdr.markForCheck(),this._scheduleTooltipUpdate()}}_selectValue(e){let i=r=>{try{return r.value!==null&&this.compareWith(r.value,e)}catch(a){return lt()&&console.warn(a),!1}},o=(this._isLazy?this.options:this.dropdownItems.toArray()).find(i);o&&this._selectionModel.select(o)}_propagateChanges(e){let i=null;if(this.isMultiSelect())i=this._selectionModel.selected.map(t=>t.value);else{let t=this._selectionModel.selected[0];i=t?t.value:e}this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(new Ge(this,i)),this._cdr.markForCheck()}_sortValues(){if(this.isMultiSelect()){let e=this._isLazy?this.options:this.dropdownItems.toArray();this._selectionModel.sort((i,t)=>e.findIndex(o=>o.value===i.value)-e.findIndex(o=>o.value===t.value)),this.stateChanges.next()}}_updatePosition(){if(this.formFieldComponent){let e=this.overlayDir.overlayRef.overlayElement.querySelector(".nx-dropdown__panel-header"),i=It(this._elementRef.nativeElement,this.formFieldComponent.elementRef.nativeElement,e);this._positions=_e(this.formFieldComponent.appearance,i)}}focus(){this._elementRef.nativeElement.focus()}get overlayOrigin(){let e=this.overlayFallbackOrigin();return e?e.elementRef:this.formFieldComponent?this.formFieldComponent.getConnectedOverlayOrigin():this.fallbackOrigin}openPanel(e){this.disabled||this.readonly||!(this.dropdownItems?.length||this.options?.length)||this._panelOpen||(e.preventDefault(),this._panelOpen=!0,setTimeout(()=>{this._selectionModel.selected.forEach(i=>{let t=this.dropdownItems.find(o=>o.value===i.value);t&&t._initSelected(!0)}),this._initActiveItem(),this._cdr.markForCheck()}),(this.panelMinWidthWasSet&&!this.panelGrowWasSet||this.ignoreItemTruncationWasSet&&!this.panelGrowWasSet)&&(this.panelGrow=!0),this.getOverlayWidth(),this._cdr.markForCheck())}getOverlayWidth(){let e=this.overlayOrigin,t=(e instanceof le?e.elementRef:e).nativeElement.getBoundingClientRect().width;this.panelGrow?this._overlayMinWidth=t:this.panelGrow||(this._overlayWidth=t)}closePanel(){this._panelOpen&&(this._panelOpen=!1,this._cdr.markForCheck(),this._onTouched(),this.openedChange.emit(!1),this._ngZone.runOutsideAngular(()=>{setTimeout(()=>this.focus())}))}_scrollActiveOptionIntoCenter(){if(this.panelBody&&(this.panelBody.nativeElement.scrollTop=0,!this.empty)){let e=this._getItemOffset(this._keyManager.activeItem),i=this.panelBody.nativeElement.offsetHeight,o=this.panelBody.nativeElement.getBoundingClientRect().top+i/2;e>o&&(this.panelBody.nativeElement.scrollTop=e-o)}}_scrollActiveOptionIntoView(){if(!this.panelBody||!this.panelOpen||!this._keyManager.activeItem)return;this._keyManager.activeItem.containerElement.nativeElement.scrollIntoView({block:"nearest"})}_getItemOffset(e){if(!e)return 0;let i=e.containerElement.nativeElement.getBoundingClientRect();return i.top+i.height/2}setDescribedByIds(e){this.ariaDescribedby=e.join(" ")}setAriaLabel(e){return e}get _isInOutlineField(){return this.formFieldComponent!==null&&this.formFieldComponent.appearance==="outline"}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}get hasValue(){return this._selectionModel.hasValue()}get shouldLabelFloat(){return this.focused||!this.empty||!!(this.placeholder&&this.placeholder.length>0)}writeValue(e){Promise.resolve().then(()=>{this._setSelectionByValue(e)})}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._cdr.markForCheck(),this.stateChanges.next()}_handleKeydown(e){this.openedByKeyboard=!0,this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e)}get _isLazy(){return Array.isArray(this.options)}setNextItemActive(){let e=this._isLazy?this.options:this.dropdownItems.toArray(),i=e.indexOf(this._selectionModel.selected[0]);for(i++;i<e.length;i++)if(this._isSelectable(e[i],this._isLazy)){this._selectionModel.select(e[i]),this.liveAnnouncer.announce(e[i].label||""),this._propagateChanges();return}}setPreviousItemActive(){let e=this._isLazy?this.options:this.dropdownItems.toArray(),i=e.indexOf(this._selectionModel.selected[0]);for(i--;i>=0;i--)if(this._isSelectable(e[i],this._isLazy)){this._selectionModel.select(e[i]),this.liveAnnouncer.announce(e[i].label||""),this._propagateChanges();return}}_isSelectable(e,i){return i||e&&!e?.disabled&&!e.selected}_handleClosedKeydown(e){if(this.disabled||this.readonly)return;let i=e.keyCode,t=e.key.length===1&&!e.ctrlKey&&!e.metaKey&&!e.altKey,o=i===40||i===38||i===37||i===39,r=i===13||i===32,a=this.isMultiSelect();if(r||(a||e.altKey)&&o)e.preventDefault(),this.openPanel(e);else if(!a)switch(i){case 40:case 38:this.openPanel(e),e.preventDefault();break;case 36:this.openPanel(e),setTimeout(()=>{this._keyManager.setFirstItemActive(),this._cdr.markForCheck()}),e.preventDefault();break;case 35:this.openPanel(e),setTimeout(()=>{this._keyManager.setLastItemActive(),this._cdr.markForCheck()}),e.preventDefault();break;default:t&&(this.openPanel(e),setTimeout(()=>{this.showFilter()?(this.filterValue=e.key,this._onFilter(e.key)):this._keyManager.onKeydown(e)}))}}_handleOpenKeydown(e){let i=e.keyCode,t=this.showFilter();if(![40,38,36,35,13,37,39,16,32,9].includes(i)&&t)return;let o=i===40||i===38,r=i===37||i===39,a=i===36||i===35,C=this._keyManager,W=this.dropdownItems.map(I=>I._hidden).every(I=>!!I);if(!((r||a)&&t))if(a)e.preventDefault(),i===36?C.setFirstItemActive():C.setLastItemActive();else if(o&&e.altKey)e.preventDefault(),this.closePanel();else if(i===13&&C.activeItem&&!W)e.preventDefault(),C.activeItem._selectViaInteraction();else if(i===13&&W)e.preventDefault(),this.closePanel();else if(!t&&i===32&&C.activeItem)e.preventDefault(),C.activeItem._selectViaInteraction();else if(i===9)this.closePanel();else{let I=C.activeItemIndex;C.onKeydown(e),this.isMultiSelect()&&o&&e.shiftKey&&C.activeItem&&C.activeItemIndex!==I&&C.activeItem._selectViaInteraction()}}formatValue(e){return this.valueFormatter(e)}_onFilter(e){this.filterChanges.next(e),this.dropdownItems.toArray().every(o=>o._hidden)?this._keyManager.setActiveItem(null):this._keyManager.setFirstItemActive();let t=this.dropdownItems.filter(o=>!o._hidden);this.filterResultChange.next(t)}get triggerValue(){return this.empty?"":this.isMultiSelect()?this._selectionModel.selected.map(e=>this._getLabel(e)).join(", "):this._getLabel(this._selectionModel.selected[0])}_getLabel(e){return e.label||this.formatValue(e.value)}_onAttached(){this.overlayDir.positionChange.pipe(me(1)).subscribe(()=>{let e=this.overlayDir.overlayRef,i=e.getConfig().positionStrategy;e.updateSize({maxWidth:this.panelMaxWidth()}),this._updatePosition(),i.withPositions(this._positions),e.updatePosition(),this._cdr.markForCheck(),this.openedChange.emit(!0),this.showFilter()?this.filterInput?.nativeElement.focus():this.panelBody?.nativeElement.focus()})}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.filterInput&&this.showFilter()&&this._clearFilter(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._cdr.markForCheck(),this.focusOut.emit(!0),this.stateChanges.next())}get isFilterEmpty(){return this.filterValue.length===0}_clearFilter(){this.filterInput&&(this.filterValue="",this.filterChanges.next(""))}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_scheduleTooltipUpdate(){this._tooltipUpdateTimeoutId&&clearTimeout(this._tooltipUpdateTimeoutId),this._tooltipUpdateTimeoutId=setTimeout(()=>{this._tooltipUpdateTimeoutId=null,!this._destroyed.closed&&this._updateTooltipText()},0)}static{this.\u0275fac=function(i){return new(i||n)(d(z),d(E),d(Je),et("tabindex"),d(de,8),d(Te),d(Fe,10),d(Ne,8),d(Re,8),d(ht,8),d(vi),d(re))}}static{this.\u0275cmp=R({type:n,selectors:[["nx-dropdown"]],contentQueries:function(i,t,o){if(i&1&&(oe(o,_i,5),oe(o,pe,5),oe(o,Pt,4)),i&2){let r;m(r=f())&&(t._customClosedDropdownLabel=r.first),m(r=f())&&(t._contentDropdownItems=r),m(r=f())&&(t.groups=r)}},viewQuery:function(i,t){if(i&1&&(b(jt,5),b(Ht,5),b(Ot,7),b(Qt,5),b(kt,5),b(Y,7),b(Kt,7),b(pe,5)),i&2){let o;m(o=f())&&(t.panel=o.first),m(o=f())&&(t.panelBody=o.first),m(o=f())&&(t.trigger=o.first),m(o=f())&&(t.fallbackOrigin=o.first),m(o=f())&&(t.filterInput=o.first),m(o=f())&&(t.overlayDir=o.first),m(o=f())&&(t._defaultClosedDropdownLabel=o.first),m(o=f())&&(t._lazyDropdownItems=o)}},hostAttrs:["role","combobox","aria-haspopup","listbox"],hostVars:22,hostBindings:function(i,t){i&1&&x("keydown",function(r){return t._handleKeydown(r)})("focus",function(){return t._onFocus()})("blur",function(){return t._onBlur()})("click",function(r){return t.openedByKeyboard=!1,t.openPanel(r)}),i&2&&(k("aria-describedby",t.ariaDescribedby||null)("aria-required",t.required)("aria-labelledby",t._getAriaLabelledBy()||null)("aria-controls",t.modalId)("aria-invalid",t.errorState)("aria-expanded",t.panelOpen)("readonly",t.readonly||null)("disabled",t.disabled||null)("aria-disabled",t.disabled||t.readonly)("tabindex",t.tabIndex),P("nx-dropdown",!0)("is-filled",t.hasValue)("is-readonly",t.readonly)("has-focus",t.focused)("nx-dropdown--negative",t._negative)("nx-dropdown--disabled",t.disabled))},inputs:{readonly:"readonly",ariaLabelledBy:[1,"ariaLabelledBy"],verticalAlignCheckmark:[1,"verticalAlignCheckmark"],options:"options",filterInputType:"filterInputType",tabIndex:"tabIndex",value:"value",disabled:"disabled",isMultiSelect:[1,"isMultiSelect"],required:"required",styles:[0,"variant","styles"],placeholder:"placeholder",ignoreItemTruncation:"ignoreItemTruncation",showFilter:[1,"showFilter"],filterPlaceholder:[1,"filterPlaceholder"],overlayLabel:[1,"overlayLabel"],overlayFallbackOrigin:[1,"overlayFallbackOrigin"],panelMaxWidth:[1,"panelMaxWidth"],panelMinWidth:"panelMinWidth",panelGrow:[2,"panelGrow","panelGrow",Ie],valueFormatter:"valueFormatter",compareWith:"compareWith",filterFn:"filterFn"},outputs:{openedChange:"openedChange",focusOut:"focusOut",filterResultChange:"filterResult",_openedStream:"opened",_closedStream:"closed",filterChanges:"filterInput",valueChange:"valueChange",selectionChange:"selectionChange"},features:[Oe([{provide:he,useExisting:n},{provide:ae,useExisting:n},{provide:vt,useExisting:n}])],ngContentSelectors:qe,decls:11,vars:14,consts:[["fallbackOrigin","cdkOverlayOrigin","trigger",""],["defaultClosedDropdownLabel",""],["panel",""],["panelBody",""],["filterInput",""],["cdkOverlayOrigin","",1,"nx-dropdown__container",3,"nxTooltip","nxTooltipSelectable"],[1,"nx-dropdown__rendered",3,"id"],[1,"nx-dropdown__icon"],["name","chevron-down","aria-hidden","true",1,"nx-dropdown__chevron"],["cdkConnectedOverlay","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","cdkConnectedOverlayMinWidth","cdkConnectedOverlayFlexibleDimensions","cdkConnectedOverlayViewportMargin","cdkConnectedOverlayPush"],[4,"ngTemplateOutlet"],[1,"nx-dropdown__panel",3,"keydown","dir"],[1,"nx-dropdown__panel-header"],[1,"nx-dropdown__filter-wrap"],["tabindex","-1","role","listbox",1,"nx-dropdown__panel-body",3,"id"],[3,"value"],[1,"nx-dropdown__filter"],["role","combobox",1,"nx-dropdown__filter-input",3,"input","ngModelChange","type","ngModel","placeholder"],[1,"nx-dropdown__filter-icon"],[1,"nx-dropdown__filter-icon",3,"click"],["name","close"],[3,"onSelectionChange","value"]],template:function(i,t){if(i&1){let o=S();ie(),p(0,"div",5,0)(3,"div",6),y(4,Gt,2,1,"span"),y(5,Ut,1,1,"ng-container"),h(),p(6,"div",7),B(7,"nx-icon",8),h()(),L(8,Xt,1,1,"ng-template",null,1,ke)(10,ti,9,14,"ng-template",9),x("backdropClick",function(){return _(o),u(t.closePanel())})("attach",function(){return _(o),u(t._onAttached())})("detach",function(){return _(o),u(t.closePanel())})}i&2&&(g("nxTooltip",t._tooltipText())("nxTooltipSelectable",!0),s(3),g("id",t.renderedValueId),s(),M(t.empty&&t.placeholder?4:-1),s(),M(t.empty?-1:5),s(5),g("cdkConnectedOverlayScrollStrategy",t._scrollStrategy)("cdkConnectedOverlayOrigin",t.overlayOrigin)("cdkConnectedOverlayOpen",t.panelOpen)("cdkConnectedOverlayPositions",t._positions)("cdkConnectedOverlayWidth",t._overlayWidth)("cdkConnectedOverlayMinWidth",t._overlayMinWidth)("cdkConnectedOverlayFlexibleDimensions",!0)("cdkConnectedOverlayViewportMargin",t._overlayViewportMargin)("cdkConnectedOverlayPush",!1))},dependencies:[se,Ve,Ae,Ee,le,Pe,j,X,Y,_t,pe,$,De],styles:["[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]:focus{outline:none}.nx-dropdown--negative[_nghost-%COMP%]:focus{font-weight:600}.nx-dropdown--negative[_nghost-%COMP%]{color:var(--negative)}[aria-expanded=true][_nghost-%COMP%]   .nx-dropdown__chevron[_ngcontent-%COMP%]{transform:rotate(180deg)}.nx-dropdown__container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;height:100%;cursor:pointer;padding:0px var(--input-field-inset)}.nx-dropdown--disabled[_nghost-%COMP%]   .nx-dropdown__container[_ngcontent-%COMP%]{cursor:not-allowed}@media screen and (forced-colors:active){.nx-dropdown--disabled[_nghost-%COMP%]   .nx-dropdown__container[_ngcontent-%COMP%]   .nx-dropdown__icon[_ngcontent-%COMP%]{color:GrayText!important}}.nx-dropdown__rendered[_ngcontent-%COMP%]{flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.nx-dropdown__panel[_ngcontent-%COMP%]{box-shadow:var(--dropdown-panel-shadow);border-radius:var(--dropdown-panel-border-radius);overflow:hidden;min-width:100%}.nx-dropdown__panel[_ngcontent-%COMP%]     .nx-checkbox__label{font-size:var(--dropdown-item-font-size);line-height:var(--dropdown-item-line-height);font-weight:var(--dropdown-item-font-weight);letter-spacing:var(--dropdown-item-letter-spacing);display:flex;align-items:center}.nx-dropdown__panel[_ngcontent-%COMP%]:focus{outline:none}.nx-dropdown__panel.centered-checkmark[_ngcontent-%COMP%]     nx-dropdown-item .nx-dropdown-results__option{align-items:center}.nx-dropdown__panel--in-outline-field[_ngcontent-%COMP%]   .nx-dropdown__panel-body[_ngcontent-%COMP%]{padding-top:var(--dropdown-panel-padding-top);max-height:calc(6 * (var(--dropdown-item-outline-line-height) + var(--dropdown-item-padding-top) + var(--dropdown-item-padding-bottom)) + var(--dropdown-panel-padding-top) + var(--dropdown-panel-padding-bottom))}.nx-dropdown__panel--in-outline-field[_ngcontent-%COMP%]     .nx-dropdown-results__group-label{font-size:var(--formfield-outline-label-font-size);line-height:var(--formfield-outline-label-line-height);font-weight:var(--formfield-outline-label-font-weight);letter-spacing:var(--formfield-outline-label-letter-spacing);font-style:normal;font-weight:var(--dropdown-group-label-font-weight)}.nx-dropdown__panel--in-outline-field[_ngcontent-%COMP%]     nx-dropdown-item .nx-dropdown-results__option, .nx-dropdown__panel--in-outline-field[_ngcontent-%COMP%]     nx-dropdown-item .nx-dropdown-results__option-label{font-size:var(--dropdown-item-outline-font-size);line-height:var(--dropdown-item-outline-line-height);font-weight:var(--dropdown-item-outline-font-weight);letter-spacing:var(--dropdown-item-outline-letter-spacing)}.nx-dropdown__panel--in-outline-field[_ngcontent-%COMP%]     nx-dropdown-item .nx-dropdown-results__option-checkicon{height:var(--dropdown-item-outline-line-height)}.nx-dropdown__panel--in-outline-field[_ngcontent-%COMP%]     .nx-dropdown__filter-input{font-size:var(--formfield-outline-control-font-size);line-height:var(--formfield-outline-control-line-height);font-weight:var(--formfield-outline-control-font-weight);letter-spacing:var(--formfield-outline-control-letter-spacing)}.nx-dropdown__panel--in-outline-field[_ngcontent-%COMP%]     .nx-dropdown__filter-input:empty{font-weight:300}.nx-dropdown__icon[_ngcontent-%COMP%]{font-size:var(--dropdown-chevron-size);line-height:0}.nx-dropdown__chevron[_ngcontent-%COMP%]{vertical-align:middle}.nx-dropdown__panel-header[_ngcontent-%COMP%]{font-size:var(--formfield-label-font-size);line-height:var(--formfield-label-line-height);font-weight:var(--formfield-label-font-weight);letter-spacing:var(--formfield-label-letter-spacing);color:var(--dropdown-panel-header-text-color);background-color:var(--dropdown-panel-header-background-color);padding:8px 32px;border-top-left-radius:4px;border-top-right-radius:4px;z-index:1}.nx-dropdown__panel-body[_ngcontent-%COMP%]{background-color:var(--dropdown-panel-background-color);max-height:calc(6 * (var(--dropdown-item-line-height) + var(--dropdown-item-padding-top) + var(--dropdown-item-padding-bottom)) + var(--dropdown-panel-padding-top) + var(--dropdown-panel-padding-bottom));overflow-y:auto;outline:none;padding-top:var(--dropdown-panel-padding-top);padding-bottom:var(--dropdown-panel-padding-bottom)}.nx-dropdown__filter-wrap[_ngcontent-%COMP%]{padding-top:var(--dropdown-filter-wrap-padding-vertical);padding-bottom:var(--dropdown-filter-wrap-padding-vertical);padding-left:var(--dropdown-filter-wrap-padding-horizontal);padding-right:var(--dropdown-filter-wrap-padding-horizontal);background-color:var(--dropdown-panel-background-color)}.nx-dropdown__filter[_ngcontent-%COMP%]{padding-top:var(--dropdown-filter-input-padding-vertical);padding-right:var(--dropdown-filter-input-padding-horizon);padding-bottom:var(--dropdown-filter-input-padding-vertical);padding-left:var(--dropdown-filter-input-padding-horizon);border-radius:var(--dropdown-panel-border-radius);border:1px solid var(--dropdown-panel-filter-border-color);display:flex;align-items:center}[dir=rtl][_ngcontent-%COMP%]   .nx-dropdown__filter[_ngcontent-%COMP%]{padding:16px 32px 12px}.nx-dropdown__filter-input[_ngcontent-%COMP%]{flex-grow:1;margin-right:var(--dropdown-filter-gap);background-color:transparent;border:0;border-bottom:1px solid var(--dropdown-filter-input-border-color);font-size:var(--dropdown-item-font-size);line-height:var(--dropdown-item-line-height);font-weight:var(--dropdown-item-font-weight);letter-spacing:var(--dropdown-item-letter-spacing);color:var(--dropdown-filter-input-text-color);outline:none;width:100%}.nx-dropdown__filter-input[_ngcontent-%COMP%]::-ms-clear{display:none}.nx-dropdown__filter-input.is-filled[_ngcontent-%COMP%]:focus{color:var(--dropdown-filter-input-active-text-color)}.nx-dropdown__filter-input.is-filled[_ngcontent-%COMP%]:focus + .nx-dropdown__filter-icon[_ngcontent-%COMP%]{color:var(--dropdown-filter-input-active-text-color)}.nx-dropdown__filter-input[_ngcontent-%COMP%]:focus{border-color:var(--dropdown-filter-input-active-border-color)}[dir=rtl][_ngcontent-%COMP%]   .nx-dropdown__filter-input[_ngcontent-%COMP%]{padding:0 0 3px 24px}.nx-dropdown__filter-icon[_ngcontent-%COMP%]{height:24px}[dir=rtl][_ngcontent-%COMP%]   .nx-dropdown__filter-icon[_ngcontent-%COMP%]{left:32px;right:auto}.nx-dropdown__filter-icon[_ngcontent-%COMP%]   nx-icon[_ngcontent-%COMP%]{font-size:24px}.nx-dropdown__panel.has-filter[_ngcontent-%COMP%]     .nx-dropdown__panel-body{padding-top:var(--dropdown-panel-with-filter-padding-top)}.is-readonly[_nghost-%COMP%]   .nx-dropdown__icon[_ngcontent-%COMP%]{color:var(--formfield-disabled-text-color)}@media screen and (forced-colors:active){.is-readonly[_nghost-%COMP%]   .nx-dropdown__icon[_ngcontent-%COMP%]{color:GrayText!important}}.is-readonly[_nghost-%COMP%]   .nx-dropdown__container[_ngcontent-%COMP%]{cursor:default;color:var(--formfield-readonly-text-color)}@media screen and (forced-colors:active){.nx-dropdown__panel[_ngcontent-%COMP%]{box-shadow:0 0 0 1px CanvasText;border:1px solid CanvasText}.nx-dropdown__panel-header[_ngcontent-%COMP%]{border-bottom:1px solid CanvasText}.nx-dropdown__filter-input[_ngcontent-%COMP%]{border-bottom-color:buttonText}}"],changeDetection:0})}}return n})(),St=(()=>{class n{set indeterminate(e){this._indeterminate=e}get indeterminate(){return this._indeterminate}set active(e){this._active=e,this._cdr.markForCheck()}get active(){return this._active}constructor(e,i,t){this._cdr=e,this.elementRef=i,this.liveAnnouncer=t,this._active=!1,this.id=D(N).nextId("nx-multi-select-all"),this.value=v(void 0,{}),this.label=v("",{}),this._indeterminate=!1,this.selected=!1,this.disabled=!1,this.selectedAllChange=new O}setActiveStyles(){this.active=!0}setInactiveStyles(){this.active=!1}_onClick(e){e.preventDefault(),e.stopPropagation(),this._onSelect()}_onSelect(){this.disabled||(this.selectedAllChange.emit(this.selected),this.liveAnnouncer.announce(`${this.label()} ${this.selected?"selected":"unselected"}`))}selectViaInteraction(){this._onSelect(),this._cdr.markForCheck()}getLabel(){return this.label()}static{this.\u0275fac=function(i){return new(i||n)(d(z),d(E),d(re))}}static{this.\u0275cmp=R({type:n,selectors:[["nx-multi-select-all"]],hostAttrs:["role","option"],hostVars:3,hostBindings:function(i,t){i&1&&x("click",function(r){return t._onClick(r)}),i&2&&(te("id",t.id),k("aria-selected",t.selected||null)("aria-disabled",t.disabled||null))},inputs:{value:[1,"value"],label:[1,"label"],indeterminate:"indeterminate",selected:"selected",disabled:"disabled"},outputs:{selectedAllChange:"selectedAllChange"},decls:2,vars:7,consts:[[3,"indeterminate","checked"]],template:function(i,t){i&1&&(p(0,"nx-checkbox",0),T(1),h()),i&2&&(P("is-active",t.active)("is-selected",t.selected),g("indeterminate",t.indeterminate)("checked",t.selected),s(),U(" ",t.label(),`
`))},dependencies:[ce,Be],styles:[".nx-checkbox.is-active[_ngcontent-%COMP%]{border-radius:4px}.keyboard-focused[_nghost-%COMP%]   .nx-checkbox.is-active[_ngcontent-%COMP%], .keyboard-focused   [_nghost-%COMP%]   .nx-checkbox.is-active[_ngcontent-%COMP%]{box-shadow:var(--focus-box-shadow)}@media screen and (forced-colors:active),(forced-colors:active){.keyboard-focused[_nghost-%COMP%]   .nx-checkbox.is-active[_ngcontent-%COMP%], .keyboard-focused   [_nghost-%COMP%]   .nx-checkbox.is-active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px background,0 0 0 6px CanvasText;outline:4px solid CanvasText;outline-offset:2px}}"],changeDetection:0})}}return n})(),Tt=(()=>{class n{set active(e){this._active=e,this._cdr.markForCheck()}get active(){return this._active}constructor(e,i,t){this._cdr=e,this.elementRef=i,this.liveAnnouncer=t,this._active=!1,this.id=D(N).nextId("nx-multi-select-option"),this.appearance=v("auto",{}),this.value=v(void 0,{}),this.label=v("",{}),this.selected=!1,this.disabled=!1,this.selectedChange=new O}setActiveStyles(){this.active=!0}setInactiveStyles(){this.active=!1}_onClick(){this.disabled||(this.selected=!this.selected,this.selectedChange.emit(this.selected),this.liveAnnouncer.announce(`${this.label()} ${this.selected?"selected":"unselected"}`))}selectViaInteraction(){this._onClick(),this._cdr.markForCheck()}getLabel(){return this.label()}static{this.\u0275fac=function(i){return new(i||n)(d(z),d(E),d(re))}}static{this.\u0275cmp=R({type:n,selectors:[["nx-multi-select-option"]],hostAttrs:["role","option"],hostVars:5,hostBindings:function(i,t){i&1&&x("click",function(){return t._onClick()}),i&2&&(te("id",t.id),k("aria-selected",t.selected||null)("aria-disabled",t.disabled||null),P("is-outline",t.appearance()==="outline"))},inputs:{appearance:[1,"appearance"],value:[1,"value"],label:[1,"label"],selected:"selected",disabled:"disabled"},outputs:{selectedChange:"selectedChange"},decls:5,vars:8,consts:[[1,"nx-checkbox"],[1,"nx-checkbox__control"],["name","check","aria-hidden","true"],[1,"nx-checkbox__label"]],template:function(i,t){i&1&&(p(0,"div",0)(1,"span",1),y(2,ii,1,0,"nx-icon",2),h(),p(3,"span",3),T(4),h()()),i&2&&(P("is-active",t.active)("is-selected",t.selected)("is-disabled",t.disabled),s(2),M(t.selected?2:-1),s(2),U(" ",t.label()," "))},dependencies:[j,X],styles:["[_nghost-%COMP%]{display:flex;width:100%;line-height:var(--multi-select-item-line-height);padding:var(--multi-select-item-padding-vertical) var(--multi-select-item-padding-horizon)}[_nghost-%COMP%]:hover{background-color:var(--dropdown-item-hover-background-color)}[_nghost-%COMP%]:active{background-color:var(--dropdown-item-active-background-color)}.is-outline[_nghost-%COMP%]   .nx-checkbox[_ngcontent-%COMP%]{font-size:var(--checkbox-small-label-font-size);line-height:var(--checkbox-small-label-line-height);font-weight:var(--checkbox-small-label-font-weight);letter-spacing:var(--checkbox-small-label-letter-spacing)}.divider[_nghost-%COMP%]{border-bottom:1px solid var(--dropdown-group-divider);margin-bottom:16px;padding-bottom:21px}.divider.is-outline[_nghost-%COMP%]{margin-bottom:7px;padding-bottom:16px}.nx-checkbox[_ngcontent-%COMP%]{font-size:var(--checkbox-large-label-font-size);line-height:var(--checkbox-large-label-line-height);font-weight:var(--checkbox-large-label-font-weight);letter-spacing:var(--checkbox-large-label-letter-spacing);color:var(--checkbox-label-color);cursor:pointer;display:flex;align-items:flex-start}.nx-checkbox.is-active[_ngcontent-%COMP%]{border-radius:4px}.keyboard-focused[_nghost-%COMP%]   .nx-checkbox.is-active[_ngcontent-%COMP%], .keyboard-focused   [_nghost-%COMP%]   .nx-checkbox.is-active[_ngcontent-%COMP%]{box-shadow:var(--focus-box-shadow)}@media screen and (forced-colors:active),(forced-colors:active){.keyboard-focused[_nghost-%COMP%]   .nx-checkbox.is-active[_ngcontent-%COMP%], .keyboard-focused   [_nghost-%COMP%]   .nx-checkbox.is-active[_ngcontent-%COMP%]{box-shadow:0 0 0 2px background,0 0 0 6px CanvasText;outline:4px solid CanvasText;outline-offset:2px}}.nx-checkbox.is-disabled[_ngcontent-%COMP%]{cursor:not-allowed}.nx-checkbox.is-disabled[_ngcontent-%COMP%]   .nx-checkbox__control[_ngcontent-%COMP%]{background-color:var(--checkbox-disabled-background-color);border-color:var(--checkbox-disabled-border-color);color:var(--checkbox-disabled-icon-color)}.nx-checkbox.is-disabled[_ngcontent-%COMP%]   .nx-checkbox__label[_ngcontent-%COMP%]{color:var(--checkbox-label-disabled-color)}.nx-checkbox.is-selected[_ngcontent-%COMP%]   .nx-checkbox__control[_ngcontent-%COMP%]{background-color:var(--checkbox-selected-background-color);border-color:var(--checkbox-selected-border-color)}.nx-checkbox__control[_ngcontent-%COMP%]{background-color:var(--checkbox-background-color);border-style:solid;border-width:var(--checkbox-border-width);border-color:var(--checkbox-border-color);border-radius:var(--checkbox-border-radius);color:var(--checkbox-icon-color);font-size:var(--checkbox-icon-size);height:var(--checkbox-control-size);width:var(--checkbox-control-size);min-width:var(--checkbox-control-size);display:flex;justify-content:center;align-items:flex-start;z-index:0}.nx-checkbox__label[_ngcontent-%COMP%]{padding:0;margin-left:var(--checkbox-small-label-text-margin-left);word-break:break-word;hyphens:auto}[dir=rtl][_nghost-%COMP%]   .nx-checkbox__label[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .nx-checkbox__label[_ngcontent-%COMP%]{margin-left:initial;margin-right:var(--checkbox-small-label-text-margin-left)}"],changeDetection:0})}}return n})(),yi=260,Mi=(n,l)=>l.toLowerCase().includes(n.toLowerCase()),Oi=(()=>{class n{get value(){return this.options.filter(e=>this._isOptionSelected(e)).map(e=>this._selectValue(e))}get _isOutline(){return this._appearance==="outline"}get _appearance(){return this._formFieldComponent?.appearance}get _overlayLabel(){return this._formFieldComponent?.label()}get empty(){return this.selectedItems.size===0}get focused(){return this._isOpen||this._inputFocused}set required(e){this._required=e}get required(){return this._required}set disabled(e){this._disabled=e}get disabled(){return this._disabled}set readonly(e){this._readonly=V(e),this.stateChanges.next()}get readonly(){return this._readonly}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get placeholder(){return this._placeholder}set filter(e){this._filter=V(e)}get filter(){return this._filter}set disableSelectAll(e){let i=V(e);this.#e!==i&&(this.#e=i,this._cdr.markForCheck())}get disableSelectAll(){return this.#e}#e;set filterFn(e){this.#t=e}get filterFn(){return this.#t??Mi}#t;set tabIndex(e){this._tabIndex=e??0}get tabIndex(){return this.disabled?-1:this._tabIndex}get shouldLabelFloat(){return this.focused||!this.empty||!!(this.placeholder&&this.placeholder.length>0)}get elementRef(){return this._elementRef}get _allSelected(){return this.selectedItems.size===this.options.filter(e=>!this._isDisabled(e)).length}get _someSelected(){return this.selectedItems.size>0&&!this._allSelected}get _isActiveItemFiltered(){return typeof this._keyManager.activeItem<"u"&&!this.listItems.some(e=>this._selectValue(e)===this._keyManager.activeItem?.value)}set options(e){this._option=e,this.writeValue(this.ngControl?.value)}get options(){return this._option}constructor(e,i,t,o,r,a,C,W){this._intl=e,this._elementRef=i,this._errorStateMatcher=t,this._cdr=o,this._formFieldComponent=r,this.ngControl=a,this._parentForm=C,this._parentFormGroup=W,this._required=!1,this._disabled=!1,this._readonly=!1,this._placeholder="",this._filter=!1,this.#e=!1,this._tabIndex=0,this.openedChange=new O,this._openedStream=this.openedChange.pipe(K(I=>I),Q(()=>{})),this._closedStream=this.openedChange.pipe(K(I=>!I),Q(()=>{})),this._openedBy="mouse",this._divider=0,this.selectionChange=new O,this.focusOut=new O,this.filterChanges=new O,this.controlType="nx-multi-select",this.errorState=!1,this._positions=_e("auto",0),this._inputFocused=!1,this._ariaDescribedby="",this._width="",this._minWidth="",this._filterValue="",this._tooltipText="",this.listItems=[],this.selectedItems=new Set,this.id=D(N).nextId("nx-multi-select"),this._comboboxId=`${this.id}-combobox`,this.stateChanges=new F,this._focusOrigin=G(null,{}),this._overlayViewportMargin=16,this._option=[],this.filterPlaceholder=v("Type to filter",{}),this.selectValue=v("",{}),this.selectLabel=v("",{}),this.selectDisabled=v(void 0,{}),this.panelGrow=v(!1,{transform:Ie}),this.panelMaxWidth=v(void 0,{}),this._isOpen=!1,this._destroyed=new F,this._onChange=()=>{},this._onTouched=()=>{},this.sortSelectedToTop=(I,ue)=>{let Z=this._isOptionSelected(I),J=this._isOptionSelected(ue);return Z&&!J?-1:!Z&&J?1:0},this.ngControl&&(this.ngControl.valueAccessor=this),this._isDisabled=this._isDisabled.bind(this),e.changes.pipe(w(this._destroyed)).subscribe(()=>o.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}setDisabledState(e){this.disabled=e,this._cdr.markForCheck(),this.stateChanges.next()}_selectValue(e){let i=this.selectValue();return i?typeof i=="string"?e[i]:i(e):e}_selectLabel(e){let i=this.selectLabel();return i?typeof i=="string"?String(e[i]):i(e):String(this._selectValue(e))}_updatePositions(){if(this._formFieldComponent){let e=It(this._elementRef.nativeElement,this._formFieldComponent.elementRef.nativeElement,this._panelHeader?.nativeElement);this._positions=_e(this._appearance,e)}}_isDisabled(e){let i=this.selectDisabled();return typeof i=="string"?e[i]:typeof i=="function"?i(e):!1}_getAriaLabelledBy(e=this.id){let i=this._formFieldComponent?.labelId;return i?`${e} ${i}`:e}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}ngAfterViewInit(){this._initKeyManager()}open(e,i){this._open(e,i)}_open(e,i){this._focusOrigin.set(i),!(this._isOpen||this.disabled||this.readonly)&&(this._formFieldComponent?.elementRef.nativeElement.getBoundingClientRect().width===window.innerWidth&&(this._overlayViewportMargin=0),e.preventDefault(),this._filterValue="",this.getOverlayWidth(),this._isOpen=!0,this.listItems=this.options.slice().sort(this.sortSelectedToTop),this._divider=this.selectedItems.size-1,this._openedBy=i,this._cdr.markForCheck())}getOverlayWidth(){let e=Math.max(yi,this._trigger?.nativeElement.getBoundingClientRect().width),i=this.panelGrow();i?this._minWidth=e:i||(this._width=e)}_close(){this._isOpen&&(this._isOpen=!1,this.openedChange.emit(!1),this._updateTooltipText(),this._trigger?.nativeElement.focus())}_onSelect(e,i){i?this._addOptionToSelection(e):this._removeOptionFromSelection(e),this._onChange(this.value),this.selectionChange.emit(this.value)}_onKeydown(e){if(this.disabled||this.readonly)return;this._focusOrigin.set("keyboard");let i=e.altKey,t=e.ctrlKey,o=e.metaKey,r=e.key,a=r.length===1&&!t&&!o&&!i,C=r==="ArrowDown"||r==="ArrowUp"||r==="ArrowLeft"||r==="ArrowRight";this._filterInput&&e.target===this._filterInput.nativeElement&&a||(this._isOpen?((r==="ArrowUp"||r==="ArrowDown"||r==="Home"||r==="End")&&(this._keyManager.onKeydown(e),this._scrollActiveOptionIntoView(),e.preventDefault()),(window.navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&r==="a"&&(this._onSelectAll(),e.preventDefault()),r==="Tab"&&this._keyManager.onKeydown(e),(r==="Enter"||this._filterValue.trim()===""&&r===" ")&&(this._keyManager.activeItem?.selectViaInteraction(),e.preventDefault()),a&&this._keyManager.onKeydown(e)):((i&&C||C||r==="Home")&&(this._open(e,"keyboard"),e.preventDefault()),r==="End"&&(this._open(e,"keyboard"),setTimeout(()=>{this._keyManager.setLastItemActive(),this._cdr.markForCheck()}),e.preventDefault()),a&&(this._open(e,"keyboard"),this.filter?(this._filterValue=r,this._onFilterChange(r)):this._keyManager.onKeydown(e))))}_onTriggerBlur(){!this._isOpen&&!this.disabled&&!this.readonly&&(this._onTouched(),this.focusOut.emit(!0))}_onFocusWithinOverlay(e){this._filterInput&&e.target!==this._filterInput.nativeElement&&this._filterInput.nativeElement.focus()}_getAriaActiveDescendant(){return this._keyManager.activeItem?this._keyManager.activeItem.id:null}_onFilterChange(e){this.filterChanges.next(e),e?this.listItems=[...this.options].sort(this.sortSelectedToTop).filter(i=>this.filterFn(e,this._selectLabel(i))):this.listItems=[...this.options].sort(this.sortSelectedToTop).slice(),this._divider=this.listItems.filter(i=>this._isOptionSelected(i)).length-1,this._isActiveItemFiltered&&setTimeout(()=>{this._keyManager.setActiveItem(1)}),this._optionsList?.nativeElement.scrollTo(0,0)}_getValueText(){return this.options.filter(e=>this._isOptionSelected(e)).map(e=>this._selectLabel(e)).join(", ")}_onAttach(){this._overlayDir?.positionChange.pipe(me(1)).subscribe(()=>{let e=this._overlayDir.overlayRef,i=e.getConfig().positionStrategy;e.updateSize({maxWidth:this.panelMaxWidth()}),this._updatePositions(),i.withPositions(this._positions),e.updatePosition(),this.filter?this._filterInput?.nativeElement.focus():this._panelContent?.nativeElement.focus(),this._selectAll&&this.selectedItems.size>0?this._keyManager.setActiveItem(1):this._keyManager.setFirstItemActive(),this._scrollActiveOptionIntoView(),this.openedChange.emit(!0),this._cdr.markForCheck()})}_onDetach(){this._close()}_onSelectAll(){if(this._filterValue){let e=this.listItems.filter(t=>!this._isDisabled(t));e.every(t=>this._isOptionSelected(t))?e.forEach(t=>this._removeOptionFromSelection(t)):e.forEach(t=>this._addOptionToSelection(t))}else this._allSelected?this.selectedItems.clear():this.listItems.filter(e=>!this._isDisabled(e)).forEach(e=>this._addOptionToSelection(e));this._onChange(this.value),this.selectionChange.emit(this.value)}_clear(){this.selectedItems.clear(),this._onChange(this.value),this.selectionChange.emit(this.value)}_clearFilter(){this._filterValue="",this._onFilterChange(this._filterValue)}writeValue(e){setTimeout(()=>{if(this.selectedItems.clear(),Array.isArray(e))for(let i of e){let t=this.options.find(o=>this._selectValue(o)===i);t?this._addOptionToSelection(t):console.warn("NxMultiSelect: Model contains value that does not exist in given options",i)}this._updateTooltipText(),this._cdr.markForCheck()})}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}ngDoCheck(){this.ngControl&&this.updateErrorState()}updateErrorState(){let e=this.errorState,i=this._parentFormGroup||this._parentForm,t=this.ngControl?this.ngControl.control:null,o=this._errorStateMatcher.isErrorState(t,i);o!==e&&(this.errorState=o,this.stateChanges.next())}_updateTooltipText(){if(!this._trigger)return;let[e,i,t]=this._trigger.nativeElement.children,{paddingLeft:o,paddingRight:r}=getComputedStyle(this._trigger.nativeElement);this._trigger.nativeElement.clientWidth-parseInt(o,10)-parseInt(r,10)-i.offsetWidth-t.offsetWidth<e.scrollWidth?this._tooltipText=this._getValueText():this._tooltipText=""}_scrollActiveOptionIntoView(){if(!this._keyManager.activeItem)return;let e=this._keyManager.activeItem.elementRef.nativeElement,i=this._optionsList?.nativeElement,t=i.scrollTop,o=i.clientHeight,r=e.offsetTop,a=e.offsetTop+e.offsetHeight;r<t?i.scrollTop=r:a>t+o&&(i.scrollTop=a-o)}_initKeyManager(){this._keyManager=new Se(this._options).withTypeAhead(500).withHomeAndEnd().withVerticalOrientation().withHorizontalOrientation("ltr").skipPredicate(e=>e?.disabled),this._keyManager.tabOut.pipe(w(this._destroyed)).subscribe(()=>this._close()),this._keyManager.change.pipe(w(this._destroyed)).subscribe(()=>{this._scrollActiveOptionIntoView()})}_addOptionToSelection(e){this.selectedItems.add(this._selectValue(e))}_removeOptionFromSelection(e){this.selectedItems.delete(this._selectValue(e))}_isOptionSelected(e){return this.selectedItems.has(this._selectValue(e))}static{this.\u0275fac=function(i){return new(i||n)(d(fi),d(E),d(Te),d(z),d(de,8),d(Fe,10),d(Ne,8),d(Re,8))}}static{this.\u0275cmp=R({type:n,selectors:[["nx-multi-select"]],viewQuery:function(i,t){if(i&1&&(b(ni,5),b(Ot,5),b(kt,5),b(oi,5),b(ri,5),b(li,5),b(Y,7),b(si,5)),i&2){let o;m(o=f())&&(t._selectAll=o.first),m(o=f())&&(t._trigger=o.first),m(o=f())&&(t._filterInput=o.first),m(o=f())&&(t._optionsList=o.first),m(o=f())&&(t._panelHeader=o.first),m(o=f())&&(t._panelContent=o.first),m(o=f())&&(t._overlayDir=o.first),m(o=f())&&(t._options=o)}},hostVars:5,hostBindings:function(i,t){i&2&&(k("readonly",t.readonly||null),P("is-readonly",t.readonly)("is-open",t._isOpen))},inputs:{required:"required",disabled:"disabled",readonly:"readonly",placeholder:"placeholder",filter:"filter",disableSelectAll:"disableSelectAll",filterFn:"filterFn",tabIndex:"tabIndex",options:"options",filterPlaceholder:[1,"filterPlaceholder"],selectValue:[1,"selectValue"],selectLabel:[1,"selectLabel"],selectDisabled:[1,"selectDisabled"],panelGrow:[1,"panelGrow"],panelMaxWidth:[1,"panelMaxWidth"]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",focusOut:"focusOut",filterChanges:"filterInput"},features:[Oe([{provide:ae,useExisting:n}])],decls:9,vars:21,consts:[["trigger","","origin","cdkOverlayOrigin"],["panelContent",""],["itemsList",""],["panelHeader",""],["selectAllCheckbox",""],["filterInput",""],["option",""],["cdkOverlayOrigin","","role","combobox","aria-haspopup","listbox",1,"value",3,"click","keydown.enter","keydown.space","blur","focus","keydown","nxTooltip","nxTooltipSelectable","id"],[1,"value-text"],["size","s","aria-hidden","true","name","chevron-down",1,"indicator"],["cdkConnectedOverlay","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"overlayOutsideClick","attach","detach","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayFlexibleDimensions","cdkConnectedOverlayViewportMargin","cdkConnectedOverlayPush"],["tabindex","-1",1,"panel",3,"keydown","focusin"],[1,"panel-header"],["role","listbox",1,"item","actions","select-all"],[1,"filter-wrapper"],["role","listbox","aria-multiselectable","true",1,"items",3,"id"],[1,"item",3,"divider","value","label","selected","disabled","appearance"],[3,"selectedAllChange","label","indeterminate","selected"],["appearance","auto",1,"filter"],["nxInput","","autocomplete","off","role","combobox",3,"ngModelChange","ngModel","placeholder"],["aria-hidden","true","nxFormfieldSuffix","","name","close",1,"clear",3,"click"],[1,"item",3,"selectedChange","value","label","selected","disabled","appearance"]],template:function(i,t){if(i&1){let o=S();p(0,"div",7,0),x("click",function(a){return _(o),u(t._open(a,"mouse"))})("keydown.enter",function(a){return _(o),u(t._open(a,"keyboard"))})("keydown.space",function(a){return _(o),u(t._open(a,"keyboard"))})("blur",function(){return _(o),t._onTriggerBlur(),u(t._inputFocused=!1)})("focus",function(){return _(o),u(t.disabled?null:t._inputFocused=!0)})("keydown",function(a){return _(o),u(t._onKeydown(a))}),p(3,"span",8),T(4),h(),p(5,"span"),T(6),h(),B(7,"nx-icon",9),h(),L(8,hi,9,10,"ng-template",10),x("overlayOutsideClick",function(){return _(o),u(t._close())})("attach",function(){return _(o),u(t._onAttach())})("detach",function(){return _(o),u(t._onDetach())})}if(i&2){let o=q(2);g("nxTooltip",t._tooltipText)("nxTooltipSelectable",!0)("id",t.id),k("tabindex",t.tabIndex)("aria-controls",t._comboboxId)("aria-expanded",t._isOpen)("aria-labelledby",t._getAriaLabelledBy(""))("aria-describedby",t._ariaDescribedby||null)("aria-invalid",t.errorState)("disabled",t.disabled||null)("aria-disabled",t.disabled||t.readonly),s(4),A(t.empty?t.placeholder:t._getValueText()),s(2),A(t.selectedItems.size?"("+t.selectedItems.size+")":""),s(2),g("cdkConnectedOverlayPositions",t._positions)("cdkConnectedOverlayWidth",t._width)("cdkConnectedOverlayMinWidth",t._minWidth)("cdkConnectedOverlayOrigin",o)("cdkConnectedOverlayOpen",t._isOpen)("cdkConnectedOverlayFlexibleDimensions",!0)("cdkConnectedOverlayViewportMargin",t._overlayViewportMargin)("cdkConnectedOverlayPush",!1)}},dependencies:[le,$,De,j,X,Y,St,Le,de,ft,We,Ct,se,Ve,Ae,Ee,Tt],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}.panel[_ngcontent-%COMP%]{width:100%;box-shadow:var(--dropdown-panel-shadow);border-radius:var(--dropdown-panel-border-radius);background:var(--ui-01);display:flex;flex-direction:column}.panel[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{--formfield-label-height: 6px;--formfield-bottom-padding: 4px}.panel.is-outline[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{--formfield-label-height: 8px;--formfield-bottom-padding: 3px}.panel.is-outline[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{padding-bottom:8px;max-height:200px}.panel[_ngcontent-%COMP%]:focus{outline:none}.value[_ngcontent-%COMP%]{display:grid;align-items:center;width:100%;height:100%;max-width:100%;grid-template-columns:auto min-content min-content;cursor:pointer}.value[_ngcontent-%COMP%]:focus{outline:none}.value[_ngcontent-%COMP%]::-moz-focus-inner{border:0}.nx-formfield.is-disabled[_nghost-%COMP%]   .value[_ngcontent-%COMP%], .nx-formfield.is-disabled   [_nghost-%COMP%]   .value[_ngcontent-%COMP%]{cursor:not-allowed}.is-readonly[_nghost-%COMP%]   .indicator[_ngcontent-%COMP%]{color:var(--formfield-disabled-text-color)}@media screen and (forced-colors:active){.is-readonly[_nghost-%COMP%]   .indicator[_ngcontent-%COMP%]{color:GrayText!important}}.is-readonly[_nghost-%COMP%]   .value[_ngcontent-%COMP%]{cursor:not-allowed}.is-readonly[_nghost-%COMP%]   .value-text[_ngcontent-%COMP%]{color:var(--formfield-readonly-text-color)}.value-text[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-right:8px}.panel-header[_ngcontent-%COMP%]{font-size:var(--formfield-label-font-size);line-height:var(--formfield-label-line-height);font-weight:var(--formfield-label-font-weight);letter-spacing:var(--formfield-label-letter-spacing);color:var(--dropdown-panel-header-text-color);background-color:var(--dropdown-panel-header-background-color);padding:8px 32px;border-top-left-radius:4px;border-top-right-radius:4px}.label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){font-weight:600;margin-left:auto;padding-right:12px;flex:0 0 auto}.indicator[_ngcontent-%COMP%]{font-size:var(--dropdown-chevron-size);transform:rotate(0)}.is-open[_nghost-%COMP%]   .indicator[_ngcontent-%COMP%]{transform:rotate(180deg)}.items[_ngcontent-%COMP%]{list-style:none;max-height:calc(6 * (var(--multi-select-item-line-height) + 2 * var(--multi-select-item-padding-vertical)) + 2 * var(--multi-select-panel-padding));overflow-y:auto;position:relative;padding:var(--multi-select-panel-padding) 0}.filter-wrapper[_ngcontent-%COMP%]{padding:8px 32px 0}.filter[_ngcontent-%COMP%]{width:100%}.border[_ngcontent-%COMP%]{padding-top:8px;margin-top:8px;border-top:1px solid lightgrey}.toggle[_ngcontent-%COMP%]{width:100%;display:block}.actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;white-space:nowrap;padding:var(--multi-select-action-padding-vertical) var(--multi-select-item-padding-horizon)}.select-all[_ngcontent-%COMP%]{border-bottom:1px solid var(--dropdown-group-divider)}.hidden[_ngcontent-%COMP%]{display:none}"],changeDetection:0})}}return n})(),xn=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=it({type:n})}static{this.\u0275inj=$e({imports:[at,Le,ce,gt,pt,j,ct,se,$,mt,We,wi,pe,Oi,Tt,St]})}}return n})(),bn=(()=>{class n{constructor(e){this.elementRef=e}handleFocus(){let e=this.elementRef.nativeElement;if(e&&e.select)e.select();else if(e&&document.createRange){let i=document.createRange();i.selectNodeContents(e);let t=window.getSelection();t&&(t.removeAllRanges(),t.addRange(i))}}static{this.\u0275fac=function(i){return new(i||n)(d(E))}}static{this.\u0275dir=fe({type:n,selectors:[["","selectOnFocus",""]],hostBindings:function(i,t){i&1&&x("focusin",function(){return t.handleFocus()})}})}}return n})();export{_i as a,Pt as b,pe as c,fi as d,vi as e,wi as f,Oi as g,xn as h,bn as i};
