import{Fa as b,aa as f,ea as d,hd as g,i as a,id as p,na as l,za as u}from"./chunk-ZUBEA7JB.js";function E(n){n||(n=l(u));let e=new a(t=>{if(n.destroyed){t.next();return}return n.onDestroy(t.next.bind(t))});return t=>t.pipe(f(e))}function U(n){let e=g(n);return new a(t=>{let s=e?.onDestroy(()=>t.complete()),i=n.subscribe(r=>t.next(r));return()=>{i.unsubscribe(),s?.()}})}function T(n,e){let s=!e?.manualCleanup?e?.injector?.get(u)??l(u):null,i=m(e?.equal),r;e?.requireSync?r=b({kind:0},{equal:i}):r=b({kind:1,value:e?.initialValue},{equal:i});let c,v=n.subscribe({next:o=>r.set({kind:1,value:o}),error:o=>{r.set({kind:2,error:o}),c?.()},complete:()=>{c?.()}});if(e?.requireSync&&r().kind===0)throw new d(601,!1);return c=s?.onDestroy(v.unsubscribe.bind(v)),p(()=>{let o=r();switch(o.kind){case 1:return o.value;case 2:throw o.error;case 0:throw new d(601,!1)}},{equal:e?.equal})}function m(n=Object.is){return(e,t)=>e.kind===1&&t.kind===1&&n(e.value,t.value)}export{E as a,U as b,T as c};
