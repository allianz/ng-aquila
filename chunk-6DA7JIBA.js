import{a as te,b as v,c as ne,d as oe,e as ie,f as re,g as le,h as ae,i as ce,j as de,k as se,l as pe,m as me,n as xe,o as he}from"./chunk-KGIVBRGD.js";import{a as Y,b as Z,c as ee}from"./chunk-5J2HL3EU.js";import{b as T,c as ue}from"./chunk-QUCFELOO.js";import"./chunk-GCLFQC76.js";import"./chunk-VJNTK4K4.js";import"./chunk-334NFAOD.js";import"./chunk-CGCQHMHL.js";import"./chunk-VV4CBK2G.js";import"./chunk-NWD76NQC.js";import{M as J,N as K,f as X,j as H}from"./chunk-MIQDUXHK.js";import{i as j,j as z,l as G}from"./chunk-HX3VF2ON.js";import{c as N,e as U}from"./chunk-M2DE53BR.js";import"./chunk-T6V2L5QF.js";import"./chunk-3CPUPH7K.js";import"./chunk-OPZB6HC2.js";import"./chunk-EOEWAY3L.js";import{A as g}from"./chunk-PVCVFPWW.js";import{Bc as b,Da as h,Dc as c,Ea as u,Gc as _,Ib as q,Kc as V,Lc as $,Mc as F,Oc as L,Pc as B,Qa as S,Qb as C,Qc as Q,Rb as W,Rc as x,Sb as R,Sc as E,Tc as w,Wb as p,fc as f,gc as l,hc as k,lc as P,na as O,qc as a,rc as s,sa as I,sc as m,wc as D,yb as r}from"./chunk-QFNFGJ3Y.js";function Ce(n,d){if(n&1&&m(0,"nx-icon",5),n&2){let e=c().$implicit;l("name",e.icon)}}function fe(n,d){if(n&1&&(a(0,"nx-tree-node")(1,"button",4),p(2,Ce,1,1,"nx-icon",5),x(3),s()()),n&2){let e=d.$implicit;r(),_("title",e.label),l("queryParams",e.query),r(),P(e.icon?2:-1),r(),w(" ",e.label," ")}}function ke(n,d){if(n&1&&m(0,"nx-icon",5),n&2){let e=c().$implicit;l("name",e.icon)}}function ge(n,d){if(n&1&&(a(0,"nx-tree-node")(1,"button",6),p(2,ke,1,1,"nx-icon",5),x(3),s()()),n&2){let e=d.$implicit,t=c();r(),_("title",e.label),l("expanded",t._treeControl.isExpanded(e)),r(),P(e.icon?2:-1),r(),w(" ",e.label," ")}}var A=(()=>{class n{constructor(){this.navigationData=[{label:"Option 1",icon:"user-o",children:[{label:"Option 1.1",query:{a:"1.1"}},{label:"Option 1.2",children:[{label:"Option 1.2.1",query:{a:"1.2.1"}},{label:"Option 1.2.2",query:{a:"1.2.2"}},{label:"Option 1.2.3",children:[{label:"Option 1.2.3.1",children:[{label:"Option 1.2.3.1.1",query:{a:"1.2.3.1.1"}}]}]}]},{label:"Option 1.3",query:{a:"1.3"}}]},{label:"Option 2",icon:"file",children:[{label:"Option 2.1",query:{a:"2.1"}},{label:"Option 2.2",query:{a:"2.2"}},{label:"Option 2.3",query:{a:"2.3"}}]},{label:"Option 3",icon:"file",query:{a:"3"}}],this._hasChild=(e,t)=>t.expandable,this._treeControl=new ce,this._dataSource=new ae(this._treeControl,this.navigationData)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=C({type:n,selectors:[["tree-example"]],decls:4,vars:3,consts:[[1,"container"],[3,"dataSource","treeControl"],[4,"nxTreeNodeDef"],[4,"nxTreeNodeDef","nxTreeNodeDefWhen"],["nxAction","","nxTreeNodeActionItem","","nxTreeNodePadding","","nxTreeNodePaddingOffset","40","routerLinkActive","is-selected","routerLink","./","type","button",3,"queryParams","title"],["nxActionIcon","",3,"name"],["nxAction","","nxTreeNodeActionItem","","nxTreeNodeToggle","","nxTreeNodePadding","","nxTreeNodePaddingOffset","40","expandable","","type","button",3,"expanded","title"]],template:function(t,o){t&1&&(a(0,"div",0)(1,"nx-tree",1),p(2,fe,4,4,"nx-tree-node",2)(3,ge,4,4,"nx-tree-node",3),s()()),t&2&&(r(),l("dataSource",o._dataSource)("treeControl",o._treeControl),r(2),l("nxTreeNodeDefWhen",o._hasChild))},dependencies:[xe,se,de,Z,le,pe,z,j,N,Y,me],encapsulation:2})}}return n})();function Ne(n,d){if(n&1){let e=D();a(0,"cdk-tree-node",4),b("activation",function(){let o=h(e).$implicit,i=c();return u(i.toggleNode(o))}),m(1,"button",5),a(2,"nx-checkbox",6),b("checkedChange",function(){let o=h(e).$implicit,i=c();return u(i.toggleNode(o))}),x(3),s()()}if(n&2){let e=d.$implicit,t=c();k("display",t.shouldRender(e)?"flex":"none"),l("isDisabled",!t.shouldRender(e)),f("aria-checked",t.checklistSelection.isSelected(e)),r(2),l("treeCheckboxNode",e)("treeCheckboxParentNode",t.getParentNode(e))("checked",t.checklistSelection.isSelected(e)),r(),E(e.name)}}function ve(n,d){if(n&1){let e=D();a(0,"cdk-tree-node",7),b("activation",function(){let o=h(e).$implicit,i=c();return u(i.toggleNode(o))}),a(1,"button",8),m(2,"nx-icon",9),s(),a(3,"nx-checkbox",10),b("checkedChange",function(){let o=h(e).$implicit,i=c();return u(i.toggleNode(o))}),x(4),s()()}if(n&2){let e=d.$implicit,t=c(),o=Q(1);k("display",t.shouldRender(e)?"flex":"none"),l("cdkTreeNodeTypeaheadLabel",e.name)("isDisabled",!t.shouldRender(e))("isExpandable",e.expandable),f("aria-checked",t.descendantsAllSelected(e)?!0:t.descendantsPartiallySelected(e)?"mixed":!1),r(),k("visibility",e.expandable?"visible":"hidden"),f("aria-label","Toggle "+e.name),r(),_("name",o.isExpanded(e)?"chevron-down":"chevron-right"),r(),l("treeCheckboxNode",e)("treeCheckboxParentNode",t.getParentNode(e))("checked",t.descendantsAllSelected(e))("indeterminate",t.descendantsPartiallySelected(e)),r(),E(e.name)}}var y=[{name:"Fruit",expandable:!0,level:0},{name:"Apple",expandable:!1,level:1},{name:"Banana",expandable:!1,level:1},{name:"Fruit loops",expandable:!1,level:1},{name:"Vegetables",expandable:!0,level:0},{name:"Green",expandable:!0,level:1},{name:"Broccoli",expandable:!1,level:2},{name:"Brussels sprouts",expandable:!1,level:2},{name:"Orange",expandable:!0,level:1},{name:"Pumpkins",expandable:!1,level:2},{name:"Carrots",expandable:!1,level:2}],M=(()=>{class n{constructor(){this.checkbox=I(T,{self:!0}),this.node=S(null,{alias:"treeCheckboxNode"}),this.parentNode=S(null,{alias:"treeCheckboxParentNode"})}ngAfterViewInit(){this.checkbox._nativeInput.nativeElement.setAttribute("tabindex","-1")}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=R({type:n,selectors:[["","treeCheckboxNode",""]],inputs:{node:[1,"treeCheckboxNode","node"],parentNode:[1,"treeCheckboxParentNode","parentNode"]}})}}return n})(),_e=(()=>{class n{constructor(){this.levelAccessor=e=>e.level,this.dataSource=new X(y),this.checklistSelection=new H(!0),this.treeCheckboxNodes=q(M),this.hasChild=(e,t)=>t.expandable}getParentNode(e){let t=y.indexOf(e);for(let o=t-1;o>=0;o--)if(y[o].level===e.level-1)return y[o];return null}shouldRender(e){let t=this.getParentNode(e);return!t||!!this.tree?.isExpanded(t)&&this.shouldRender(t)}toggleNode(e){this.checklistSelection.toggle(e);let t=this.checklistSelection.isSelected(e);this.setDescendants(e,t),this.checkAllParentsSelection(e)}setDescendants(e,t){this.getDescendants(e).forEach(i=>{t?this.checklistSelection.select(i):this.checklistSelection.deselect(i)})}checkAllParentsSelection(e){let t=this.getParentNode(e);for(;t;)this.toggleRootNodeSelection(t),t=this.getParentNode(t)}toggleRootNodeSelection(e){let t=this.checklistSelection.isSelected(e),o=this.descendantsAllSelected(e);t&&!o?this.checklistSelection.deselect(e):!t&&o&&this.checklistSelection.select(e)}getDescendants(e){let t=[];return this._getDescendants(t,e),t.splice(1)}_getDescendants(e,t){e.push(t),this.treeCheckboxNodes()?.filter(o=>o.parentNode()===t).forEach(o=>{e.push(o.node()),this._getDescendants(e,o.node())})}descendantsAllSelected(e){let t=this.getDescendants(e);return t.length>0&&t.every(i=>this.checklistSelection.isSelected(i))}descendantsPartiallySelected(e){return this.getDescendants(e).some(i=>this.checklistSelection.isSelected(i))&&!this.descendantsAllSelected(e)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=C({type:n,selectors:[["tree-with-checkboxes-example"]],viewQuery:function(t,o){if(t&1&&(L(o.treeCheckboxNodes,M,5),V(v,5)),t&2){B();let i;$(i=F())&&(o.tree=i.first)}},decls:4,vars:3,consts:[["tree",""],[3,"dataSource","levelAccessor"],["cdkTreeNodePadding","","class","example-tree-node",3,"display","isDisabled","activation",4,"cdkTreeNodeDef"],["cdkTreeNodePadding","","class","example-tree-node",3,"cdkTreeNodeTypeaheadLabel","display","isDisabled","isExpandable","activation",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],["cdkTreeNodePadding","",1,"example-tree-node",3,"activation","isDisabled"],["nxPlainButton","small","disabled","",1,"custom-toggle-button","empty"],["tabindex","-1",3,"checkedChange","treeCheckboxNode","treeCheckboxParentNode","checked"],["cdkTreeNodePadding","",1,"example-tree-node",3,"activation","cdkTreeNodeTypeaheadLabel","isDisabled","isExpandable"],["nxPlainButton","small","cdkTreeNodeToggle","",1,"custom-toggle-button"],[3,"name"],[3,"checkedChange","treeCheckboxNode","treeCheckboxParentNode","checked","indeterminate"]],template:function(t,o){t&1&&(a(0,"cdk-tree",1,0),p(2,Ne,4,8,"cdk-tree-node",2)(3,ve,5,15,"cdk-tree-node",3),s()),t&2&&(l("dataSource",o.dataSource)("levelAccessor",o.levelAccessor),r(3),l("cdkTreeNodeDefWhen",o.hasChild))},dependencies:[re,te,oe,ie,v,ne,g,ue,T,K,J,N,M],styles:[".custom-toggle-button[_ngcontent-%COMP%]{--plain-button-color: var(--text-01);--plain-button-hover-color: var(--plain-button-color);--plain-button-active-color: var(--plain-button-color);--plain-button-icon-size: 16px;width:32px;height:24px}.custom-toggle-button[disabled][_ngcontent-%COMP%]{cursor:initial}[_nghost-%COMP%]     .nx-plain-button__content-wrapper{height:100%;width:100%}cdk-tree-node[_ngcontent-%COMP%]{margin-bottom:16px;align-items:center}cdk-tree-node[_ngcontent-%COMP%]:focus-visible{outline:none}cdk-tree-node[_ngcontent-%COMP%]:focus-visible   nx-checkbox[_ngcontent-%COMP%]{border-radius:var(--checkbox-border-radius);box-shadow:var(--focus-box-shadow)}"]})}}return n})();var Te=[A],Ue=(()=>{class n{static components(){return{tree:A,"tree-with-checkboxes":_e}}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=W({type:n})}static{this.\u0275inj=O({imports:[he,U,ee,G,g,Te]})}}return n})();export{Ue as TreeExamplesModule};
