import{a as ei,b as ti,c as ii}from"./chunk-AUZTY5UJ.js";import{a as ze,b as Le,c as Xt}from"./chunk-YRJCSMVI.js";import{a as Jt,b as Xe}from"./chunk-JIRW7QWB.js";import{a as Kt}from"./chunk-CU6QA3SU.js";import{g as $t}from"./chunk-GWSGSN2Z.js";import{k as Wt}from"./chunk-7BUSPBH3.js";import"./chunk-AUMN5XKR.js";import"./chunk-GCLFQC76.js";import{a as Yt}from"./chunk-VFHNNEEO.js";import{a as jt,b as O,c as Gt,d as S,e as Qt}from"./chunk-VJNTK4K4.js";import{A as q,B as te,d as Y,f as Ot,g as L,h as j,i as K,j as Oe,k as X,l as pe,m as G,p as Q,s as ee,w as zt}from"./chunk-334NFAOD.js";import"./chunk-J5V4L6XK.js";import"./chunk-HMCFQG7B.js";import{c as Ht,d as V}from"./chunk-CGCQHMHL.js";import"./chunk-VV4CBK2G.js";import{a as Zt}from"./chunk-NWD76NQC.js";import{K as M,L as At,M as Rt,N as be}from"./chunk-MIQDUXHK.js";import"./chunk-HX3VF2ON.js";import{c as F,e as xe}from"./chunk-M2DE53BR.js";import{q as qt}from"./chunk-T6V2L5QF.js";import{a as Lt,b as T,d as D}from"./chunk-3CPUPH7K.js";import"./chunk-OPZB6HC2.js";import{a as ye,b as Ke}from"./chunk-EOEWAY3L.js";import{A as Pe,q as kt,w as se,y as Pt}from"./chunk-PVCVFPWW.js";import{$c as Bt,A as Qe,Bc as y,Ca as De,Da as h,Dc as E,Ea as g,Eb as c,Ec as Ye,Fc as ce,G as Ft,Gc as ae,H as We,Ha as Et,Ib as Nt,Jc as Ce,K as Ze,Kc as $,L as vt,Lc as A,Mc as R,N as yt,Na as fe,Oc as Mt,Pc as Vt,Qa as wt,Qb as _,Qc as w,Ra as St,Rb as Me,Rc as a,S as bt,Sb as Ve,Sc as Fe,Tc as z,Uc as ve,Vc as oe,Wb as U,Wc as ne,X as Ut,Xc as re,Yc as Be,ad as J,bd as ie,ca as $e,cd as It,dd as Ie,ea as C,fc as de,gc as m,hc as Je,ic as ge,jd as ke,l as v,lc as x,ma as Ne,mc as Tt,na as Te,nc as _e,oc as me,pc as ue,qc as r,rc as l,sc as f,vc as Dt,w as Ct,wc as k,yb as s}from"./chunk-QFNFGJ3Y.js";var ai=["*"];function si(i,p){if(i&1&&(r(0,"span",4),a(1),l()),i&2){let e=E();Je("background-color",e.iconColor[e.extension]||"#000"),s(),Fe(e.extension)}}function pi(i,p){if(i&1&&(r(0,"span"),a(1),l()),i&2){let e=E();s(),Fe(e.uploadingLabel)}}function di(i,p){if(i&1&&(r(0,"span"),a(1),J(2,"number"),l()),i&2){let e=E();s(),z("",It(2,1,e.size/1024/1024,".2")," MB")}}function mi(i,p){i&1&&f(0,"nx-spinner",0)}function ui(i,p){if(i&1&&f(0,"nx-icon",1),i&2){let e=E();de("aria-label",e.uploadedLabel||null)}}var ci=["nativeInputFile"],fi=["fileRowElement"],xi=[[["nx-label"]],[["","nxFileUploadHint",""]],"*",[["nx-file-uploader-drop-zone"]],[["","nxFileUploadButton",""]],[["nx-error"]]],hi=["nx-label","[nxFileUploadHint]","*","nx-file-uploader-drop-zone","[nxFileUploadButton]","nx-error"],gi=(i,p)=>({templateContext:i,file:p});function _i(i,p){i&1&&ce(0,5)}function Ci(i,p){i&1&&Dt(0)}function Fi(i,p){if(i&1){let e=k();r(0,"div",6,2),y("keydown",function(o){h(e);let n=E(2);return g(n._handleKeydownListRow(o))}),U(2,Ci,1,0,"ng-container",7),l()}if(i&2){let e=p.$implicit,t=E(2),o=w(10);ge("nx-file-uploader--file-state-uploading",e.isUploading)("nx-file-uploader--default-template",!t._itemTemplate),s(2),m("ngTemplateOutlet",t._itemTemplate?t._itemTemplate:o)("ngTemplateOutletContext",Bt(6,gi,t._templateContext,e))}}function vi(i,p){if(i&1&&(r(0,"div",4),me(1,Fi,3,9,"div",5,_e),l()),i&2){let e=E();de("aria-label",e._templateContext.uploadedListLabel),s(),ue(e.value)}}function yi(i,p){if(i&1){let e=k();f(0,"nx-file-upload-name",8)(1,"nx-file-upload-size",9),r(2,"div",10),f(3,"nx-file-upload-status",11),r(4,"nx-file-upload-delete",12),y("click",function(){let o=h(e).file,n=E();return g(n.removeFile(o))}),l()()}if(i&2){let e=p.templateContext,t=p.file;m("name",t==null?null:t.name),s(),m("size",t==null?null:t.size)("isUploading",t.isUploading)("uploadingLabel",e.uploadingLabel),s(2),m("isUploading",t.isUploading)("isUploaded",t.isUploaded)("uploadedLabel",e.uploadedLabel),s(),m("deleteLabel",e.deleteLabel)("isUploading",t.isUploading)}}var Ue=class{constructor(p,e){this.files=p,this.requests=e}},Ee=class{constructor(p,e){this.files=p,this.requests=e}},B=class{set config(p){this._config!==p&&(this._config=p)}get config(){return this._config}constructor(p,e){this.response=new v,this._config=p,this._httpClient=e}uploadFiles(p){this.config.uploadSeparately?this._uploadFilesSeparately(p):this._uploadFilesCollectively(p)}_uploadFilesCollectively(p){if(!p||p.length===0)return;let e=new FormData,t=p.filter(o=>!o.isUploaded);t.forEach(o=>{o.setUploadingState(),e.append("uploads[]",o.file,o.name)}),this._httpClient.post(this.config.requestUrl,e,this.config.options).subscribe(o=>{t.forEach(n=>n.setUploadedState()),this.response.next({allSucessful:!0,success:new Ue(t,[o])})},o=>{t.forEach(n=>n.setErrorState()),this.response.next({error:new Ee(t,[o])})})}_uploadFilesSeparately(p){if(!p)return;let e=[];p.filter(o=>!o.isUploaded).forEach(o=>{e.push(this._uploadFile(o).pipe(yt(n=>Ct(n))))}),Ft(e).subscribe(o=>{let n=o.reduce((d,u)=>(u.success?(d.success||(d.success=new Ue([],[])),d.success.files.push(...u.success.files),d.success.requests.push(...u.success.requests)):u.error&&(d.error||(d.error=new Ee([],[])),d.error.files.push(...u.error.files),d.error.requests.push(...u.error.requests)),d),{});n.error||(n.allSucessful=!0),this.response.next(n)})}_uploadFile(p){let e=new v,t=new FormData;return p.isUploaded||(p.setUploadingState(),t.append("uploads[]",p.file,p.name)),this._httpClient.post(this.config.requestUrl,t,this.config.options).subscribe(o=>{p.setUploadedState(),e.next({success:new Ue([p],[o])}),e.complete()},o=>{p.setErrorState(),e.next({error:new Ee([p],[o])}),e.complete()}),e}},qe=class{constructor(p,e=0){this.isUploading=!1,this.isUploaded=!1,this.isError=!1,this.index=0,this.onChange=new fe,this.file=p,this.name=p.name,this._size=p.size,this._type=p.type,this.index=e}get size(){return this._size}get type(){return this._type}setUploadedState(){this.isUploaded=!0,this.isUploading=!1,this.isError=!1,this.onChange.emit(this)}setUploadingState(){this.isUploaded=!1,this.isUploading=!0,this.isError=!1,this.onChange.emit(this)}setErrorState(){this.isUploaded=!1,this.isUploading=!1,this.isError=!0,this.onChange.emit(this)}};function oi(i,p,e){if(!p||!i.type&&!e)return!0;let t=et(i.name);return p.replace(/\s/g,"").split(",").filter(o=>new RegExp(o).test(i.type)||o===t).length>0}function bi(i,p){return!p||i.size<=p}function et(i){let p=i.split(".");return p.length===1?"":"."+p.pop()}function ni(i,p){return!i||!p||i<=p}var Ae=class{static maxFileSize(p,e){return t=>!p||p>e.size?null:{NxFileUploadMaxFileSize:{max:p,fileName:e.name,actual:e.size}}}static fileType(p,e,t){return o=>oi(p,e,t)?null:{NxFileUploadFileTypeNotAccepted:{fileName:p.name}}}static maxFileNumber(p,e){return t=>ni(p,e)?null:{NxFileUploadMaxFileNumber:{max:e,actual:p}}}},N=(()=>{class i{set disabled(e){this._disabled=e,this._cdr.markForCheck()}get disabled(){return this._disabled}constructor(e,t){this._cdr=e,this.elemetRef=t,this._disabled=!1,this._clicked=new v}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onClick(){this._clicked.next()}ngOnDestroy(){this._clicked.complete()}static{this.\u0275fac=function(t){return new(t||i)(c(ke),c(St))}}static{this.\u0275dir=Ve({type:i,selectors:[["","nxFileUploadButton",""]],hostVars:4,hostBindings:function(t,o){t&1&&y("click",function(){return o.onClick()}),t&2&&(de("aria-describedby",o._ariaDescribedby||null)("disabled",o.disabled||null),ge("nx-file-upload-button",!0))},inputs:{disabled:"disabled"}})}}return i})();function Ui(i){return i!=null}var he=(()=>{class i{set disabled(e){this._disabled=e,this._cdr.markForCheck()}get disabled(){return this._disabled}constructor(e){this._cdr=e,this._disabled=!1,this._active=!1,this.fileDropped=new fe}onDrop(e){if(e.preventDefault(),this.disabled){if(!e.dataTransfer)return;e.dataTransfer.dropEffect="no-drop"}else{if(!e.dataTransfer){this.fileDropped.emit([]);return}let{dataTransfer:t}=e;if(t.items){let o=Array.from(t.items).map(n=>n.getAsFile()).filter(Ui);t.items.clear(),this.fileDropped.emit(o)}else{let o=Array.from(t.files);t.clearData(),this.fileDropped.emit(o)}this._active=!1}}onDragOver(e){e.stopPropagation(),e.preventDefault(),this.disabled?e.dataTransfer.dropEffect="none":(e.dataTransfer.dropEffect="copy",this._active=!0,this._cdr.markForCheck())}onDragLeave(e){this._active=!1,e.dataTransfer.dropEffect="none",this._cdr.markForCheck()}onDragEnd(e){e.dataTransfer.dropEffect="none"}onDragStart(e){this.disabled?e.dataTransfer.dropEffect="none":e.dataTransfer.dropEffect="copy"}get active(){return this._active}static{this.\u0275fac=function(t){return new(t||i)(c(ke))}}static{this.\u0275cmp=_({type:i,selectors:[["nx-file-uploader-drop-zone"]],hostVars:4,hostBindings:function(t,o){t&1&&y("drop",function(d){return o.onDrop(d)})("dragover",function(d){return o.onDragOver(d)})("dragleave",function(d){return o.onDragLeave(d)})("dragend",function(d){return o.onDragEnd(d)})("dragstart",function(d){return o.onDragStart(d)}),t&2&&ge("is-active",o.active)("is-disabled",o.disabled)},inputs:{disabled:"disabled"},outputs:{fileDropped:"fileDropped"},ngContentSelectors:ai,decls:1,vars:0,template:function(t,o){t&1&&(Ye(),ce(0))},styles:["[_nghost-%COMP%]     button{margin-bottom:16px}@media (min-width: 704px){[_nghost-%COMP%]{height:104px;border:1px dashed var(--file-uploader-drop-zone-border-color);align-items:center;justify-content:center;display:flex;color:var(--file-uploader-drop-zone-text-color)}.is-active[_nghost-%COMP%]{border-style:solid}.is-disabled[_nghost-%COMP%]{cursor:no-drop}[_nghost-%COMP%]     button{margin-bottom:0}}"],changeDetection:0})}}return i})(),Ei=0,I=(()=>{class i{constructor(){this.id=`nx-formfield-hint-${Ei++}`}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275dir=Ve({type:i,selectors:[["","nxFileUploadHint",""]],hostVars:3,hostBindings:function(t,o){t&2&&(de("id",o.id),ge("nx-file-upload-hint",!0))},inputs:{id:"id"}})}}return i})(),Re=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=_({type:i,selectors:[["nx-file-upload-delete"]],inputs:{isUploading:"isUploading",deleteLabel:"deleteLabel"},decls:2,vars:3,consts:[["nxIconButton","tertiary small-medium","type","button"],["name","trash-o"]],template:function(t,o){t&1&&(r(0,"button",0),f(1,"nx-icon",1),l()),t&2&&(de("aria-label",o.deleteLabel||null)("disabled",o.isUploading||null),s(),de("aria-hidden",!0))},dependencies:[be,At,xe,F],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%] > button[_ngcontent-%COMP%]{margin-bottom:0;white-space:nowrap}"]})}}return i})(),He=(()=>{class i{constructor(){this.iconColor={xls:"#1E8927",xlsx:"#1E8927",pdf:"#DC3149",png:"#ba31dc"}}ngOnInit(){this.extension=et(this.name).substring(1)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=_({type:i,selectors:[["nx-file-upload-name"]],inputs:{name:"name"},decls:5,vars:2,consts:[[1,"extension"],[1,"extension-label",3,"background-color"],["name","file",1,"extension-icon"],[1,"nx-margin-left-2xs"],[1,"extension-label"]],template:function(t,o){t&1&&(r(0,"span",0),U(1,si,2,3,"span",1),f(2,"nx-icon",2),l(),r(3,"span",3),a(4),l()),t&2&&(s(),x(o.extension?1:-1),s(3),Fe(o.name))},dependencies:[xe,F],styles:["[_nghost-%COMP%]{font-size:var(--file-uploader-file-name-font-size);line-height:var(--file-uploader-file-name-line-height);font-weight:var(--file-uploader-file-name-font-weight);letter-spacing:var(--file-uploader-file-name-letter-spacing)}.extension[_ngcontent-%COMP%]{position:relative;top:4px;display:inline-flex}.extension-icon[_ngcontent-%COMP%]{font-size:1.375rem}.extension-label[_ngcontent-%COMP%]{position:absolute;text-transform:uppercase;-webkit-user-select:none;user-select:none;line-height:normal;font-weight:700;padding:1px 3px;right:4px;bottom:4px;border-radius:2px 0 0 2px;font-size:.375rem;color:#fff}"]})}}return i})(),tt=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=_({type:i,selectors:[["nx-file-upload-size"]],inputs:{size:"size",isUploading:"isUploading",uploadingLabel:"uploadingLabel"},decls:2,vars:1,template:function(t,o){t&1&&U(0,pi,2,1,"span")(1,di,3,4,"span"),t&2&&x(o.isUploading?0:1)},dependencies:[Pt],styles:["[_nghost-%COMP%]{white-space:nowrap}"]})}}return i})(),je=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=_({type:i,selectors:[["nx-file-upload-status"]],inputs:{isUploading:"isUploading",isUploaded:"isUploaded",uploadedLabel:"uploadedLabel"},decls:2,vars:2,consts:[["size","medium"],["name","check-circle","size","s"]],template:function(t,o){t&1&&U(0,mi,1,0,"nx-spinner",0)(1,ui,1,1,"nx-icon",1),t&2&&(x(o.isUploading?0:-1),s(),x(o.isUploaded?1:-1))},dependencies:[Xe,Jt,xe,F],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]   nx-icon[_ngcontent-%COMP%]{color:var(--file-uploader-file-row-icon-color)}"]})}}return i})(),Ge=(()=>{class i{constructor(){this.changes=new v,this.uploadingLabel="uploading",this.deleteLabel="Delete",this.uploadedStateLabel="uploaded",this.uploadedListLabel="List of uploaded files"}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),wi=0,b=(()=>{class i{set noBlockingValidators(e){this._noBlockingValidators=ye(e)}get noBlockingValidators(){return this._noBlockingValidators}set id(e){this._id=e,this._cdr.markForCheck()}get id(){return this._id}set required(e){this._required=ye(e)}get required(){return this._required}set value(e){this.writeValue(e)}get value(){return this._value}set name(e){this._name=e}get name(){return this._name}set disabled(e){this._disabled=ye(e),this.button&&(this.button.disabled=this._disabled),this._dropZone&&(this._dropZone.disabled=this._disabled),this._cdr.markForCheck()}get disabled(){return this._disabled}set multiple(e){this._multiple=ye(e)}get multiple(){return this._multiple}set accept(e){this._accept=e}get accept(){return this._accept}set maxFileSize(e){this._maxFileSize=Ke(e)}get maxFileSize(){return this._maxFileSize}set uploader(e){this._uploader!==e&&(this._uploader=e)}get uploader(){return this._uploader}set maxFileNumber(e){this._maxFileNumber=Ke(e)}get maxFileNumber(){return this._maxFileNumber}set itemTemplate(e){this._itemTemplate!==e&&(this._itemTemplate=e)}get itemTemplate(){return this._itemTemplate}constructor(e,t,o,n,d,u,li){this._cdr=e,this._errorStateMatcher=t,this._intl=o,this._parentForm=n,this._parentFormGroup=d,this.ngControl=u,this._focusMonitor=li,this._filesSubscriptions=[],this.valueChange=new fe,this.fileDeleted=new fe,this.filesSelected=new fe,this._controlValidators=null,this.errorState=!1,this.errors=[],this._noBlockingValidators=!1,this.stateChanges=new v,this.validatorFnArray=[],this.ariaDescribedBy=wt(),this._id=`nx-file-uploader-${wi++}`,this._inputId=`${this.id}-input`,this._labelId=`${this.id}-label`,this._required=!1,this._disabled=!1,this._multiple=!1,this.strictAcceptValidation=!1,this._maxFileSize=0,this._maxFileNumber=null,this._destroyed=new v,this.openedChange=new fe,this._openedStream=this.openedChange.pipe(Ze(Se=>Se),Qe(()=>{})),this._closedStream=this.openedChange.pipe(Ze(Se=>!Se),Qe(()=>{})),this.onChangeCallback=Se=>{},this.onTouchedCallback=()=>{},this.ngControl&&(this.ngControl.valueAccessor=this),this._templateContext=this}ngOnInit(){this.ngControl?.control&&(this._controlValidators=this.ngControl.control.validator),this._intl.changes.pipe(C(this._destroyed)).subscribe(()=>{this._cdr.markForCheck(),this.stateChanges.next()}),this._resetValidators()}ngAfterViewInit(){this._fileRowElements.forEach(e=>this._focusMonitor.monitor(e)),this._fileRowElementsPrevious=this._fileRowElements,this._fileRowElements.changes.pipe(C(this._destroyed)).subscribe(e=>{this._fileRowElementsPrevious.forEach(t=>this._focusMonitor.stopMonitoring(t)),this._fileRowElementsPrevious=e,e.forEach(t=>this._focusMonitor.monitor(t))})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._filesSubscriptions.forEach(e=>e.unsubscribe()),this._fileRowElements.forEach(e=>this._focusMonitor.stopMonitoring(e))}updateErrorState(){let e=this.errorState,t=this._parentFormGroup||this._parentForm,o=this.ngControl?this.ngControl.control:null,n=this._errorStateMatcher.isErrorState(o,t);n!==e&&(this.errorState=n,this.stateChanges.next())}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}writeValue(e){this._value!==e&&(e&&this._filesSubscriptions&&(this._filesSubscriptions.forEach(t=>t.unsubscribe()),this._filesSubscriptions=[]),this._value=e,this._subscribeToFileChanges())}_resetValidators(e=!1){if(this.ngControl?.control){e&&this.ngControl.control.clearValidators();let t=[];this._controlValidators&&t.unshift(this._controlValidators),this.validatorFnArray&&t.push(...this.validatorFnArray),this.ngControl.control.setValidators(t),this.ngControl.control.updateValueAndValidity()}}ngAfterContentInit(){if(!this.button)return;this.button._clicked.pipe(C(this._destroyed)).subscribe(()=>{if(this.errors=[],this.maxFileNumber&&(this.value?.length||0)===this.maxFileNumber){this.setMaxFileNumberError(this.maxFileNumber),this._resetValidators(!0);return}this.nativeInputFile.nativeElement.click()});let e=We(this.button.elemetRef.nativeElement,"focus"),t=We(this.button.elemetRef.nativeElement,"click"),o=!1;t.pipe(C(this._destroyed)).subscribe(()=>{o=!0,this.openedChange.emit(o)}),e.pipe(C(this._destroyed)).subscribe(()=>{o&&(o=!1,this.openedChange.emit(o))}),this.button.disabled=this.disabled,this._dropZone&&(this._dropZone.fileDropped.pipe(C(this._destroyed)).subscribe(n=>{this._addFilesToQueue(n)}),this._dropZone.disabled=this.disabled),this._label&&(this._label.for=this._inputId,this._label.id=this._labelId),this.stateChanges.pipe(C(this._destroyed)).subscribe(()=>{this._syncDescribedByIds(),this._cdr.markForCheck()}),this._hintChildren.changes.pipe($e(null),C(this._destroyed)).subscribe(()=>{this._syncDescribedByIds(),this._cdr.markForCheck()}),this._errorList.changes.pipe($e(null),C(this._destroyed)).subscribe(()=>{this._syncDescribedByIds(),this._cdr.markForCheck()})}_addFilesToQueue(e){this.multiple||(this.value=[]),this._setFileListFromValue(e),this._resetValidators(!0),this.onChangeCallback(this.value),this.onTouchedCallback(),this.valueChange.emit(this.value),this.filesSelected.emit(this.value)}_setFileListFromValue(e){if(this.validatorFnArray=[],e===null)this.value=void 0;else{this.errors=[];let t=(this.value?.length||0)+e.length;ni(t,this.maxFileNumber)?e.forEach(o=>{if(!bi(o,this.maxFileSize)){this.setFileSizeError(o);return}if(!oi(o,this.accept,this.strictAcceptValidation)){this.setFileTypeError(o);return}let n=new qe(o);this.value?this.value.push(n):this.value=[n],this._cdr.markForCheck()}):this.setMaxFileNumberError(t),this._subscribeToFileChanges()}}removeFile(e){this.value=this.value.filter(t=>e!==t),this._filesSubscriptions&&(this._filesSubscriptions.forEach(t=>t.unsubscribe()),this._filesSubscriptions=[]),this._subscribeToFileChanges(),this.validatorFnArray=[],this._resetValidators(!0),this._cdr.markForCheck(),this.valueChange.emit(this.value),this.fileDeleted.emit(e),this.onTouchedCallback(),this.onChangeCallback(this.value),this.nativeInputFile.nativeElement.value=""}uploadFiles(){if(!this.uploader){console.warn("No uploader found. Please define a NxFileUpload to use the uploading mechanism.");return}this.uploader&&(this.uploader.response.pipe(bt(1)).subscribe(e=>{let t=this.value?.filter(n=>n.isUploaded&&!n.isError),o=e.error?.files.filter(n=>!n.isUploaded&&n.isError);o?.length&&o?.forEach(n=>this.setFileUploadError(n,"An error occured while uploading")),this.value=t}),this.uploader.uploadFiles(this.value))}ngDoCheck(){this.ngControl&&this.updateErrorState()}get uploadingLabel(){return this._intl.uploadingLabel}get deleteLabel(){return this._intl.deleteLabel}get uploadedLabel(){return this._intl.uploadedStateLabel}get uploadedListLabel(){return this._intl.uploadedListLabel}_syncDescribedByIds(){let e=[];e=this._hintChildren.map(t=>t.id),e=this._label?[this._label.id,...e]:e,e=[...this._errorList.map(t=>t.id),...e],e=this.ariaDescribedBy()?[...e,this.ariaDescribedBy()]:e,this.button?.setDescribedByIds(e)}_handleKeydownListRow(e){if(e.keyCode===40){let t=e.target.nextSibling;t?.classList?.contains("nx-file-uploader--file-row")&&(e.preventDefault(),t.focus())}else if(e.keyCode===38){let t=e.target.previousSibling;t?.classList?.contains("nx-file-uploader--file-row")&&(e.preventDefault(),t.focus())}}_onFileChange(e){if(this.disabled)return;let t=e.target,o=Array.from(t.files??[]);this._addFilesToQueue(o),this.stateChanges.next(),this._cdr.markForCheck(),this.nativeInputFile.nativeElement.value=""}_subscribeToFileChanges(){if(this.value?.length){let e;this.value.map(t=>{e=t.onChange.subscribe(()=>{this._cdr.markForCheck()}),this._filesSubscriptions.push(e)})}}setMaxFileNumberError(e){this.errors.push({filename:"",type:"fileNumber",max:this.maxFileNumber,actual:e}),!this.noBlockingValidators&&this.ngControl?.control&&this.validatorFnArray.push(t=>({NxFileUploadMaxFileNumber:{max:this.maxFileNumber,actual:e}}))}setFileSizeError(e){this.errors.push({filename:e.name,type:"fileSize",max:this.maxFileSize,actual:e.size}),!this.noBlockingValidators&&this.ngControl?.control&&this.validatorFnArray.push(Ae.maxFileSize(this.maxFileSize,e))}setFileTypeError(e){this.errors.push({filename:e.name,type:"fileType",extension:this.accept,actual:et(e.name)}),!this.noBlockingValidators&&this.ngControl?.control&&this.validatorFnArray.push(Ae.fileType(e,this.accept,this.strictAcceptValidation))}setFileUploadError(e,t){this.errors.push({filename:e.name,type:"upload",reason:t})}get allFilesUploaded(){return this.value?.every(e=>e.isUploaded)||!1}setDisabledState(e){this.disabled=e,this.stateChanges.next()}static{this.\u0275fac=function(t){return new(t||i)(c(ke),c(Zt),c(Ge),c(Oe,8),c(Q,8),c(Ot,10),c(qt))}}static{this.\u0275cmp=_({type:i,selectors:[["nx-file-uploader"]],contentQueries:function(t,o,n){if(t&1&&(Ce(n,N,5),Ce(n,he,7),Ce(n,S,5),Ce(n,I,4),Ce(n,O,4)),t&2){let d;A(d=R())&&(o.button=d.first),A(d=R())&&(o._dropZone=d.first),A(d=R())&&(o._label=d.first),A(d=R())&&(o._hintChildren=d),A(d=R())&&(o._errorList=d)}},viewQuery:function(t,o){if(t&1&&($(ci,5),$(fi,5)),t&2){let n;A(n=R())&&(o.nativeInputFile=n.first),A(n=R())&&(o._fileRowElements=n)}},hostVars:3,hostBindings:function(t,o){t&2&&(de("aria-invalid",o.errorState),ge("has-error",o.errorState))},inputs:{noBlockingValidators:"noBlockingValidators",ariaDescribedBy:[1,"ariaDescribedBy"],id:"id",required:"required",value:"value",name:"name",disabled:"disabled",multiple:"multiple",accept:"accept",strictAcceptValidation:"strictAcceptValidation",maxFileSize:"maxFileSize",uploader:"uploader",maxFileNumber:"maxFileNumber",itemTemplate:"itemTemplate"},outputs:{valueChange:"valueChange",fileDeleted:"fileDeleted",filesSelected:"filesSelected",openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed"},exportAs:["NxFileUploaderComponent"],features:[Be([{provide:jt,useValue:{appearance:"message"}}]),De],ngContentSelectors:hi,decls:11,vars:6,consts:[["nativeInputFile",""],["defaultFileRow",""],["fileRowElement",""],["type","file",3,"change","id"],["role","list",1,"nx-file-uploader--file-list","nx-margin-bottom-m"],["role","listitem",1,"nx-file-uploader--file-row",3,"nx-file-uploader--file-state-uploading","nx-file-uploader--default-template"],["role","listitem",1,"nx-file-uploader--file-row",3,"keydown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"name"],[3,"size","isUploading","uploadingLabel"],[1,"nx-file-uploader--file-row-actions"],[3,"isUploading","isUploaded","uploadedLabel"],[3,"click","deleteLabel","isUploading"]],template:function(t,o){if(t&1){let n=k();Ye(xi),U(0,_i,1,0),ce(1),ce(2,1),ce(3,2),ce(4,3),ce(5,4),r(6,"input",3,0),y("change",function(u){return h(n),g(o._onFileChange(u))}),l(),U(8,vi,3,1,"div",4)(9,yi,5,9,"ng-template",null,1,Ie)}t&2&&(x(o.errorState||o.errors.length?0:-1),s(6),m("id",o._inputId),de("multiple",o.multiple||null)("disabled",o.disabled||null)("accept",o.accept),s(2),x(o.value&&o.value.length>0?8:-1))},dependencies:[kt,He,tt,je,Re],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nx-error.nx-error--message{margin:12px 0}[_nghost-%COMP%]     nx-error.nx-error--message ul{margin-left:28px;margin-top:6px}[_nghost-%COMP%]     nx-error.nx-error--message li{line-height:24px}.nx-file-uploader--file-list[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.nx-file-uploader--file-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;border-bottom-width:1px;border-bottom-style:solid;padding:8px 12px;border-bottom-color:var(--file-uploader-file-row-border-bottom-color);color:var(--file-uploader-file-row-text-color)}.nx-file-uploader--file-row[_ngcontent-%COMP%]:hover{background-color:var(--file-uploader-file-row-hover-background-color)}.nx-file-uploader--file-row[_ngcontent-%COMP%]:focus{outline:none}.nx-file-uploader--file-row[_ngcontent-%COMP%]     .nx-file-uploader--file-row-actions{margin-left:auto;display:flex;align-items:center;justify-content:flex-end;min-width:120px;flex:none}[dir=rtl][_nghost-%COMP%]   .nx-file-uploader--file-row[_ngcontent-%COMP%]     .nx-file-uploader--file-row-actions, [dir=rtl]   [_nghost-%COMP%]   .nx-file-uploader--file-row[_ngcontent-%COMP%]     .nx-file-uploader--file-row-actions{margin-left:initial;margin-right:auto}.nx-file-uploader--file-row.nx-file-uploader--default-template[_ngcontent-%COMP%]   nx-file-upload-name[_ngcontent-%COMP%]{flex:none;max-width:65%;overflow-wrap:break-word;line-height:28px}@media (max-width: 703px){.nx-file-uploader--file-row.nx-file-uploader--default-template[_ngcontent-%COMP%]   nx-file-upload-name[_ngcontent-%COMP%]{flex:100%;max-width:100%}}.nx-file-uploader--file-row.nx-file-uploader--default-template[_ngcontent-%COMP%]   nx-file-upload-size[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:flex-end}@media (max-width: 703px){.nx-file-uploader--file-row.nx-file-uploader--default-template[_ngcontent-%COMP%]   nx-file-upload-size[_ngcontent-%COMP%]{justify-content:flex-start}}.nx-file-uploader--file-row.nx-file-uploader--default-template[_ngcontent-%COMP%]   nx-file-upload-status[_ngcontent-%COMP%]{flex:0 1 auto;padding:0 16px}.nx-file-uploader--file-row.nx-file-uploader--default-template[_ngcontent-%COMP%]   nx-file-upload-delete[_ngcontent-%COMP%]{flex:0 1 auto}.nx-file-uploader--file-row.nx-file-uploader--file-state-uploading[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{color:var(--file-uploader-file-row-uploading-file-name-color)}  input[type=file]{display:none}  .nx-file-upload-button{display:block}  .nx-file-upload-hint{font-size:var(--file-uploader-hint-font-size);line-height:var(--file-uploader-hint-line-height);font-weight:var(--file-uploader-hint-font-weight);letter-spacing:var(--file-uploader-hint-letter-spacing);display:block}.nx-file-uploader--file-row.cdk-keyboard-focused[_ngcontent-%COMP%]{box-shadow:var(--focus-box-shadow)}@media screen and (forced-colors: active),(forced-colors: active){.nx-file-uploader--file-row.cdk-keyboard-focused[_ngcontent-%COMP%]{box-shadow:0 0 0 2px background,0 0 0 6px CanvasText;outline:4px solid CanvasText;outline-offset:2px}}"],changeDetection:0})}}return i})(),P=(()=>{class i{set fileUpload(e){this._fileUpload!==e&&(this._fileUpload=e)}get fileUpload(){return this._fileUpload}_onClick(){this._fileUpload.uploadFiles()}get visibility(){return this._fileUpload.allFilesUploaded?"hidden":"unset"}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275dir=Ve({type:i,selectors:[["","nxFileUploadTriggerFor",""]],hostVars:2,hostBindings:function(t,o){t&1&&y("click",function(){return o._onClick()}),t&2&&Je("visibility",o.visibility)},inputs:{fileUpload:[0,"nxFileUploadTriggerFor","fileUpload"]},exportAs:["nxFileUploadTrigger"]})}}return i})(),ri=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=Me({type:i})}static{this.\u0275inj=Te({imports:[Pe,xe,be,Xe,b,He,je,Re,Gt,Qt]})}}return i})();var Si=["documentUpload"],we={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},it=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.uploadConfig={requestUrl:"file-upload",options:{params:new T,headers:new Lt({"My-Custom-Header":"custom-header-value"}),reportProgress:!0}},this.myFiles=[],this.uploader=new B(this.uploadConfig,this.http),this._destroyed=new v}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",we):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onFilesAddedChange(e){e&&this.documentUpload.uploadFiles()}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(D))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-auto-example"]],viewQuery:function(t,o){if(t&1&&$(Si,5),t&2){let n;A(n=R())&&(o.documentUpload=n.first)}},decls:9,vars:2,consts:[["documentUpload",""],["multiple","",3,"ngModelChange","filesSelected","ngModel","uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary small-medium","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","nxIconPositionStart","","aria-hidden","true"]],template:function(t,o){if(t&1){let n=k();r(0,"nx-file-uploader",1,0),re("ngModelChange",function(u){return h(n),ne(o.myFiles,u)||(o.myFiles=u),g(u)}),y("filesSelected",function(u){return h(n),g(o.onFilesAddedChange(u))}),r(2,"nx-label",2),a(3,"Upload file(s)"),l(),r(4,"span",3),a(5,"Multiple files are allowed"),l(),r(6,"button",4),f(7,"nx-icon",5),a(8," Add File "),l()()}t&2&&(oe("ngModel",o.myFiles),m("uploader",o.uploader))},dependencies:[b,q,L,pe,S,I,M,N,F],encapsulation:2})}}return i})();var Ni={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},ot=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.uploadConfig={requestUrl:"file-upload",options:{params:new T,reportProgress:!0}},this.uploader=new B(this.uploadConfig,this.http),this._destroyed=new v}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Ni):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(D))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-basic-example"]],decls:11,vars:3,consts:[["documentUpload",""],["multiple","",3,"uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"nxFileUploadTriggerFor","disabled"]],template:function(t,o){if(t&1&&(r(0,"nx-file-uploader",1,0)(2,"nx-label",2),a(3,"Select a file to upload"),l(),r(4,"span",3),a(5,"Multiple files can be selected"),l(),r(6,"button",4),f(7,"nx-icon",5),a(8," Add File "),l()(),r(9,"button",6),a(10,` Upload
`),l()),t&2){let n=w(1);m("uploader",o.uploader),s(9),m("nxFileUploadTriggerFor",n)("disabled",!(n.value!=null&&n.value.length))}},dependencies:[b,S,I,M,N,F,P],encapsulation:2})}}return i})();function Ti(i,p){if(i&1&&(r(0,"li"),a(1),l()),i&2){let e=E().$implicit;s(),z("File size of ",e.filename," exceeds limit of 1 MB")}}function Di(i,p){if(i&1&&U(0,Ti,2,1,"li"),i&2){let e=p.$implicit;x(e.type==="fileSize"?0:-1)}}function Mi(i,p){if(i&1&&(r(0,"nx-error",5)(1,"div",13),a(2,"Error"),l(),r(3,"ul"),me(4,Di,1,1,null,null,Tt),l()()),i&2){let e=E();s(4),ue(e.getFileErrors())}}var Vi={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},Bi={duration:3e3,context:"info",announcementMessage:"Information: No files to upload."},nt=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.uploadConfig={requestUrl:"file-upload",options:{params:new T,reportProgress:!0}},this.carDocumentsUploader=new B(this.uploadConfig,this.http),this.driverDocumentsUploader=new B(this.uploadConfig,this.http),this.additionalDocumentsUploader=new B(this.uploadConfig,this.http),this._destroyed=new v,this.uploaderComponents=Nt(b)}ngOnChanges(e){console.log(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}triggerUpload(){let e=this.uploaderComponents().filter(t=>t.value?t.value.filter(o=>!o.isUploaded).length>0:!1);e.length===0&&this.messageToastService.open("No files to upload!",Bi),e.length>0&&this.uploadFilesForUploaders(e)}getFileErrors(){return this.uploaderComponents().map(e=>e.errors||[]).flatMap(e=>e)}uploadFilesForUploaders(e){vt(e.map(t=>t.uploader.response)).pipe(Ut()).subscribe(t=>{console.log("results",t),t.every(n=>n.allSucessful)?this.messageToastService.open("All files were uploaded successfully!",Vi):t.forEach(n=>console.log(n.error))}),e.forEach(t=>{t.uploadFiles()})}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(D))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-categories-example"]],viewQuery:function(t,o){t&1&&Mt(o.uploaderComponents,b,5),t&2&&Vt()},features:[De],decls:31,vars:7,consts:[["driverDocumentUpload",""],["carDocumentUpload",""],["additionalDocumentUpload",""],["size","small","id","file-upload-label",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","","id","file-upload-hint",1,"nx-margin-bottom-s"],["id","file-upload-error"],["multiple","","ariaDescribedBy","file-upload-label file-upload-hint file-upload-error",3,"uploader","maxFileSize"],[1,"uploader-row"],["nxPlainButton","","type","button","nxFileUploadButton","","aria-label","Add Driver Documents"],["name","plus","nxIconPositionStart","","aria-hidden","true"],["nxPlainButton","","type","button","nxFileUploadButton","","aria-label","Add Car Documents"],["nxPlainButton","","type","button","nxFileUploadButton","","aria-label","Add Additional Documents"],["nxButton","secondary small","type","button",1,"nx-margin-top-s",3,"click"],[1,"nx-font-weight-bold"]],template:function(t,o){if(t&1){let n=k();r(0,"nx-label",3),a(1,` Upload your documents
`),l(),r(2,"span",4),a(3,` JPG, PNG or PDF \u2022 less than 1MB
`),l(),U(4,Mi,6,0,"nx-error",5),r(5,"nx-file-uploader",6,0)(7,"div",7),a(8," Driver Documents "),r(9,"span")(10,"button",8),f(11,"nx-icon",9),a(12," Add File "),l()()()(),r(13,"nx-file-uploader",6,1)(15,"div",7),a(16," Car Documents "),r(17,"span")(18,"button",10),f(19,"nx-icon",9),a(20," Add File "),l()()()(),r(21,"nx-file-uploader",6,2)(23,"div",7),a(24," Additional Documents "),r(25,"span")(26,"button",11),f(27,"nx-icon",9),a(28," Add File "),l()()()(),r(29,"button",12),y("click",function(){return h(n),g(o.triggerUpload())}),a(30,` Upload Documents
`),l()}t&2&&(s(4),x(o.uploaderComponents()[0].errors.length>0||o.uploaderComponents()[1].errors.length>0||o.uploaderComponents()[2].errors.length>0?4:-1),s(),ae("maxFileSize",1*1024*1024),m("uploader",o.carDocumentsUploader),s(8),ae("maxFileSize",1*1024*1024),m("uploader",o.driverDocumentsUploader),s(8),ae("maxFileSize",1*1024*1024),m("uploader",o.additionalDocumentsUploader))},dependencies:[b,S,I,M,N,F,Rt,Pe,O],styles:[".uploader-row[_ngcontent-%COMP%]{border:none;text-align:left;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--file-uploader-file-row-border-bottom-color);padding:16px 8px;gap:16px;font-weight:var(--paragraph-04-font-weight)}.uploader-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center}"]})}}return i})();var Ii=["documentUpload"],ki=["ngModel"];function Pi(i,p){i&1&&(r(0,"li"),a(1,"Required!"),l())}function Oi(i,p){if(i&1&&(r(0,"nx-error")(1,"div",7),a(2,"Error"),l(),r(3,"ul")(4,"li"),a(5,"An error occured while uploading."),l(),U(6,Pi,2,0,"li"),l()()),i&2){E();let e=w(2);s(6),x(e.control.hasError("required")?6:-1)}}function zi(i,p){if(i&1){let e=k();f(0,"nx-file-upload-name",8)(1,"nx-file-upload-size",9),r(2,"div",10),f(3,"nx-file-upload-status",11),r(4,"nx-file-upload-delete",12),y("click",function(){let o=h(e),n=o.templateContext,d=o.file;return g(n.removeFile(d))}),l()(),r(5,"form")(6,"nx-radio-group",13),re("ngModelChange",function(o){let n=h(e).file;return ne(n.formData,o)||(n.formData=o),g(o)}),r(7,"nx-label",14),a(8,"Do you own all rights to this picture?"),l(),r(9,"div",15)(10,"nx-radio",16),a(11,"Yes"),l(),r(12,"nx-radio",17),a(13,"No"),l()()()()}if(i&2){let e=p.templateContext,t=p.file;m("name",t==null?null:t.name),s(),m("size",t==null?null:t.size)("isUploading",t.isUploading)("uploadingLabel",e.uploadingLabel),s(2),m("isUploading",t.isUploading)("isUploaded",t.isUploaded)("uploadedLabel",e.uploadedLabel),s(),m("deleteLabel",e.deleteLabel)("isUploading",t.isUploading),s(2),m("disabled",t.isUploading||t.isUploaded),oe("ngModel",t.formData),s(4),m("value",!0),s(2),m("value",!1)}}var Li={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},rt=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.myFiles=[],this.showUploadError=!1}onChange(){this.validate()}validate(){let e=this.myFiles.every(t=>typeof t.formData=="boolean");return this.ngModel.control.setErrors(e?{}:{required:!0}),e}upload(e){if(this.showUploadError=!1,!this.documentUpload.value||!this.validate())return;let t=new FormData;this.myFiles.forEach(d=>{d.isUploaded||(d.setUploadingState(),t.set(d.name,d.file,d.name),t.set(`${d.name}-form`,d.formData.toString()))});let n={params:new T,reportProgress:!0};this.http.post(e,t,n).subscribe(d=>{this.documentUpload.value.forEach(u=>{u.setUploadedState()}),this.messageToastService.open("All files were uploaded successfully!",Li)},d=>{this.documentUpload.value.forEach(u=>{u.isUploaded||u.setErrorState()}),this.showUploadError=!0})}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(D))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-custom-item-example"]],viewQuery:function(t,o){if(t&1&&($(Ii,5),$(ki,5)),t&2){let n;A(n=R())&&(o.documentUpload=n.first),A(n=R())&&(o.ngModel=n.first)}},decls:13,vars:4,consts:[["documentUpload","","ngModel","ngModel"],["myItemTemplate",""],["multiple","",3,"ngModelChange","ngModel","itemTemplate"],["size","small",1,"nx-margin-bottom-3xs"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"click","disabled"],[1,"nx-font-weight-bold"],[3,"name"],[3,"size","isUploading","uploadingLabel"],[1,"nx-file-uploader--file-row-actions"],[3,"isUploading","isUploaded","uploadedLabel"],[3,"click","deleteLabel","isUploading"],["name","pictureRights",3,"ngModelChange","disabled","ngModel"],[1,"nx-margin-bottom-m"],[1,"horizontal-buttons"],[1,"nx-margin-bottom-m",3,"value"],[1,"nx-margin-left-s","nx-margin-bottom-m",3,"value"]],template:function(t,o){if(t&1){let n=k();r(0,"nx-file-uploader",2,0),re("ngModelChange",function(u){return h(n),ne(o.myFiles,u)||(o.myFiles=u),g(u)}),r(3,"nx-label",3),a(4,"Please upload a file"),l(),r(5,"button",4),f(6,"nx-icon",5),a(7," Add File "),l()(),U(8,Oi,7,1,"nx-error"),r(9,"button",6),y("click",function(){return h(n),g(o.upload("file-upload"))}),a(10,` Upload files
`),l(),U(11,zi,14,13,"ng-template",null,1,Ie)}if(t&2){let n=w(1),d=w(12);oe("ngModel",o.myFiles),m("itemTemplate",d),s(8),x(o.showUploadError?8:-1),s(),m("disabled",!(n.value!=null&&n.value.length))}},dependencies:[b,q,G,L,j,pe,Oe,S,M,N,F,O,He,tt,je,Re,ei,ti],styles:["nx-file-upload-name[_ngcontent-%COMP%]{flex:1}nx-file-upload-size[_ngcontent-%COMP%]{flex:none}nx-file-upload-status[_ngcontent-%COMP%]{flex:0 1 auto;padding:0 16px}nx-file-upload-delete[_ngcontent-%COMP%]{flex:0 1 auto}form[_ngcontent-%COMP%]{padding-top:16px;width:100%}.horizontal-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row}@media (max-width: 703px){nx-file-upload-name[_ngcontent-%COMP%]{flex:100%;order:-1;margin-bottom:16px}}"]})}}return i})();var qi=["documentUpload"];function Ai(i,p){i&1&&(r(0,"li"),a(1,"File is Required!"),l())}function Ri(i,p){i&1&&(r(0,"li"),a(1,"An error occured while uploading."),l())}function Hi(i,p){if(i&1&&(r(0,"div"),a(1),l()),i&2){let e=E().$implicit;s(),z(' "',e.filename,'" could not be uploaded. The supported extensions us PNG. ')}}function ji(i,p){if(i&1&&(r(0,"div"),a(1),l()),i&2){let e=E().$implicit;s(),ve(' "',e.filename,'" could not be uploaded. max file size is ',e.max,". ")}}function Gi(i,p){if(i&1&&(r(0,"div"),a(1),l()),i&2){let e=E().$implicit;s(),z(" You cannot upload more than ",e.max," documents. ")}}function Qi(i,p){if(i&1&&(r(0,"li"),U(1,Hi,2,1,"div")(2,ji,2,2,"div")(3,Gi,2,1,"div"),l()),i&2){let e=p.$implicit;s(),x(e.type==="fileType"?1:-1),s(),x(e.type==="fileSize"?2:-1),s(),x(e.type==="fileNumber"?3:-1)}}function Wi(i,p){if(i&1&&me(0,Qi,4,3,"li",null,_e),i&2){E();let e=w(2);ue(e==null?null:e.errors)}}var lt=(()=>{class i{toggleValidation(){this.disableValidator=!this.disableValidator}constructor(e,t){this.messageToastService=e,this.http=t,this.disableValidator=!1,this.uploadConfig={requestUrl:"file-upload",options:{params:new T,reportProgress:!0}},this.uploader=new B(this.uploadConfig,this.http),this.testForm=new K({documents:new X([],Y.required)}),this._destroyed=new v}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",we):e.error&&this.testForm.controls.documents.setErrors({serverError:!0})})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onChange(e){console.log(e)}onDelete(e){console.log(e)}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(D))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-error-list-example"]],viewQuery:function(t,o){if(t&1&&$(qi,5),t&2){let n;A(n=R())&&(o.documentUpload=n.first)}},decls:28,vars:16,consts:[["documentUpload",""],[3,"formGroup"],["multiple","","formControlName","documents","accept","png","disableCommonValidator","","maxFileNumber","2",3,"fileDeleted","valueChange","maxFileSize","uploader","noBlockingValidators"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],[1,"nx-font-weight-bold"],["nxButton","primary small","type","button",3,"click","disabled","nxFileUploadTriggerFor"],["nxButton","secondary small","type","button",1,"nx-margin-top-s",3,"click"]],template:function(t,o){if(t&1){let n=k();r(0,"form",1)(1,"nx-file-uploader",2,0),y("fileDeleted",function(u){return h(n),g(o.onDelete(u))})("valueChange",function(u){return h(n),g(o.onChange(u))}),r(3,"nx-label",3),a(4,"Required file to upload"),l(),r(5,"span",4),a(6,"Maximum file size 2MB, Accept only PNG files, Maximum 2 files"),l(),r(7,"button",5),f(8,"nx-icon",6),a(9," Add File "),l(),r(10,"nx-error")(11,"div",7),a(12,"Error"),l(),r(13,"ul"),U(14,Ai,2,0,"li")(15,Ri,2,0,"li")(16,Wi,2,0),l()()()(),r(17,"button",8),y("click",function(){return h(n),g(o.testForm.controls.documents.setErrors({serverError:!1}))}),a(18,` Upload files
`),l(),f(19,"br"),r(20,"button",9),y("click",function(){return h(n),g(o.toggleValidation())}),a(21),l(),r(22,"pre"),a(23),J(24,"json"),f(25,"br"),a(26),J(27,"json"),l()}if(t&2){let n=w(2);m("formGroup",o.testForm),s(),ae("maxFileSize",2*1024*1024),m("uploader",o.uploader)("noBlockingValidators",o.disableValidator),s(13),x(o.testForm.controls.documents.hasError("required")?14:-1),s(),x(o.testForm.controls.documents.hasError("serverError")?15:-1),s(),x(!(n==null||n.errors==null)&&n.errors.length?16:-1),s(),m("disabled",!o.testForm.valid)("nxFileUploadTriggerFor",n),s(4),z(" Toggle Disable validator (",o.disableValidator,`)
`),s(2),z("          validators: ",ie(24,12,o.testForm.controls.documents.errors),`
          `),s(3),z(`
          errors property: `,ie(27,14,n==null?null:n.errors),`
        `)}},dependencies:[q,G,L,j,te,Q,ee,b,S,I,M,N,F,O,P,se],encapsulation:2,changeDetection:0})}}return i})();var Zi={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},at=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.uploadConfig={requestUrl:"file-upload",options:{params:new T,reportProgress:!0}},this.uploader=new B(this.uploadConfig,this.http),this._destroyed=new v}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Zi):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(D))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-drop-zone-example"]],decls:14,vars:3,consts:[["documentUpload",""],["multiple","",3,"uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],[1,"nx-margin-bottom-m"],["nxCopytext","",1,"nx-margin-right-2xs","nx-hidden-xs","nx-hidden-s"],["nxButton","primary small-medium","type","button","nxFileUploadButton",""],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"nxFileUploadTriggerFor","disabled"]],template:function(t,o){if(t&1&&(r(0,"nx-file-uploader",1,0)(2,"nx-label",2),a(3,"Select a file to upload"),l(),r(4,"span",3),a(5,"Multiple files can be selected"),l(),r(6,"nx-file-uploader-drop-zone",4)(7,"span",5),a(8,"Drag your files here to"),l(),r(9,"button",6),f(10,"nx-icon",7),a(11," Add File "),l()()(),r(12,"button",8),a(13,` Upload files
`),l()),t&2){let n=w(1);m("uploader",o.uploader),s(12),m("nxFileUploadTriggerFor",n)("disabled",!(n.value!=null&&n.value.length))}},dependencies:[b,S,I,he,Yt,M,N,F,P],encapsulation:2})}}return i})();var $i=["documentUpload"];function Ji(i,p){i&1&&(r(0,"li"),a(1,"Required!"),l())}function Yi(i,p){i&1&&(r(0,"li"),a(1,"An error occured while uploading."),l())}function Ki(i,p){if(i&1&&(r(0,"div"),a(1),l()),i&2){let e=E().$implicit;s(),z(' "',e.filename,'" could not be uploaded. The supported extensions us PNG. ')}}function Xi(i,p){if(i&1&&(r(0,"div"),a(1),l()),i&2){let e=E().$implicit;s(),ve(' "',e.filename,'" could not be uploaded. max file size is ',e.max,". ")}}function eo(i,p){if(i&1&&(r(0,"div"),a(1),l()),i&2){let e=E().$implicit;s(),z(" You cannot upload more than ",e.max," documents. ")}}function to(i,p){if(i&1&&(r(0,"li"),U(1,Ki,2,1,"div")(2,Xi,2,2,"div")(3,eo,2,1,"div"),l()),i&2){let e=p.$implicit;s(),x(e.type==="fileType"?1:-1),s(),x(e.type==="fileSize"?2:-1),s(),x(e.type==="fileNumber"?3:-1)}}function io(i,p){if(i&1&&me(0,to,4,3,"li",null,_e),i&2){E();let e=w(2);ue(e==null?null:e.errors)}}var st=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.uploadConfig={requestUrl:"file-upload",options:{params:new T,reportProgress:!0}},this.uploader=new B(this.uploadConfig,this.http),this.testForm=new K({documents:new X([],Y.required)}),this._destroyed=new v}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",we):e.error&&this.testForm.controls.documents.setErrors({serverError:!0})})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onChange(e){console.log(e)}onDelete(e){console.log(e)}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(D))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-error-list-example"]],viewQuery:function(t,o){if(t&1&&$($i,5),t&2){let n;A(n=R())&&(o.documentUpload=n.first)}},decls:19,vars:9,consts:[["documentUpload",""],[3,"formGroup"],["multiple","","formControlName","documents","accept","png","disableCommonValidator","","maxFileNumber","2",3,"fileDeleted","valueChange","maxFileSize","uploader","noBlockingValidators"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],[1,"nx-font-weight-bold"],["nxButton","primary small","type","button",3,"click","disabled","nxFileUploadTriggerFor"]],template:function(t,o){if(t&1){let n=k();r(0,"form",1)(1,"nx-file-uploader",2,0),y("fileDeleted",function(u){return h(n),g(o.onDelete(u))})("valueChange",function(u){return h(n),g(o.onChange(u))}),r(3,"nx-label",3),a(4,"Required file to upload"),l(),r(5,"span",4),a(6,"Maximum file size 2MB, Accept only PNG files, Maximum 2 files"),l(),r(7,"button",5),f(8,"nx-icon",6),a(9," Add File "),l(),r(10,"nx-error")(11,"div",7),a(12,"Error"),l(),r(13,"ul"),U(14,Ji,2,0,"li")(15,Yi,2,0,"li")(16,io,2,0),l()()()(),r(17,"button",8),y("click",function(){return h(n),g(o.testForm.controls.documents.setErrors({serverError:!1}))}),a(18,` Upload files
`),l()}if(t&2){let n=w(2);m("formGroup",o.testForm),s(),ae("maxFileSize",2*1024*1024),m("uploader",o.uploader)("noBlockingValidators",!0),s(13),x(o.testForm.controls.documents.hasError("required")?14:-1),s(),x(o.testForm.controls.documents.hasError("serverError")?15:-1),s(),x(!(n==null||n.errors==null)&&n.errors.length?16:-1),s(),m("disabled",!o.testForm.valid)("nxFileUploadTriggerFor",n)}},dependencies:[q,G,L,j,te,Q,ee,b,S,I,M,N,F,O,P],encapsulation:2,changeDetection:0})}}return i})();var oo={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},pt=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.uploadConfig={requestUrl:"file-upload",options:{params:new T,reportProgress:!0}},this.uploader=new B(this.uploadConfig,this.http),this._destroyed=new v}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",oo):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(D))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-expert-example"]],decls:11,vars:3,consts:[["documentUpload",""],["multiple","",3,"uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary small-medium","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"nxFileUploadTriggerFor","disabled"]],template:function(t,o){if(t&1&&(r(0,"nx-file-uploader",1,0)(2,"nx-label",2),a(3,"Select a file to upload"),l(),r(4,"span",3),a(5,"Multiple files can be selected"),l(),r(6,"button",4),f(7,"nx-icon",5),a(8," Add File "),l()(),r(9,"button",6),a(10,` Upload
`),l()),t&2){let n=w(1);m("uploader",o.uploader),s(9),m("nxFileUploadTriggerFor",n)("disabled",!(n.value!=null&&n.value.length))}},dependencies:[b,S,I,M,N,F,P],encapsulation:2})}}return i})();var no=(()=>{class i extends Ge{constructor(){super(...arguments),this.uploadingLabel="T\xE9l\xE9chargement",this.deleteLabel="Supprimer",this.uploadedStateLabel="T\xE9l\xE9charg\xE9",this.uploadedListLabel="Liste des fichiers t\xE9l\xE9charg\xE9s"}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=Et(i)))(o||i)}})()}static{this.\u0275prov=Ne({token:i,factory:i.\u0275fac})}}return i})(),ro={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},dt=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.uploadConfig={requestUrl:"file-upload",options:{params:new T,reportProgress:!0}},this.uploader=new B(this.uploadConfig,this.http),this._destroyed=new v}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",ro):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(D))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-intl-example"]],features:[Be([{provide:Ge,useClass:no}])],decls:11,vars:3,consts:[["documentUpload",""],["multiple","",3,"uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"disabled","nxFileUploadTriggerFor"]],template:function(t,o){if(t&1&&(r(0,"nx-file-uploader",1,0)(2,"nx-label",2),a(3,"Select a file to upload"),l(),r(4,"span",3),a(5,"Multiple files can be selected"),l(),r(6,"button",4),f(7,"nx-icon",5),a(8," Add File "),l()(),r(9,"button",6),a(10,` Upload files
`),l()),t&2){let n=w(1);m("uploader",o.uploader),s(9),m("disabled",!(n.value!=null&&n.value.length))("nxFileUploadTriggerFor",n)}},dependencies:[b,S,I,M,N,F,P],encapsulation:2})}}return i})();function lo(i,p){i&1&&(r(0,"li"),a(1,"Required!"),l())}function ao(i,p){if(i&1&&(r(0,"li"),a(1),J(2,"json"),J(3,"json"),l()),i&2){let e=E(2);s(),ve(" There were ",ie(2,2,e.testForm.controls.documents.getError("NxFileUploadMaxFileNumber").actual)," files added, but the maximum is ",ie(3,4,e.testForm.controls.documents.getError("NxFileUploadMaxFileNumber").max)," ")}}function so(i,p){if(i&1&&(r(0,"nx-error")(1,"div",8),a(2,"Error"),l(),r(3,"ul"),U(4,lo,2,0,"li")(5,ao,4,6,"li"),l()()),i&2){let e=E();s(4),x(e.testForm.controls.documents.hasError("required")?4:-1),s(),x(e.testForm.controls.documents.hasError("NxFileUploadMaxFileNumber")?5:-1)}}var po={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},mt=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.uploadConfig={requestUrl:"file-upload",options:{params:new T,reportProgress:!0}},this.uploader=new B(this.uploadConfig,this.http),this.testForm=new K({documents:new X([],Y.required)}),this._destroyed=new v}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",po):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onChange(e){console.log(e)}onDelete(e){console.log(e)}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(D))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-max-file-number-example"]],decls:13,vars:5,consts:[["documentUpload",""],[3,"formGroup"],["multiple","","formControlName","documents","maxFileNumber","3",3,"fileDeleted","valueChange","uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"click","disabled","nxFileUploadTriggerFor"],[1,"nx-font-weight-bold"]],template:function(t,o){if(t&1){let n=k();r(0,"form",1)(1,"nx-file-uploader",2,0),y("fileDeleted",function(u){return h(n),g(o.onDelete(u))})("valueChange",function(u){return h(n),g(o.onChange(u))}),r(3,"nx-label",3),a(4,"Required file to upload"),l(),r(5,"span",4),a(6,"Maximum number of 3 files"),l(),r(7,"button",5),f(8,"nx-icon",6),a(9," Add File "),l(),U(10,so,6,2,"nx-error"),l()(),r(11,"button",7),y("click",function(){return h(n),g(o.testForm.controls.documents.setErrors({serverError:!1}))}),a(12,` Upload files
`),l()}if(t&2){let n=w(2);m("formGroup",o.testForm),s(),m("uploader",o.uploader),s(9),x(o.testForm.controls.documents!=null&&o.testForm.controls.documents.errors?10:-1),s(),m("disabled",!o.testForm.valid)("nxFileUploadTriggerFor",n)}},dependencies:[q,G,L,j,te,Q,ee,b,S,I,M,N,F,O,P,se],encapsulation:2})}}return i})();var mo={duration:3e3,context:"success",announcementMessage:"All files were uploaded successfully!"},ut=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.uploadConfig={requestUrl:"file-upload",options:{params:new T,reportProgress:!0}},this.uploader=new B(this.uploadConfig,this.http),this.testForm=new K({documents:new X([],Y.required)}),this._destroyed=new v}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",mo):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(D))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-reactive-example"]],decls:14,vars:4,consts:[["documentUpload",""],[3,"formGroup"],["formControlName","documents","required","","accept","image/jpeg, image/x-png, image/png","multiple","",3,"uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"disabled","nxFileUploadTriggerFor"]],template:function(t,o){if(t&1&&(r(0,"form",1)(1,"nx-file-uploader",2,0)(3,"nx-label",3),a(4,"Required file to upload"),l(),r(5,"span",4),a(6,"Only JPG or PNG files are accepted."),l(),r(7,"button",5),f(8,"nx-icon",6),a(9," Add File "),l(),r(10,"nx-error"),a(11,"Required!"),l()(),r(12,"button",7),a(13," Upload files "),l()()),t&2){let n=w(2);m("formGroup",o.testForm),s(),m("uploader",o.uploader),s(11),m("disabled",!o.testForm.valid)("nxFileUploadTriggerFor",n)}},dependencies:[q,G,L,j,zt,te,Q,ee,b,S,I,M,N,F,O,P],encapsulation:2})}}return i})();function uo(i,p){i&1&&(r(0,"nx-error"),a(1," An error occured while uploading. "),l())}var co={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},ct=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.uploadConfig={requestUrl:"file-upload",options:{params:new T,reportProgress:!0},uploadSeparately:!0},this.uploader=new B(this.uploadConfig,this.http),this.showUploadError=!1,this._destroyed=new v}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",co):this.showUploadError=!0})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(D))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-separate-requests-example"]],decls:20,vars:6,consts:[["documentUpload",""],["multiple","",3,"uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["variant","small",3,"ngModelChange","ngModel"],["value","file-upload"],["value","file-upload-error"],["nxButton","secondary small","type","button",3,"click","disabled","nxFileUploadTriggerFor"]],template:function(t,o){if(t&1){let n=k();r(0,"nx-file-uploader",1,0)(2,"nx-label",2),a(3,"Select a file to upload"),l(),r(4,"span",3),a(5,"Multiple files can be selected"),l(),r(6,"button",4),f(7,"nx-icon",5),a(8," Add File "),l()(),U(9,uo,2,0,"nx-error"),r(10,"p"),a(11),l(),r(12,"nx-radio-toggle",6),re("ngModelChange",function(u){return h(n),ne(o.uploadConfig.requestUrl,u)||(o.uploadConfig.requestUrl=u),g(u)}),r(13,"nx-radio-toggle-button",7),a(14,"Valid url"),l(),r(15,"nx-radio-toggle-button",8),a(16,"Invalid url"),l()(),f(17,"br"),r(18,"button",9),y("click",function(){return h(n),g(o.showUploadError=!1)}),a(19,` Upload files
`),l()}if(t&2){let n=w(1);m("uploader",o.uploader),s(9),x(o.showUploadError?9:-1),s(2),z(" Set url for testing the upload: ",o.uploadConfig.requestUrl==="file-upload"?"Valid url":"Invalid url",`
`),s(),oe("ngModel",o.uploadConfig.requestUrl),s(6),m("disabled",!(n.value!=null&&n.value.length))("nxFileUploadTriggerFor",n)}},dependencies:[b,S,I,M,N,F,O,ze,q,L,pe,Le,P],encapsulation:2})}}return i})();function fo(i,p){i&1&&(r(0,"li"),a(1,"Required!"),l())}function xo(i,p){if(i&1&&(r(0,"li"),a(1),J(2,"json"),l()),i&2){let e=E(2);s(),z(" File ",ie(2,1,e.testForm.controls.documents.getError("NxFileUploadFileTypeNotAccepted").fileName)," can not be uploaded. This file type is not supported! ")}}function ho(i,p){if(i&1&&(r(0,"nx-error")(1,"div",10),a(2,"Error"),l(),r(3,"ul"),U(4,fo,2,0,"li")(5,xo,3,3,"li"),l()()),i&2){let e=E();s(4),x(e.testForm.controls.documents.hasError("required")?4:-1),s(),x(e.testForm.controls.documents.hasError("NxFileUploadFileTypeNotAccepted")?5:-1)}}var go={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},ft=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.uploadConfig={requestUrl:"file-upload",options:{params:new T,reportProgress:!0}},this.stricterAcceptValidation=!0,this.uploader=new B(this.uploadConfig,this.http),this.testForm=new K({documents:new X([],Y.required)}),this._destroyed=new v}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",go):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onChange(e){console.log(e)}onDelete(e){console.log(e)}toggleAcceptValidation(){this.stricterAcceptValidation=!this.stricterAcceptValidation}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(D))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-strict-type-validation-example"]],decls:20,vars:7,consts:[["documentUpload",""],["nxButton","primary small",3,"click"],[3,"formGroup"],["formControlName","documents","multiple","","accept","image/png",3,"valueChange","fileDeleted","strictAcceptValidation","uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],[1,"nx-margin-bottom-m"],["nxButton","primary","type","button","nxFileUploadButton",""],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"nxFileUploadTriggerFor","disabled"],[1,"nx-font-weight-bold"]],template:function(t,o){if(t&1){let n=k();r(0,"button",1),y("click",function(){return h(n),g(o.toggleAcceptValidation())}),a(1,` Toggle strict validation
`),l(),r(2,"p"),a(3," Strict validation is: "),r(4,"strong"),a(5),l()(),r(6,"form",2)(7,"nx-file-uploader",3,0),y("valueChange",function(u){return h(n),g(o.onChange(u))})("fileDeleted",function(u){return h(n),g(o.onDelete(u))}),r(9,"nx-label",4),a(10,"Required file to upload"),l(),r(11,"span",5),a(12,"Only *.png files are allowed"),l(),r(13,"nx-file-uploader-drop-zone",6)(14,"button",7),f(15,"nx-icon",8),a(16," Add File "),l()(),U(17,ho,6,2,"nx-error"),l(),r(18,"button",9),a(19," Upload files "),l()()}if(t&2){let n=w(8);s(5),Fe(o.stricterAcceptValidation?"on":"off"),s(),m("formGroup",o.testForm),s(),m("strictAcceptValidation",o.stricterAcceptValidation)("uploader",o.uploader),s(10),x(o.testForm.controls.documents!=null&&o.testForm.controls.documents.errors?17:-1),s(),m("nxFileUploadTriggerFor",n)("disabled",!o.testForm.valid)}},dependencies:[M,q,G,L,j,te,Q,ee,b,S,I,he,N,F,O,P,se],encapsulation:2})}}return i})();var _o={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},xt=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.uploadConfig={requestUrl:"file-upload",options:{params:new T,reportProgress:!0}},this.uploader=new B(this.uploadConfig,this.http),this.myFiles=[],this._destroyed=new v}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",_o):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(D))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-template-driven-example"]],decls:11,vars:4,consts:[["documentUpload",""],[3,"ngModelChange","ngModel","uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"nxFileUploadTriggerFor","disabled"]],template:function(t,o){if(t&1){let n=k();r(0,"nx-file-uploader",1,0),re("ngModelChange",function(u){return h(n),ne(o.myFiles,u)||(o.myFiles=u),g(u)}),r(2,"nx-label",2),a(3,"Please upload a file"),l(),r(4,"span",3),a(5,"Only one file is allowed."),l(),r(6,"button",4),f(7,"nx-icon",5),a(8," Add File "),l()(),r(9,"button",6),a(10,` Upload files
`),l()}if(t&2){let n=w(1);oe("ngModel",o.myFiles),m("uploader",o.uploader),s(9),m("nxFileUploadTriggerFor",n)("disabled",n.value&&!n.value.length)}},dependencies:[b,q,L,pe,S,I,M,N,F,P],encapsulation:2})}}return i})();function Co(i,p){i&1&&(r(0,"li"),a(1,"Required!"),l())}function Fo(i,p){if(i&1&&(r(0,"li"),a(1),J(2,"json"),l()),i&2){let e=E(2);s(),z(" File ",ie(2,1,e.testForm.controls.documents.getError("NxFileUploadFileTypeNotAccepted").fileName)," can not be uploaded. This file type is not supported! ")}}function vo(i,p){if(i&1&&(r(0,"nx-error")(1,"div",9),a(2,"Error"),l(),r(3,"ul"),U(4,Co,2,0,"li")(5,Fo,3,3,"li"),l()()),i&2){let e=E();s(4),x(e.testForm.controls.documents.hasError("required")?4:-1),s(),x(e.testForm.controls.documents.hasError("NxFileUploadFileTypeNotAccepted")?5:-1)}}var yo={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},ht=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.uploadConfig={requestUrl:"file-upload",options:{params:new T,reportProgress:!0}},this.uploader=new B(this.uploadConfig,this.http),this.testForm=new K({documents:new X([],Y.required)}),this._destroyed=new v}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",yo):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onChange(e){console.log(e)}onDelete(e){console.log(e)}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(D))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-type-validation-example"]],decls:14,vars:5,consts:[["documentUpload",""],[3,"formGroup"],["formControlName","documents","multiple","","accept","image/png",3,"valueChange","fileDeleted","uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],[1,"nx-margin-bottom-m"],["nxButton","primary","type","button","nxFileUploadButton",""],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"nxFileUploadTriggerFor","disabled"],[1,"nx-font-weight-bold"]],template:function(t,o){if(t&1){let n=k();r(0,"form",1)(1,"nx-file-uploader",2,0),y("valueChange",function(u){return h(n),g(o.onChange(u))})("fileDeleted",function(u){return h(n),g(o.onDelete(u))}),r(3,"nx-label",3),a(4,"Required file to upload"),l(),r(5,"span",4),a(6,"Only *.png files are allowed"),l(),r(7,"nx-file-uploader-drop-zone",5)(8,"button",6),f(9,"nx-icon",7),a(10," Add File "),l()(),U(11,vo,6,2,"nx-error"),l(),r(12,"button",8),a(13," Upload files "),l()()}if(t&2){let n=w(2);m("formGroup",o.testForm),s(),m("uploader",o.uploader),s(10),x(o.testForm.controls.documents!=null&&o.testForm.controls.documents.errors?11:-1),s(),m("nxFileUploadTriggerFor",n)("disabled",!o.testForm.valid)}},dependencies:[q,G,L,j,te,Q,ee,b,S,I,he,M,N,F,O,P,se],encapsulation:2})}}return i})();function bo(i,p){i&1&&(r(0,"li"),a(1,"Required!"),l())}function Uo(i,p){i&1&&(r(0,"li"),a(1,"An error occured while uploading."),l())}function Eo(i,p){if(i&1&&(r(0,"li"),a(1),J(2,"json"),l()),i&2){let e=E(2);s(),z(" File ",ie(2,1,e.testForm.controls.documents.getError("NxFileUploadMaxFileSize").fileName)," can not be uploaded. File size exceeds size limit! ")}}function wo(i,p){if(i&1&&(r(0,"nx-error")(1,"div",11),a(2,"Error"),l(),r(3,"ul"),U(4,bo,2,0,"li")(5,Uo,2,0,"li")(6,Eo,3,3,"li"),l()()),i&2){let e=E();s(4),x(e.testForm.controls.documents.hasError("required")?4:-1),s(),x(e.testForm.controls.documents.hasError("serverError")?5:-1),s(),x(e.testForm.controls.documents.hasError("NxFileUploadMaxFileSize")?6:-1)}}var So={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},gt=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.uploadConfig={requestUrl:"file-upload",options:{params:new T,reportProgress:!0}},this.uploader=new B(this.uploadConfig,this.http),this.testForm=new K({documents:new X([],Y.required)}),this._destroyed=new v}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",So):e.error&&this.testForm.controls.documents.setErrors({serverError:!0})})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onChange(e){console.log(e)}onDelete(e){console.log(e)}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(D))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-validation-example"]],decls:21,vars:8,consts:[["documentUpload",""],[3,"formGroup"],["multiple","","formControlName","documents",3,"fileDeleted","valueChange","maxFileSize","uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["variant","small",3,"ngModelChange","ngModel"],["value","file-upload"],["value","file-upload-error"],["nxButton","secondary small","type","button",3,"click","disabled","nxFileUploadTriggerFor"],[1,"nx-font-weight-bold"]],template:function(t,o){if(t&1){let n=k();r(0,"form",1)(1,"nx-file-uploader",2,0),y("fileDeleted",function(u){return h(n),g(o.onDelete(u))})("valueChange",function(u){return h(n),g(o.onChange(u))}),r(3,"nx-label",3),a(4,"Required file to upload"),l(),r(5,"span",4),a(6,"Maximum file size 2MB"),l(),r(7,"button",5),f(8,"nx-icon",6),a(9," Add File "),l(),U(10,wo,7,3,"nx-error"),l()(),r(11,"p"),a(12),l(),r(13,"nx-radio-toggle",7),re("ngModelChange",function(u){return h(n),ne(o.uploadConfig.requestUrl,u)||(o.uploadConfig.requestUrl=u),g(u)}),r(14,"nx-radio-toggle-button",8),a(15,"Valid url"),l(),r(16,"nx-radio-toggle-button",9),a(17,"Invalid url"),l()(),f(18,"br"),r(19,"button",10),y("click",function(){return h(n),g(o.testForm.controls.documents.setErrors({serverError:!1}))}),a(20,` Upload files
`),l()}if(t&2){let n=w(2);m("formGroup",o.testForm),s(),ae("maxFileSize",2*1024*1024),m("uploader",o.uploader),s(9),x(o.testForm.controls.documents.errors?10:-1),s(2),z(" Set url for testing the upload: ",o.uploadConfig.requestUrl==="file-upload"?"Valid url":"Invalid url",`
`),s(),oe("ngModel",o.uploadConfig.requestUrl),s(6),m("disabled",!o.testForm.valid)("nxFileUploadTriggerFor",n)}},dependencies:[q,G,L,j,pe,te,Q,ee,b,S,I,M,N,F,O,ze,Le,P,se],encapsulation:2})}}return i})();var No=["documentUpload"];function To(i,p){i&1&&(r(0,"nx-error"),a(1," An error occured while uploading. "),l())}var Do={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},_t=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.showUploadError=!1}upload(e){if(this.showUploadError=!1,!this.documentUpload.value)return;let t=new FormData;this.documentUpload.value.forEach(d=>{d.isUploaded||(d.setUploadingState(),t.append("uploads[]",d.file,d.name))});let n={params:new T,reportProgress:!0};this.http.post(e,t,n).subscribe(d=>{this.documentUpload.value.forEach(u=>{u.setUploadedState()}),this.messageToastService.open("All files were uploaded successfully!",Do)},d=>{this.documentUpload.value.forEach(u=>{u.isUploaded||u.setErrorState()}),this.showUploadError=!0})}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(D))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-with-request-example"]],viewQuery:function(t,o){if(t&1&&$(No,5),t&2){let n;A(n=R())&&(o.documentUpload=n.first)}},decls:14,vars:3,consts:[["documentUpload",""],["multiple",""],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",1,"nx-margin-right-2xs",3,"click","disabled"],["nxButton","secondary small","type","button",3,"click","disabled"]],template:function(t,o){if(t&1){let n=k();r(0,"nx-file-uploader",1,0)(2,"nx-label",2),a(3,"Select a file to upload"),l(),r(4,"span",3),a(5,"Multiple files can be selected"),l(),r(6,"button",4),f(7,"nx-icon",5),a(8," Add File "),l()(),U(9,To,2,0,"nx-error"),r(10,"button",6),y("click",function(){return h(n),g(o.upload("file-upload"))}),a(11,` Upload files
`),l(),r(12,"button",7),y("click",function(){return h(n),g(o.upload("file-upload-error"))}),a(13,` Upload files (and get an error)
`),l()}if(t&2){let n=w(1);s(9),x(o.showUploadError?9:-1),s(),m("disabled",!(n.value!=null&&n.value.length)),s(2),m("disabled",!(n.value!=null&&n.value.length))}},dependencies:[b,S,I,M,N,F,O],encapsulation:2})}}return i})();var Mo=[st,it,ot,at,dt,ut,ct,xt,ht,gt,_t,mt,rt,pt,ft,lt,nt],Va=(()=>{class i{static components(){return{"file-uploader-error-list":st,"file-uploader-auto":it,"file-uploader-basic":ot,"file-uploader-drop-zone":at,"file-uploader-intl":dt,"file-uploader-reactive":ut,"file-uploader-separate-requests":ct,"file-uploader-template-driven":xt,"file-uploader-type-validation":ht,"file-uploader-validation":gt,"file-uploader-with-request":_t,"file-uploader-max-file-number":mt,"file-uploader-custom-item":rt,"file-uploader-expert":pt,"file-uploader-strict-type-validation":ft,"file-uploader-disable-common-validators":lt,"file-uploader-categories":nt}}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=Me({type:i})}static{this.\u0275inj=Te({imports:[ri,xe,ii,be,Xt,Kt,Wt,$t,Ht,Mo]})}}return i})();export{Va as FileExamplesModule};
