import{A as lt,a as st,i as nt,n as rt,x as p}from"./chunk-ORXQNIBN.js";import{c as tt,k as et,l as it,s as ot}from"./chunk-P7HYBCKR.js";import{b as C}from"./chunk-NEM4VVWP.js";import{d as Q}from"./chunk-UUZRB2SK.js";import{j as W,n as q,y as J}from"./chunk-P6JKCIKX.js";import{$b as A,Ca as R,Cb as n,Eb as k,Jb as L,Kb as N,Kc as x,Lb as F,Lc as Z,Nc as G,Pa as T,Pc as $,a as l,aa as h,ac as X,b as m,bc as V,dc as j,ic as H,ja as S,jc as Y,k as y,kc as B,la as v,lc as z,ld as d,na as c,qb as M,rb as I,sd as K,ta as b,tc as U,ua as w,xa as D,xb as E,xc as P,zc as _}from"./chunk-ZUBEA7JB.js";function ut(o,bt){if(o&1){let t=U();Y(0,"div",1),A(function(){b(t);let i=_();return w(i.onEnter())}),X(function(){b(t);let i=_();return w(i.onLeave())}),z(1,"div",2),G(2),B()}if(o&2){let t=_();x("opacity",t.visibility==="initial"?0:null),Z("fade-in",t.visibility==="visible")("fade-out",t.visibility==="hidden"),I(),H("ngClass",t.arrowClass)("ngStyle",t.arrowStyle),I(),$(" ",t.message," ")}}var ft=(()=>{class o{set message(t){this._message=t,this._cdr.markForCheck()}get message(){return this._message}get visibility(){return this._visibility}set position(t){this._position=t,this._cdr.markForCheck()}get position(){return this._position}set arrowStyle(t){this._arrowStyle=t,this._cdr.markForCheck()}get arrowStyle(){return this._arrowStyle}get arrowClass(){return`nx-tooltip__arrow--${this.position}`}constructor(t,e){this._cdr=t,this.elementRef=e,this._liveAnnouncer=c(et),this._showTimeoutId=null,this._hideTimeoutId=null,this._visibility="initial",this._position="bottom",this._arrowStyle={},this._closeOnInteraction=!1,this._onHide=new y}show(t){this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._showTimeoutId=window.setTimeout(()=>{this._visibility="visible",this._showTimeoutId=null,this._liveAnnouncer.announce(this.message),this._cdr.markForCheck()},t)}hide(t){this._hideTimeoutId||(this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=window.setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=null,this._cdr.markForCheck()},t))}afterHidden(){return this._onHide.asObservable()}isVisible(){return this.visibility==="visible"}shouldRender(){return this.visibility!=="hidden"}isDelayed(){return this._showTimeoutId!==null||this._hideTimeoutId!==null}ngOnDestroy(){this._onHide.complete()}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}onEnter(){this._closeOnInteraction=!0}onLeave(){this._onHide.next()}static{this.\u0275fac=function(e){return new(e||o)(n(K),n(T))}}static{this.\u0275cmp=L({type:o,selectors:[["nx-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){e&1&&P("click",function(){return i._handleBodyInteraction()},M),e&2&&x("zoom",i.visibility==="visible"?1:null)},decls:1,vars:1,consts:[[1,"nx-tooltip",3,"fade-in","fade-out","opacity"],[1,"nx-tooltip"],[1,"nx-tooltip__arrow",3,"ngClass","ngStyle"]],template:function(e,i){e&1&&V(0,ut,3,9,"div",0),e&2&&j(i.shouldRender()?0:-1)},dependencies:[W,q],styles:[".nx-tooltip-panel{pointer-events:none!important}.nx-tooltip[_ngcontent-%COMP%]{font-size:var(--tooltip-font-size);line-height:var(--tooltip-line-height);font-weight:var(--tooltip-font-weight);letter-spacing:var(--tooltip-letter-spacing);color:var(--tooltip-text-color);background-color:var(--tooltip-background-color);border-radius:var(--tooltip-border-radius);max-width:408px;padding:4px 8px;word-break:break-word}.nx-tooltip.fade-in[_ngcontent-%COMP%]{transition:opacity 70ms cubic-bezier(0,0,.2,1);opacity:1}.nx-tooltip.fade-out[_ngcontent-%COMP%]{transition:opacity 70ms cubic-bezier(0,0,.2,1);opacity:0}.nx-tooltip__arrow[_ngcontent-%COMP%]{position:absolute;width:8px;height:8px;background-color:inherit;z-index:-1;opacity:inherit}.nx-tooltip__arrow--top[_ngcontent-%COMP%]{transform:translate(-50%) rotate(45deg);bottom:-4px}.nx-tooltip__arrow--right[_ngcontent-%COMP%]{transform:translateY(-50%) rotate(45deg);left:-4px}[dir=rtl][_nghost-%COMP%]   .nx-tooltip__arrow--right[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .nx-tooltip__arrow--right[_ngcontent-%COMP%]{right:-4px;left:auto}.nx-tooltip__arrow--bottom[_ngcontent-%COMP%]{transform:translate(-50%) rotate(45deg);top:-4px}.nx-tooltip__arrow--left[_ngcontent-%COMP%]{transform:translateY(-50%) rotate(45deg);right:-4px}[dir=rtl][_nghost-%COMP%]   .nx-tooltip__arrow--left[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .nx-tooltip__arrow--left[_ngcontent-%COMP%]{right:auto;left:-4px}@media screen and (forced-colors:active){.nx-tooltip__arrow[_ngcontent-%COMP%]{border:1px solid CanvasText}.nx-tooltip[_ngcontent-%COMP%]{border:1px solid CanvasText;border-radius:4px}}"],changeDetection:0})}}return o})(),u=12,gt=new v("nx-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let o=c(p);return()=>o.scrollStrategies.reposition()}});var mt="nx-tooltip-panel";function O(o){return Error(`Tooltip position "${o}" is invalid.`)}var yt=new v("nx-tooltip-default-options",{providedIn:"root",factory:vt});function vt(){return{showDelay:200,hideDelay:200,touchendHideDelay:1500}}var Bt=(()=>{class o{set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&(this._tooltipInstance.position=this._position,this._tooltipInstance.show(0)),this._overlayRef.updatePosition()))}get position(){return this._position}set disabled(t){this._disabled=C(t),this._disabled&&this.hide(0)}get disabled(){return this._disabled}set selectable(t){let e=this._selectable;this._selectable=C(t),this._selectable!==e&&this._updateSelectabilityStyles()}get selectable(){return this._selectable}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=t!=null?`${t}`.trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._updateTooltipMessage(),this._ariaDescriber.describe(this._elementRef.nativeElement,this.message))}get message(){return this._message}constructor(t,e,i,s,r,a,f,at,ht,g,ct){this._overlay=t,this._elementRef=e,this._scrollDispatcher=i,this._viewContainerRef=s,this._ngZone=r,this._ariaDescriber=f,this._focusMonitor=at,this._dir=ht,this._defaultOptions=g,this._defaultScrollStrategyFactory=ct,this._injector=c(D),this._possibleTooltipPositions=["bottom","top","left","right"],this._position="bottom",this._disabled=!1,this._selectable=!1,this.showDelay=d(this._defaultOptions.showDelay,{alias:"nxTooltipShowDelay"}),this.hideDelay=d(this._defaultOptions.hideDelay,{alias:"nxTooltipHideDelay"}),this._message="",this._scrollStrategyFactory=this._defaultScrollStrategyFactory,this._manualListeners=new Map,this._destroyed=new y,this.manualTrigger=d(!1,{}),this._dir?.change.pipe(h(this._destroyed)).subscribe(this._dirChangeHandler.bind(this));let _t=e.nativeElement;!a.IOS&&!a.ANDROID?this._manualListeners.set("mouseenter",()=>this.manualTrigger()?null:this.show()).set("mouseleave",()=>this.hide()):this._manualListeners.set("touchstart",()=>this.show()),this._manualListeners.forEach((dt,pt)=>_t.addEventListener(pt,dt)),g?.position&&(this.position=g.position)}ngOnInit(){this._updateSelectabilityStyles()}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef).pipe(h(this._destroyed)).subscribe(t=>{t?t==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._manualListeners.forEach((t,e)=>{this._elementRef.nativeElement.removeEventListener(e,t)}),this._manualListeners.clear(),this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.message),this._focusMonitor.stopMonitoring(this._elementRef)}show(t=this.showDelay()){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance?.isDelayed())return;let e=this._createOverlay();this._detach(),this._portal=this._portal||new rt(ft,this._viewContainerRef),this._embeddedViewRef=e.attach(this._portal),this._tooltipInstance=this._embeddedViewRef.instance,this._tooltipInstance.afterHidden().pipe(h(this._destroyed)).subscribe(()=>this._detach()),this._tooltipInstance._visibility="initial",this._updateTooltipMessage(),this._tooltipInstance.show(t)}hide(t=this.hideDelay()){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_handleKeydown(t){this._isTooltipVisible()&&t.keyCode===27&&(t.stopPropagation(),this.hide(0))}_handleTouchend(){this.hide(this._defaultOptions?.touchendHideDelay)}_updateSelectabilityStyles(){let t=this._elementRef.nativeElement,e=t.style,s=t.nodeName==="INPUT"||t.nodeName==="TEXTAREA"||this._selectable?"auto":"none";e.webkitUserSelect=e.userSelect=e.msUserSelect=s}_createOverlay(){if(this._overlayRef&&this._overlayRef.hostElement)return this._overlayRef;let t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),e=this._overlay.position().flexibleConnectedTo(this._elementRef).withLockedPosition(!0).withFlexibleDimensions(!1).withPush(!0);return e.withScrollableContainers(t),e.positionChanges.pipe(h(this._destroyed)).subscribe(i=>{if(this._tooltipInstance){let s=i.connectionPair;this._ngZone.run(()=>this._positionArrow(s)),i.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}}),this._overlayRef=this._overlay.create({direction:this._dir?.value||"ltr",positionStrategy:e,panelClass:mt,scrollStrategy:this._scrollStrategyFactory(),disposeOnNavigation:!0}),this._updatePosition(),this._overlayRef.detachments().pipe(h(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef?.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(){if(!this._overlayRef)return;let t=this._overlayRef.getConfig().positionStrategy,e=this._getOrigin(this.position),i=this._getOverlayPosition(this.position),s=this._getOffset(this.position),r=this._getFallbackPositions(this.position);t.withPositions([l(l(l({},e),i),s),...r])}_getOrigin(t){switch(t){case"top":case"bottom":return{originX:"center",originY:t};case"left":return{originX:this._isLtr?"start":"end",originY:"center"};case"right":return{originX:this._isLtr?"end":"start",originY:"center"};default:throw O(t)}}_getOverlayPosition(t){switch(t){case"top":case"bottom":return{overlayX:"center",overlayY:this._getInversePosition(t)};case"left":return{overlayX:this._isLtr?"end":"start",overlayY:"center"};case"right":return{overlayX:this._isLtr?"start":"end",overlayY:"center"};default:throw O(t)}}_getOffset(t){switch(t){case"top":return{offsetY:u*-1};case"bottom":return{offsetY:u};case"left":return{offsetX:u*-1};case"right":return{offsetX:u};default:throw O(t)}}_getInverseTooltipPosition(t){return{top:"bottom",right:"left",bottom:"top",left:"right"}[t]}_getInversePosition(t){return{top:"bottom",bottom:"top",start:"end",end:"start",center:"center"}[t]}_getFallbackPositions(t,e=this._possibleTooltipPositions){if(!t)return[];let i=e.filter(f=>f!==t),s=[];switch(t){case"top":case"bottom":{s=this._getVerticalFallbackPositionPairs(t);break}case"left":case"right":{s=this._getHorizontalFallbackPositionPairs(t);break}}let r=this._getInverseTooltipPosition(t),a=i.includes(r)?r:e[0];return[...s,...this._getFallbackPositions(a,i)]}_getVerticalFallbackPositionPairs(t){let e=t===this.position,i=[],s=l(l(l({},this._getOrigin(t)),this._getOverlayPosition(t)),this._getOffset(t));return e||i.push(s),i.push(m(l({},s),{originX:"start",overlayX:"start"}),m(l({},s),{originX:"end",overlayX:"end"})),i}_getHorizontalFallbackPositionPairs(t){let e=this._getOffset(t);return[l(l(l({},this._getOrigin(t)),this._getOverlayPosition(t)),e)]}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,E({write:()=>{this._tooltipInstance&&this._overlayRef&&this._overlayRef.updatePosition()}},{injector:this._injector}))}_positionArrow(t){if(!this._overlayRef||!this._tooltipInstance)return;let e=this._elementRef.nativeElement.getBoundingClientRect().left,i=this._elementRef.nativeElement.getBoundingClientRect().width/2,s=this._overlayRef.overlayElement.getBoundingClientRect().left,r=e+i-s;if(t.originX===t.overlayX){let a={left:r+"px"};this._tooltipInstance.arrowStyle=a}t.originX==="end"&&t.overlayX==="start"?(this._tooltipInstance.arrowStyle={top:"50%"},this._tooltipInstance.position="right"):t.originY==="bottom"&&t.overlayY==="top"?(this._tooltipInstance.arrowStyle={left:r+"px"},this._tooltipInstance.position="bottom"):t.originX==="start"&&t.overlayX==="end"?(this._tooltipInstance.arrowStyle={top:"50%"},this._tooltipInstance.position="left"):t.originY==="top"&&t.overlayY==="bottom"&&(this._tooltipInstance.arrowStyle={left:r+"px"},this._tooltipInstance.position="top")}_dirChangeHandler(t){this._overlayRef&&(this.hide(0),this._overlayRef.setDirection(t),this._updatePosition())}get _isLtr(){return!this._dir||this._dir.value==="ltr"}static{this.\u0275fac=function(e){return new(e||o)(n(p),n(T),n(nt),n(k),n(R),n(Q),n(ot),n(tt),n(st,8),n(yt,8),n(gt))}}static{this.\u0275dir=F({type:o,selectors:[["","nxTooltip",""]],hostBindings:function(e,i){e&1&&P("keydown",function(r){return i._handleKeydown(r)})("touchend",function(){return i._handleTouchend()})},inputs:{position:[0,"nxTooltipPosition","position"],disabled:[0,"nxTooltipDisabled","disabled"],selectable:[0,"nxTooltipSelectable","selectable"],showDelay:[1,"nxTooltipShowDelay","showDelay"],hideDelay:[1,"nxTooltipHideDelay","hideDelay"],message:[0,"nxTooltip","message"],manualTrigger:[1,"manualTrigger"]},exportAs:["nxTooltip"]})}}return o})(),zt=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275mod=N({type:o})}static{this.\u0275inj=S({imports:[it,J,lt]})}}return o})();export{gt as a,yt as b,Bt as c,zt as d};
