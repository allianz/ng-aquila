import{a as ne,b as v,c as oe,d as ie,e as re,f as ae,g as le,h as ce,i as de,j as se,k as pe,l as me,m as xe,n as he,o as ue}from"./chunk-LFVOHO7N.js";import{a as Z,b as ee,c as te}from"./chunk-H63L3S3Y.js";import{b as T,c as be}from"./chunk-UOLXQBER.js";import{c as Y}from"./chunk-J6Z7KG3T.js";import"./chunk-VDQBP35T.js";import"./chunk-DFNRE4Y6.js";import"./chunk-RNIYRFD4.js";import"./chunk-4QMPNLTP.js";import"./chunk-RKWFO56O.js";import{J,K,f as z}from"./chunk-4PBCESU4.js";import"./chunk-FBYV7GAQ.js";import{i as G,j as X,l as H}from"./chunk-ZAN6AJON.js";import{c as N,e as U}from"./chunk-46AG5KAY.js";import"./chunk-IIYWTZJL.js";import"./chunk-YTPHL7FO.js";import"./chunk-3ECL6DYR.js";import"./chunk-KOXZ6ZQA.js";import"./chunk-XFN5HCBD.js";import{y as g}from"./chunk-XHZUNMO4.js";import{Cc as u,Fc as c,Hb as _,Ib as W,Jb as R,Jc as V,Kc as $,Lc as F,Mb as C,Nc as L,Oc as B,Pc as Q,Qc as f,Tc as m,Uc as E,Vc as w,_c as b,cc as k,fc as S,hc as P,mc as a,na as I,nc as l,oc as s,pc as p,ra as q,tb as r,td as A,vd as j,xa as x,xc as D,ya as h}from"./chunk-BAXWLI7I.js";function ke(n,d){if(n&1&&p(0,"nx-icon",5),n&2){let e=c().$implicit;a("name",e.icon)}}function fe(n,d){if(n&1&&(l(0,"nx-tree-node")(1,"button",4),S(2,ke,1,1,"nx-icon",5),m(3),s()()),n&2){let e=d.$implicit;r(),a("title",b(e.label))("queryParams",e.query),r(),P(e.icon?2:-1),r(),w(" ",e.label," ")}}function ge(n,d){if(n&1&&p(0,"nx-icon",5),n&2){let e=c().$implicit;a("name",e.icon)}}function Ne(n,d){if(n&1&&(l(0,"nx-tree-node")(1,"button",6),S(2,ge,1,1,"nx-icon",5),m(3),s()()),n&2){let e=d.$implicit,t=c();r(),a("title",b(e.label))("expanded",t._treeControl.isExpanded(e)),r(),P(e.icon?2:-1),r(),w(" ",e.label," ")}}var M=(()=>{class n{constructor(){this.navigationData=[{label:"Option 1",icon:"user-o",children:[{label:"Option 1.1",query:{a:"1.1"}},{label:"Option 1.2",children:[{label:"Option 1.2.1",query:{a:"1.2.1"}},{label:"Option 1.2.2",query:{a:"1.2.2"}},{label:"Option 1.2.3",children:[{label:"Option 1.2.3.1",children:[{label:"Option 1.2.3.1.1",query:{a:"1.2.3.1.1"}}]}]}]},{label:"Option 1.3",query:{a:"1.3"}}]},{label:"Option 2",icon:"file",children:[{label:"Option 2.1",query:{a:"2.1"}},{label:"Option 2.2",query:{a:"2.2"}},{label:"Option 2.3",query:{a:"2.3"}}]},{label:"Option 3",icon:"file",query:{a:"3"}}],this._hasChild=(e,t)=>t.expandable,this._treeControl=new de,this._dataSource=new ce(this._treeControl,this.navigationData)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=_({type:n,selectors:[["tree-example"]],decls:4,vars:3,consts:[[1,"container"],[3,"dataSource","treeControl"],[4,"nxTreeNodeDef"],[4,"nxTreeNodeDef","nxTreeNodeDefWhen"],["nxAction","","nxTreeNodeActionItem","","nxTreeNodePadding","","nxTreeNodePaddingOffset","40","routerLinkActive","is-selected","routerLink","./","type","button",3,"queryParams","title"],["nxActionIcon","",3,"name"],["nxAction","","nxTreeNodeActionItem","","nxTreeNodeToggle","","nxTreeNodePadding","","nxTreeNodePaddingOffset","40","expandable","","type","button",3,"expanded","title"]],template:function(t,o){t&1&&(l(0,"div",0)(1,"nx-tree",1),C(2,fe,4,5,"nx-tree-node",2)(3,Ne,4,5,"nx-tree-node",3),s()()),t&2&&(r(),a("dataSource",o._dataSource)("treeControl",o._treeControl),r(2),a("nxTreeNodeDefWhen",o._hasChild))},dependencies:[he,pe,se,ee,le,me,X,G,N,Z,xe],encapsulation:2})}}return n})();function ve(n,d){if(n&1){let e=D();l(0,"cdk-tree-node",4),u("activation",function(){let o=x(e).$implicit,i=c();return h(i.toggleNode(o))}),p(1,"button",5),l(2,"nx-checkbox",6),u("checkedChange",function(){let o=x(e).$implicit,i=c();return h(i.toggleNode(o))}),m(3),s()()}if(n&2){let e=d.$implicit,t=c();f("display",t.shouldRender(e)?"flex":"none"),a("isDisabled",!t.shouldRender(e)),k("aria-checked",t.checklistSelection.isSelected(e)),r(2),a("treeCheckboxNode",e)("treeCheckboxParentNode",t.getParentNode(e))("checked",t.checklistSelection.isSelected(e)),r(),E(e.name)}}function Te(n,d){if(n&1){let e=D();l(0,"cdk-tree-node",7),u("activation",function(){let o=x(e).$implicit,i=c();return h(i.toggleNode(o))}),l(1,"button",8),p(2,"nx-icon",9),s(),l(3,"nx-checkbox",10),u("checkedChange",function(){let o=x(e).$implicit,i=c();return h(i.toggleNode(o))}),m(4),s()()}if(n&2){let e=d.$implicit,t=c(),o=Q(1);f("display",t.shouldRender(e)?"flex":"none"),a("cdkTreeNodeTypeaheadLabel",e.name)("isDisabled",!t.shouldRender(e))("isExpandable",e.expandable),k("aria-checked",t.descendantsAllSelected(e)?!0:t.descendantsPartiallySelected(e)?"mixed":!1),r(),f("visibility",e.expandable?"visible":"hidden"),k("aria-label","Toggle "+e.name),r(),a("name",b(o.isExpanded(e)?"chevron-down":"chevron-right")),r(),a("treeCheckboxNode",e)("treeCheckboxParentNode",t.getParentNode(e))("checked",t.descendantsAllSelected(e))("indeterminate",t.descendantsPartiallySelected(e)),r(),E(e.name)}}var y=[{name:"Fruit",expandable:!0,level:0},{name:"Apple",expandable:!1,level:1},{name:"Banana",expandable:!1,level:1},{name:"Fruit loops",expandable:!1,level:1},{name:"Vegetables",expandable:!0,level:0},{name:"Green",expandable:!0,level:1},{name:"Broccoli",expandable:!1,level:2},{name:"Brussels sprouts",expandable:!1,level:2},{name:"Orange",expandable:!0,level:1},{name:"Pumpkins",expandable:!1,level:2},{name:"Carrots",expandable:!1,level:2}],O=(()=>{class n{constructor(){this.checkbox=q(T,{self:!0}),this.node=A(null,{alias:"treeCheckboxNode"}),this.parentNode=A(null,{alias:"treeCheckboxParentNode"})}ngAfterViewInit(){this.checkbox._nativeInput.nativeElement.setAttribute("tabindex","-1")}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=R({type:n,selectors:[["","treeCheckboxNode",""]],inputs:{node:[1,"treeCheckboxNode","node"],parentNode:[1,"treeCheckboxParentNode","parentNode"]}})}}return n})(),Ce=(()=>{class n{constructor(){this.levelAccessor=e=>e.level,this.dataSource=new z(y),this.checklistSelection=new Y(!0),this.treeCheckboxNodes=j(O),this.hasChild=(e,t)=>t.expandable}getParentNode(e){let t=y.indexOf(e);for(let o=t-1;o>=0;o--)if(y[o].level===e.level-1)return y[o];return null}shouldRender(e){let t=this.getParentNode(e);return!t||!!this.tree?.isExpanded(t)&&this.shouldRender(t)}toggleNode(e){this.checklistSelection.toggle(e);let t=this.checklistSelection.isSelected(e);this.setDescendants(e,t),this.checkAllParentsSelection(e)}setDescendants(e,t){this.getDescendants(e).forEach(i=>{t?this.checklistSelection.select(i):this.checklistSelection.deselect(i)})}checkAllParentsSelection(e){let t=this.getParentNode(e);for(;t;)this.toggleRootNodeSelection(t),t=this.getParentNode(t)}toggleRootNodeSelection(e){let t=this.checklistSelection.isSelected(e),o=this.descendantsAllSelected(e);t&&!o?this.checklistSelection.deselect(e):!t&&o&&this.checklistSelection.select(e)}getDescendants(e){let t=[];return this._getDescendants(t,e),t.splice(1)}_getDescendants(e,t){e.push(t),this.treeCheckboxNodes()?.filter(o=>o.parentNode()===t).forEach(o=>{e.push(o.node()),this._getDescendants(e,o.node())})}descendantsAllSelected(e){let t=this.getDescendants(e);return t.length>0&&t.every(i=>this.checklistSelection.isSelected(i))}descendantsPartiallySelected(e){return this.getDescendants(e).some(i=>this.checklistSelection.isSelected(i))&&!this.descendantsAllSelected(e)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=_({type:n,selectors:[["tree-with-checkboxes-example"]],viewQuery:function(t,o){if(t&1&&(L(o.treeCheckboxNodes,O,5),V(v,5)),t&2){B();let i;$(i=F())&&(o.tree=i.first)}},decls:4,vars:3,consts:[["tree",""],[3,"dataSource","levelAccessor"],["cdkTreeNodePadding","","class","example-tree-node",3,"display","isDisabled","activation",4,"cdkTreeNodeDef"],["cdkTreeNodePadding","","class","example-tree-node",3,"cdkTreeNodeTypeaheadLabel","display","isDisabled","isExpandable","activation",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],["cdkTreeNodePadding","",1,"example-tree-node",3,"activation","isDisabled"],["nxPlainButton","small","disabled","",1,"custom-toggle-button","empty"],["tabindex","-1",3,"checkedChange","treeCheckboxNode","treeCheckboxParentNode","checked"],["cdkTreeNodePadding","",1,"example-tree-node",3,"activation","cdkTreeNodeTypeaheadLabel","isDisabled","isExpandable"],["nxPlainButton","small","cdkTreeNodeToggle","",1,"custom-toggle-button"],[3,"name"],[3,"checkedChange","treeCheckboxNode","treeCheckboxParentNode","checked","indeterminate"]],template:function(t,o){t&1&&(l(0,"cdk-tree",1,0),C(2,ve,4,8,"cdk-tree-node",2)(3,Te,5,16,"cdk-tree-node",3),s()),t&2&&(a("dataSource",o.dataSource)("levelAccessor",o.levelAccessor),r(3),a("cdkTreeNodeDefWhen",o.hasChild))},dependencies:[ae,ne,ie,re,v,oe,g,be,T,K,J,N,O],styles:[".custom-toggle-button[_ngcontent-%COMP%]{--plain-button-color: var(--text-01);--plain-button-hover-color: var(--plain-button-color);--plain-button-active-color: var(--plain-button-color);--plain-button-icon-size: 16px;width:32px;height:24px}.custom-toggle-button[disabled][_ngcontent-%COMP%]{cursor:initial}[_nghost-%COMP%]     .nx-plain-button__content-wrapper{height:100%;width:100%}cdk-tree-node[_ngcontent-%COMP%]{margin-bottom:16px;align-items:center}cdk-tree-node[_ngcontent-%COMP%]:focus-visible{outline:none}cdk-tree-node[_ngcontent-%COMP%]:focus-visible   nx-checkbox[_ngcontent-%COMP%]{border-radius:var(--checkbox-border-radius);box-shadow:var(--focus-box-shadow)}"]})}}return n})();var ye=[M],Ye=(()=>{class n{static components(){return{tree:M,"tree-with-checkboxes":Ce}}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=W({type:n})}static{this.\u0275inj=I({imports:[ue,U,te,H,g,ye]})}}return n})();export{Ye as TreeExamplesModule};
