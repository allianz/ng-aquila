import{a as Mt,b as Dt,c as It}from"./chunk-T7OYB5VL.js";import{a as Oe,b as Pe,c as Tt}from"./chunk-2D2L7UJN.js";import{a as Et,b as St}from"./chunk-DZI6RNQO.js";import{a as wt}from"./chunk-J5WOYHDL.js";import{h as Ut}from"./chunk-VYHOF4H6.js";import{k as yt}from"./chunk-SSXHYH7F.js";import"./chunk-FAMCENN6.js";import{a as Nt}from"./chunk-K3SDRKSK.js";import{a as Ct,b as V,c as Ft,d as y,e as vt}from"./chunk-PJAXWVFO.js";import{d as Y,e as ft,f as k,g as q,h as K,i as Be,j as X,k as re,l as H,o as A,r as ee,v as xt}from"./chunk-7DM2RCKG.js";import"./chunk-6F667P3K.js";import"./chunk-JAOXD6DZ.js";import{c as _t,d as N}from"./chunk-6EJ75MYY.js";import"./chunk-AZNKYEEF.js";import{a as bt}from"./chunk-ZUN3ABGE.js";import{g as S,h as ht,j as ke}from"./chunk-JFBJNJOI.js";import"./chunk-N4TPPGOG.js";import"./chunk-WM74LGRG.js";import"./chunk-IF6UUDNN.js";import{c as C,e as Ve}from"./chunk-XCH6QUQF.js";import{w as gt}from"./chunk-24YYLMVA.js";import{a as ct,b as U,d as E}from"./chunk-UNAIOKK5.js";import{a as ve,b as Ge}from"./chunk-DHX4UWRX.js";import{B as ut,n as _e,o as B,s as dt,x as ne,z as mt}from"./chunk-EDQQKHAX.js";import{Aa as ue,Ab as se,Ac as J,B as Le,Bc as he,Cc as z,Da as ot,Dc as Fe,Fb as le,Gb as m,Hb as je,I as Xe,Ib as ce,J as qe,M as He,Mb as v,Nb as l,O as et,Ob as a,Pb as f,Qb as rt,Rb as lt,Sb as at,Tb as Ce,U as tt,_b as x,ac as T,bc as Re,ca as Ae,cc as pe,dc as fe,ea as h,gc as _,hc as s,ic as xe,jc as O,kc as ge,la as Ne,lc as Ie,ma as we,n as F,nb as nt,s as Ke,tc as st,ua as g,ub as d,uc as W,va as Te,vb as c,vc as ie,wa as Me,wc as pt,xb as De,ya as it,za as me,zc as P}from"./chunk-H42V67ZX.js";var Xt=["*"];function ei(o,t){if(o&1&&(l(0,"span",4),s(1),a()),o&2){let p=T();je("background-color",p.iconColor[p.extension]||"#000"),d(1),xe(p.extension)}}function ti(o,t){if(o&1&&(l(0,"span"),s(1),a()),o&2){let p=T();d(1),xe(p.uploadingLabel)}}function ii(o,t){if(o&1&&(l(0,"span"),s(1),W(2,"number"),a()),o&2){let p=T();d(1),O("",pt(2,1,p.size/1024/1024,".2")," MB")}}function oi(o,t){o&1&&f(0,"nx-spinner",2)}function ni(o,t){if(o&1&&f(0,"nx-icon",3),o&2){let p=T();le("aria-label",p.uploadedLabel||null)}}var ri=["nativeInputFile"],li=["fileRowElement"];function ai(o,t){o&1&&pe(0,4,["*ngIf","errorState || errors.length"])}function si(o,t){o&1&&at(0)}var pi=(o,t)=>({templateContext:o,file:t});function di(o,t){if(o&1){let p=Ce();l(0,"div",6,7),x("keydown",function(i){me(p);let n=T(2);return ue(n._handleKeydownListRow(i))}),v(2,si,1,0,"ng-container",8),a()}if(o&2){let p=t.$implicit,e=T(2),i=_(9);ce("nx-file-uploader--file-state-uploading",p.isUploading)("nx-file-uploader--default-template",!e._itemTemplate),d(2),m("ngTemplateOutlet",e._itemTemplate?e._itemTemplate:i)("ngTemplateOutletContext",st(6,pi,e._templateContext,p))}}function mi(o,t){if(o&1&&(rt(0),l(1,"div",4),v(2,di,3,9,"div",5),a(),lt()),o&2){let p=T();d(1),le("aria-label",p._templateContext.uploadedListLabel),d(1),m("ngForOf",p.value)}}function ui(o,t){if(o&1){let p=Ce();f(0,"nx-file-upload-name",9)(1,"nx-file-upload-size",10),l(2,"div",11),f(3,"nx-file-upload-status",12),l(4,"nx-file-upload-delete",13),x("click",function(){let n=me(p).file,r=T();return ue(r.removeFile(n))}),a()()}if(o&2){let p=t.templateContext,e=t.file;m("name",e==null?null:e.name),d(1),m("size",e==null?null:e.size)("isUploading",e.isUploading)("uploadingLabel",p.uploadingLabel),d(2),m("isUploading",e.isUploading)("isUploaded",e.isUploaded)("uploadedLabel",p.uploadedLabel),d(1),m("deleteLabel",p.deleteLabel)("isUploading",e.isUploading)}}var ci=[[["nx-label"]],[["","nxFileUploadHint",""]],[["nx-file-uploader-drop-zone"]],[["","nxFileUploadButton",""]],[["nx-error"]]],fi=["nx-label","[nxFileUploadHint]","nx-file-uploader-drop-zone","[nxFileUploadButton]","nx-error"],ye=class{constructor(t,p){this.files=t,this.requests=p}},be=class{constructor(t,p){this.files=t,this.requests=p}},D=class{set config(t){this._config!==t&&(this._config=t)}get config(){return this._config}constructor(t,p){this.response=new F,this._config=t,this._httpClient=p}uploadFiles(t){this.config.uploadSeparately?this._uploadFilesSeparately(t):this._uploadFilesCollectively(t)}_uploadFilesCollectively(t){if(!t||t.length===0)return;let p=new FormData,e=t.filter(i=>!i.isUploaded);e.forEach(i=>{i.setUploadingState(),p.append("uploads[]",i.file,i.name)}),this._httpClient.post(this.config.requestUrl,p,this.config.options).subscribe(i=>{e.forEach(n=>n.setUploadedState()),this.response.next({allSucessful:!0,success:new ye(e,[i])})},i=>{e.forEach(n=>n.setErrorState()),this.response.next({error:new be(e,[i])})})}_uploadFilesSeparately(t){if(!t)return;let p=[];t.filter(i=>!i.isUploaded).forEach(i=>{p.push(this._uploadFile(i).pipe(et(n=>Ke(n))))}),Xe(p).subscribe(i=>{let n=i.reduce((r,u)=>(u.success?(r.success||(r.success=new ye([],[])),r.success.files.push(...u.success.files),r.success.requests.push(...u.success.requests)):u.error&&(r.error||(r.error=new be([],[])),r.error.files.push(...u.error.files),r.error.requests.push(...u.error.requests)),r),{});n.error||(n.allSucessful=!0),this.response.next(n)})}_uploadFile(t){let p=new F,e=new FormData;return t.isUploaded||(t.setUploadingState(),e.append("uploads[]",t.file,t.name)),this._httpClient.post(this.config.requestUrl,e,this.config.options).subscribe(i=>{t.setUploadedState(),p.next({success:new ye([t],[i])}),p.complete()},i=>{t.setErrorState(),p.next({error:new be([t],[i])}),p.complete()}),p}},Qe=class{constructor(t,p=0){this.isUploading=!1,this.isUploaded=!1,this.isError=!1,this.index=0,this.onChange=new se,this.file=t,this.name=t.name,this._size=t.size,this._type=t.type,this.index=p}get size(){return this._size}get type(){return this._type}setUploadedState(){this.isUploaded=!0,this.isUploading=!1,this.isError=!1,this.onChange.emit(this)}setUploadingState(){this.isUploaded=!1,this.isUploading=!0,this.isError=!1,this.onChange.emit(this)}setErrorState(){this.isUploaded=!1,this.isUploading=!1,this.isError=!0,this.onChange.emit(this)}};function Bt(o,t,p){if(!t||!o.type&&!p)return!0;let e=$e(o.name);return t.replace(/\s/g,"").split(",").filter(i=>new RegExp(i).test(o.type)||i===e).length>0}function xi(o,t){return!t||o.size<=t}function $e(o){let t=o.split(".");return t.length===1?"":"."+t.pop()}function kt(o,t){return!o||!t||o<=t}var ze=class{static maxFileSize(t,p){return e=>!t||t>p.size?null:{NxFileUploadMaxFileSize:{max:t,fileName:p.name,actual:p.size}}}static fileType(t,p,e){return i=>Bt(t,p,e)?null:{NxFileUploadFileTypeNotAccepted:{fileName:t.name}}}static maxFileNumber(t,p){return e=>kt(t,p)?null:{NxFileUploadMaxFileNumber:{max:p,actual:t}}}},b=(()=>{let t=class t{set disabled(e){this._disabled=e,this._cdr.markForCheck()}get disabled(){return this._disabled}constructor(e,i){this._cdr=e,this.elemetRef=i,this._disabled=!1,this._clicked=new F}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onClick(){this._clicked.next()}ngOnDestroy(){this._clicked.complete()}};t.\u0275fac=function(i){return new(i||t)(c(De),c(nt))},t.\u0275dir=Me({type:t,selectors:[["","nxFileUploadButton",""]],hostVars:4,hostBindings:function(i,n){i&1&&x("click",function(){return n.onClick()}),i&2&&(le("aria-describedby",n._ariaDescribedby||null)("disabled",n.disabled||null),ce("nx-file-upload-button",!0))},inputs:{disabled:"disabled"}});let o=t;return o})();function gi(o){return o!=null}var de=(()=>{let t=class t{set disabled(e){this._disabled=e,this._cdr.markForCheck()}get disabled(){return this._disabled}constructor(e){this._cdr=e,this._disabled=!1,this._active=!1,this.fileDropped=new se}onDrop(e){if(e.preventDefault(),this.disabled){if(!e.dataTransfer)return;e.dataTransfer.dropEffect="no-drop"}else{if(!e.dataTransfer){this.fileDropped.emit([]);return}let{dataTransfer:i}=e;if(i.items){let n=Array.from(i.items).map(r=>r.getAsFile()).filter(gi);i.items.clear(),this.fileDropped.emit(n)}else{let n=Array.from(i.files);i.clearData(),this.fileDropped.emit(n)}this._active=!1}}onDragOver(e){e.stopPropagation(),e.preventDefault(),this.disabled?e.dataTransfer.dropEffect="none":(e.dataTransfer.dropEffect="copy",this._active=!0,this._cdr.markForCheck())}onDragLeave(e){this._active=!1,e.dataTransfer.dropEffect="none",this._cdr.markForCheck()}onDragEnd(e){e.dataTransfer.dropEffect="none"}onDragStart(e){this.disabled?e.dataTransfer.dropEffect="none":e.dataTransfer.dropEffect="copy"}get active(){return this._active}};t.\u0275fac=function(i){return new(i||t)(c(De))},t.\u0275cmp=g({type:t,selectors:[["nx-file-uploader-drop-zone"]],hostVars:4,hostBindings:function(i,n){i&1&&x("drop",function(u){return n.onDrop(u)})("dragover",function(u){return n.onDragOver(u)})("dragleave",function(u){return n.onDragLeave(u)})("dragend",function(u){return n.onDragEnd(u)})("dragstart",function(u){return n.onDragStart(u)}),i&2&&ce("is-active",n.active)("is-disabled",n.disabled)},inputs:{disabled:"disabled"},outputs:{fileDropped:"fileDropped"},ngContentSelectors:Xt,decls:1,vars:0,template:function(i,n){i&1&&(Re(),pe(0))},styles:["[_nghost-%COMP%]     button{margin-bottom:16px}@media (min-width: 704px){[_nghost-%COMP%]{height:104px;border:1px dashed var(--file-uploader-drop-zone-border-color);align-items:center;justify-content:center;display:flex;color:var(--file-uploader-drop-zone-text-color)}.is-active[_nghost-%COMP%]{border-style:solid}.is-disabled[_nghost-%COMP%]{cursor:no-drop}[_nghost-%COMP%]     button{margin-bottom:0}}"],changeDetection:0});let o=t;return o})(),hi=0,M=(()=>{let t=class t{constructor(){this.id=`nx-formfield-hint-${hi++}`}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=Me({type:t,selectors:[["","nxFileUploadHint",""]],hostVars:3,hostBindings:function(i,n){i&2&&(le("id",n.id),ce("nx-file-upload-hint",!0))},inputs:{id:"id"}});let o=t;return o})(),Ue=(()=>{let t=class t{constructor(){this.changes=new F,this.uploadingLabel="uploading",this.deleteLabel="Delete",this.uploadedStateLabel="uploaded",this.uploadedListLabel="List of uploaded files"}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})(),Ze=(()=>{let t=class t{constructor(){this.iconColor={xls:"#1E8927",xlsx:"#1E8927",pdf:"#DC3149",png:"#ba31dc"}}ngOnInit(){this.extension=$e(this.name).substring(1)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=g({type:t,selectors:[["nx-file-upload-name"]],inputs:{name:"name"},decls:5,vars:2,consts:[[1,"extension"],["class","extension-label",3,"background-color",4,"ngIf"],["name","file",1,"extension-icon"],[1,"nx-margin-left-2xs"],[1,"extension-label"]],template:function(i,n){i&1&&(l(0,"span",0),v(1,ei,2,3,"span",1),f(2,"nx-icon",2),a(),l(3,"span",3),s(4),a()),i&2&&(d(1),m("ngIf",n.extension),d(3),xe(n.name))},dependencies:[B,C],styles:["[_nghost-%COMP%]{font-size:var(--file-uploader-file-name-font-size);line-height:var(--file-uploader-file-name-line-height);font-weight:var(--file-uploader-file-name-font-weight);letter-spacing:var(--file-uploader-file-name-letter-spacing)}.extension[_ngcontent-%COMP%]{position:relative;top:4px;display:inline-flex}.extension-icon[_ngcontent-%COMP%]{font-size:22px}.extension-label[_ngcontent-%COMP%]{position:absolute;text-transform:uppercase;-webkit-user-select:none;user-select:none;line-height:normal;font-weight:700;padding:1px 3px;right:4px;bottom:4px;border-radius:2px 0 0 2px;font-size:6px;color:#fff}"]});let o=t;return o})(),We=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=g({type:t,selectors:[["nx-file-upload-size"]],inputs:{size:"size",isUploading:"isUploading",uploadingLabel:"uploadingLabel"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["uploaded",""]],template:function(i,n){if(i&1&&v(0,ti,2,1,"span",0)(1,ii,3,4,"ng-template",null,1,Fe),i&2){let r=_(2);m("ngIf",n.isUploading)("ngIfElse",r)}},dependencies:[B,mt],styles:["[_nghost-%COMP%]{white-space:nowrap}"]});let o=t;return o})(),Je=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=g({type:t,selectors:[["nx-file-upload-status"]],inputs:{isUploading:"isUploading",isUploaded:"isUploaded",uploadedLabel:"uploadedLabel"},decls:2,vars:2,consts:[["size","medium",4,"ngIf"],["name","check-circle","size","s",4,"ngIf"],["size","medium"],["name","check-circle","size","s"]],template:function(i,n){i&1&&v(0,oi,1,0,"nx-spinner",0)(1,ni,1,1,"nx-icon",1),i&2&&(m("ngIf",n.isUploading),d(1),m("ngIf",n.isUploaded))},dependencies:[B,C,Et],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]   nx-icon[_ngcontent-%COMP%]{color:var(--file-uploader-file-row-icon-color)}"]});let o=t;return o})(),Ye=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=g({type:t,selectors:[["nx-file-upload-delete"]],inputs:{isUploading:"isUploading",deleteLabel:"deleteLabel"},decls:2,vars:3,consts:[["nxIconButton","tertiary small-medium","type","button"],["name","trash-o"]],template:function(i,n){i&1&&(l(0,"button",0),f(1,"nx-icon",1),a()),i&2&&(le("aria-label",n.deleteLabel||null)("disabled",n.isUploading||null),d(1),le("aria-hidden",!0))},dependencies:[C,ht],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%] > button[_ngcontent-%COMP%]{margin-bottom:0;white-space:nowrap}"]});let o=t;return o})(),_i=0,w=(()=>{let t=class t{set noBlockingValidators(e){this._noBlockingValidators=ve(e)}get noBlockingValidators(){return this._noBlockingValidators}set id(e){this._id=e,this._cdr.markForCheck()}get id(){return this._id}set required(e){this._required=ve(e)}get required(){return this._required}set value(e){this.writeValue(e)}get value(){return this._value}set name(e){this._name=e}get name(){return this._name}set disabled(e){this._disabled=ve(e),this.button&&(this.button.disabled=this._disabled),this._dropZone&&(this._dropZone.disabled=this._disabled),this._cdr.markForCheck()}get disabled(){return this._disabled}set multiple(e){this._multiple=ve(e)}get multiple(){return this._multiple}set accept(e){this._accept=e}get accept(){return this._accept}set maxFileSize(e){this._maxFileSize=Ge(e)}get maxFileSize(){return this._maxFileSize}set uploader(e){this._uploader!==e&&(this._uploader=e)}get uploader(){return this._uploader}set maxFileNumber(e){this._maxFileNumber=Ge(e)}get maxFileNumber(){return this._maxFileNumber}set itemTemplate(e){this._itemTemplate!==e&&(this._itemTemplate=e)}get itemTemplate(){return this._itemTemplate}constructor(e,i,n,r,u,te,Kt){this._cdr=e,this._errorStateMatcher=i,this._intl=n,this._parentForm=r,this._parentFormGroup=u,this.ngControl=te,this._focusMonitor=Kt,this._filesSubscriptions=[],this.valueChange=new se,this.fileDeleted=new se,this.filesSelected=new se,this._controlValidators=null,this.errorState=!1,this.errors=[],this._noBlockingValidators=!1,this.stateChanges=new F,this.validatorFnArray=[],this._id=`nx-file-uploader-${_i++}`,this._inputId=`${this.id}-input`,this._labelId=`${this.id}-label`,this._required=!1,this._disabled=!1,this._multiple=!1,this.strictAcceptValidation=!1,this._maxFileSize=0,this._maxFileNumber=null,this._destroyed=new F,this.openedChange=new se,this._openedStream=this.openedChange.pipe(He(Se=>Se),Le(()=>{})),this._closedStream=this.openedChange.pipe(He(Se=>!Se),Le(()=>{})),this.onChangeCallback=Se=>{},this.onTouchedCallback=()=>{},this.ngControl&&(this.ngControl.valueAccessor=this),this._templateContext=this}ngOnInit(){this.ngControl?.control&&(this._controlValidators=this.ngControl.control.validator),this._intl.changes.pipe(h(this._destroyed)).subscribe(()=>{this._cdr.markForCheck(),this.stateChanges.next()}),this._resetValidators()}ngAfterViewInit(){this._fileRowElements.forEach(e=>this._focusMonitor.monitor(e)),this._fileRowElementsPrevious=this._fileRowElements,this._fileRowElements.changes.pipe(h(this._destroyed)).subscribe(e=>{this._fileRowElementsPrevious.forEach(i=>this._focusMonitor.stopMonitoring(i)),this._fileRowElementsPrevious=e,e.forEach(i=>this._focusMonitor.monitor(i))})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._filesSubscriptions.forEach(e=>e.unsubscribe()),this._fileRowElements.forEach(e=>this._focusMonitor.stopMonitoring(e))}updateErrorState(){let e=this.errorState,i=this._parentFormGroup||this._parentForm,n=this.ngControl?this.ngControl.control:null,r=this._errorStateMatcher.isErrorState(n,i);r!==e&&(this.errorState=r,this.stateChanges.next())}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}writeValue(e){this._value!==e&&(e&&this._filesSubscriptions&&(this._filesSubscriptions.forEach(i=>i.unsubscribe()),this._filesSubscriptions=[]),this._value=e,this._subscribeToFileChanges())}isValidOnSelection(e){return xi(e,this.maxFileSize)||this.setFileSizeError(e),Bt(e,this.accept,this.strictAcceptValidation)||this.setFileTypeError(e),this.errors.length===0}_resetValidators(e=!1){if(this.ngControl?.control){e&&this.ngControl.control.clearValidators();let i=[];this._controlValidators&&i.unshift(this._controlValidators),this.validatorFnArray&&i.push(...this.validatorFnArray),this.ngControl.control.setValidators(i),this.ngControl.control.updateValueAndValidity()}}ngAfterContentInit(){if(!this.button)return;this.button._clicked.pipe(h(this._destroyed)).subscribe(()=>{if(this.errors=[],this.maxFileNumber&&(this.value?.length||0)===this.maxFileNumber){this.setMaxFileNumberError(this.maxFileNumber),this._resetValidators(!0);return}this.nativeInputFile.nativeElement.click()});let e=qe(this.button.elemetRef.nativeElement,"focus"),i=qe(this.button.elemetRef.nativeElement,"click"),n=!1;i.pipe(h(this._destroyed)).subscribe(()=>{n=!0,this.openedChange.emit(n)}),e.pipe(h(this._destroyed)).subscribe(()=>{n&&(n=!1,this.openedChange.emit(n))}),this.button.disabled=this.disabled,this._dropZone&&(this._dropZone.fileDropped.pipe(h(this._destroyed)).subscribe(r=>{this._addFilesToQueue(r)}),this._dropZone.disabled=this.disabled),this._label&&(this._label.for=this._inputId,this._label.id=this._labelId),this.stateChanges.pipe(h(this._destroyed)).subscribe(()=>{this._syncDescribedByIds(),this._cdr.markForCheck()}),this._hintChildren.changes.pipe(Ae(null),h(this._destroyed)).subscribe(()=>{this._syncDescribedByIds(),this._cdr.markForCheck()}),this._errorList.changes.pipe(Ae(null),h(this._destroyed)).subscribe(()=>{this._syncDescribedByIds(),this._cdr.markForCheck()})}_addFilesToQueue(e){this.multiple||(this.value=[]),this._setFileListFromValue(e),this._resetValidators(!0),this.onChangeCallback(this.value),this.onTouchedCallback(),this.valueChange.emit(this.value),this.filesSelected.emit(this.value)}_setFileListFromValue(e){if(this.validatorFnArray=[],e===null)this.value=void 0;else{this.errors=[];let i=(this.value?.length||0)+e.length;kt(i,this.maxFileNumber)?e.forEach(n=>{if(this.isValidOnSelection(n)){let r=new Qe(n);this.value?this.value.push(r):this.value=[r],this._cdr.markForCheck()}}):this.setMaxFileNumberError(i),this._subscribeToFileChanges()}}removeFile(e){this.value=this.value.filter(i=>e!==i),this._filesSubscriptions&&(this._filesSubscriptions.forEach(i=>i.unsubscribe()),this._filesSubscriptions=[]),this._subscribeToFileChanges(),this.validatorFnArray=[],this._resetValidators(!0),this._cdr.markForCheck(),this.valueChange.emit(this.value),this.fileDeleted.emit(e),this.onTouchedCallback(),this.onChangeCallback(this.value),this.nativeInputFile.nativeElement.value=""}uploadFiles(){if(!this.uploader){console.warn("No uploader found. Please define a NxFileUpload to use the uploading mechanism.");return}this.uploader&&(this.uploader.response.pipe(tt(1)).subscribe(e=>{let i=this.value?.filter(r=>r.isUploaded&&!r.isError),n=e.error?.files.filter(r=>!r.isUploaded&&r.isError);n?.length&&n?.forEach(r=>this.setFileUploadError(r,"An error occured while uploading")),this.value=i}),this.uploader.uploadFiles(this.value))}ngDoCheck(){this.ngControl&&this.updateErrorState()}get uploadingLabel(){return this._intl.uploadingLabel}get deleteLabel(){return this._intl.deleteLabel}get uploadedLabel(){return this._intl.uploadedStateLabel}get uploadedListLabel(){return this._intl.uploadedListLabel}_syncDescribedByIds(){let e=[];e=this._hintChildren.map(i=>i.id),e=this._label?[this._label.id,...e]:e,e=[...this._errorList.map(i=>i.id),...e],this.button?.setDescribedByIds(e)}_handleKeydownListRow(e){if(e.keyCode===40){let i=e.target.nextSibling;i?.classList?.contains("nx-file-uploader--file-row")&&(e.preventDefault(),i.focus())}else if(e.keyCode===38){let i=e.target.previousSibling;i?.classList?.contains("nx-file-uploader--file-row")&&(e.preventDefault(),i.focus())}}_onFileChange(e){if(this.disabled)return;let i=e.target,n=Array.from(i.files??[]);this._addFilesToQueue(n),this.stateChanges.next(),this._cdr.markForCheck(),this.nativeInputFile.nativeElement.value=""}_subscribeToFileChanges(){if(this.value?.length){let e;this.value.map(i=>{e=i.onChange.subscribe(()=>{this._cdr.markForCheck()}),this._filesSubscriptions.push(e)})}}setMaxFileNumberError(e){this.errors.push({filename:"",type:"fileNumber",max:this.maxFileNumber,actual:e}),!this.noBlockingValidators&&this.ngControl?.control&&this.validatorFnArray.push(i=>({NxFileUploadMaxFileNumber:{max:this.maxFileNumber,actual:e}}))}setFileSizeError(e){this.errors.push({filename:e.name,type:"fileSize",max:this.maxFileSize,actual:e.size}),!this.noBlockingValidators&&this.ngControl?.control&&this.validatorFnArray.push(ze.maxFileSize(this.maxFileSize,e))}setFileTypeError(e){this.errors.push({filename:e.name,type:"fileType",extension:this.accept,actual:$e(e.name)}),!this.noBlockingValidators&&this.ngControl?.control&&this.validatorFnArray.push(ze.fileType(e,this.accept,this.strictAcceptValidation))}setFileUploadError(e,i){this.errors.push({filename:e.name,type:"upload",reason:i})}get allFilesUploaded(){return this.value?.every(e=>e.isUploaded)||!1}setDisabledState(e){this.disabled=e,this.stateChanges.next()}};t.\u0275fac=function(i){return new(i||t)(c(De),c(bt),c(Ue),c(Be,8),c(A,8),c(ft,10),c(gt))},t.\u0275cmp=g({type:t,selectors:[["nx-file-uploader"]],contentQueries:function(i,n,r){if(i&1&&(he(r,b,5),he(r,de,7),he(r,y,5),he(r,M,4),he(r,V,4)),i&2){let u;P(u=z())&&(n.button=u.first),P(u=z())&&(n._dropZone=u.first),P(u=z())&&(n._label=u.first),P(u=z())&&(n._hintChildren=u),P(u=z())&&(n._errorList=u)}},viewQuery:function(i,n){if(i&1&&(J(ri,5),J(li,5)),i&2){let r;P(r=z())&&(n.nativeInputFile=r.first),P(r=z())&&(n._fileRowElements=r)}},hostVars:3,hostBindings:function(i,n){i&2&&(le("aria-invalid",n.errorState),ce("has-error",n.errorState))},inputs:{noBlockingValidators:"noBlockingValidators",id:"id",required:"required",value:"value",name:"name",disabled:"disabled",multiple:"multiple",accept:"accept",strictAcceptValidation:"strictAcceptValidation",maxFileSize:"maxFileSize",uploader:"uploader",maxFileNumber:"maxFileNumber",itemTemplate:"itemTemplate"},outputs:{valueChange:"valueChange",fileDeleted:"fileDeleted",filesSelected:"filesSelected",openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed"},exportAs:["NxFileUploaderComponent"],features:[Ie([{provide:Ct,useValue:{appearance:"message"}}]),it],ngContentSelectors:fi,decls:10,vars:6,consts:[[4,"ngIf"],["type","file",3,"id","change"],["nativeInputFile",""],["defaultFileRow",""],["role","list",1,"nx-file-uploader--file-list","nx-margin-bottom-m"],["class","nx-file-uploader--file-row","role","listitem",3,"nx-file-uploader--file-state-uploading","nx-file-uploader--default-template","keydown",4,"ngFor","ngForOf"],["role","listitem",1,"nx-file-uploader--file-row",3,"keydown"],["fileRowElement",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"name"],[3,"size","isUploading","uploadingLabel"],[1,"nx-file-uploader--file-row-actions"],[3,"isUploading","isUploaded","uploadedLabel"],[3,"deleteLabel","isUploading","click"]],template:function(i,n){i&1&&(Re(ci),v(0,ai,1,0,"ng-content",0),pe(1),pe(2,1),pe(3,2),pe(4,3),l(5,"input",1,2),x("change",function(u){return n._onFileChange(u)}),a(),v(7,mi,3,2,"ng-container",0)(8,ui,5,9,"ng-template",null,3,Fe)),i&2&&(m("ngIf",n.errorState||n.errors.length),d(5),m("id",n._inputId),le("multiple",n.multiple||null)("disabled",n.disabled||null)("accept",n.accept),d(2),m("ngIf",n.value&&n.value.length>0))},dependencies:[_e,B,dt,Ze,We,Je,Ye],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nx-error.nx-error--message{margin:12px 0}[_nghost-%COMP%]     nx-error.nx-error--message ul{margin-left:28px;margin-top:6px}[_nghost-%COMP%]     nx-error.nx-error--message li{line-height:24px}.nx-file-uploader--file-list[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.nx-file-uploader--file-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;border-bottom-width:1px;border-bottom-style:solid;padding:8px 12px;border-bottom-color:var(--file-uploader-file-row-border-bottom-color);color:var(--file-uploader-file-row-text-color)}.nx-file-uploader--file-row[_ngcontent-%COMP%]:hover{background-color:var(--file-uploader-file-row-hover-background-color)}.nx-file-uploader--file-row[_ngcontent-%COMP%]:focus{outline:none}.nx-file-uploader--file-row[_ngcontent-%COMP%]     .nx-file-uploader--file-row-actions{margin-left:auto;display:flex;align-items:center;justify-content:flex-end;min-width:120px;flex:none}[dir=rtl][_nghost-%COMP%]   .nx-file-uploader--file-row[_ngcontent-%COMP%]     .nx-file-uploader--file-row-actions, [dir=rtl]   [_nghost-%COMP%]   .nx-file-uploader--file-row[_ngcontent-%COMP%]     .nx-file-uploader--file-row-actions{margin-left:initial;margin-right:auto}.nx-file-uploader--file-row.nx-file-uploader--default-template[_ngcontent-%COMP%]   nx-file-upload-name[_ngcontent-%COMP%]{flex:none;max-width:65%;overflow-wrap:break-word;line-height:28px}@media (max-width: 703px){.nx-file-uploader--file-row.nx-file-uploader--default-template[_ngcontent-%COMP%]   nx-file-upload-name[_ngcontent-%COMP%]{flex:100%;max-width:100%}}.nx-file-uploader--file-row.nx-file-uploader--default-template[_ngcontent-%COMP%]   nx-file-upload-size[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:flex-end}@media (max-width: 703px){.nx-file-uploader--file-row.nx-file-uploader--default-template[_ngcontent-%COMP%]   nx-file-upload-size[_ngcontent-%COMP%]{justify-content:flex-start}}.nx-file-uploader--file-row.nx-file-uploader--default-template[_ngcontent-%COMP%]   nx-file-upload-status[_ngcontent-%COMP%]{flex:0 1 auto;padding:0 16px}.nx-file-uploader--file-row.nx-file-uploader--default-template[_ngcontent-%COMP%]   nx-file-upload-delete[_ngcontent-%COMP%]{flex:0 1 auto}.nx-file-uploader--file-row.nx-file-uploader--file-state-uploading[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{color:var(--file-uploader-file-row-uploading-file-name-color)}  input[type=file]{display:none}  .nx-file-upload-button{display:block}  .nx-file-upload-hint{font-size:var(--file-uploader-hint-font-size);line-height:var(--file-uploader-hint-line-height);font-weight:var(--file-uploader-hint-font-weight);letter-spacing:var(--file-uploader-hint-letter-spacing);display:block}.nx-file-uploader--file-row.cdk-keyboard-focused[_ngcontent-%COMP%]{box-shadow:var(--focus-box-shadow)}@media screen and (forced-colors: active),(forced-colors: active){.nx-file-uploader--file-row.cdk-keyboard-focused[_ngcontent-%COMP%]{box-shadow:0 0 0 2px background,0 0 0 6px CanvasText;outline:4px solid CanvasText;outline-offset:2px}}"],changeDetection:0});let o=t;return o})(),I=(()=>{let t=class t{set fileUpload(e){this._fileUpload!==e&&(this._fileUpload=e)}get fileUpload(){return this._fileUpload}_onClick(){this._fileUpload.uploadFiles()}get visibility(){return this._fileUpload.allFilesUploaded?"hidden":"unset"}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=Me({type:t,selectors:[["","nxFileUploadTriggerFor",""]],hostVars:2,hostBindings:function(i,n){i&1&&x("click",function(){return n._onClick()}),i&2&&je("visibility",n.visibility)},inputs:{fileUpload:["nxFileUploadTriggerFor","fileUpload"]},exportAs:["nxFileUploadTrigger"]});let o=t;return o})(),Vt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=we({providers:[Ue],imports:[ut,Ve,ke,St,Ft,vt]});let o=t;return o})();var Ci=["documentUpload"],Ee={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},Ot=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new U,headers:new ct({"My-Custom-Header":"custom-header-value"}),reportProgress:!0}},this.myFiles=[],this.uploader=new D(this.uploadConfig,this.http),this._destroyed=new F}ngOnInit(){this.uploader.response.pipe(h(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Ee):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onFilesAddedChange(e){e&&this.documentUpload.uploadFiles()}};t.\u0275fac=function(i){return new(i||t)(c(N),c(E))},t.\u0275cmp=g({type:t,selectors:[["file-uploader-auto-example"]],viewQuery:function(i,n){if(i&1&&J(Ci,5),i&2){let r;P(r=z())&&(n.documentUpload=r.first)}},decls:9,vars:2,consts:[["multiple","",3,"ngModel","uploader","ngModelChange","filesSelected"],["documentUpload",""],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary small-medium","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","nxIconPositionStart","","aria-hidden","true"]],template:function(i,n){i&1&&(l(0,"nx-file-uploader",0,1),x("ngModelChange",function(u){return n.myFiles=u})("filesSelected",function(u){return n.onFilesAddedChange(u)}),l(2,"nx-label",2),s(3,"Upload file(s)"),a(),l(4,"span",3),s(5,"Multiple files are allowed"),a(),l(6,"button",4),f(7,"nx-icon",5),s(8," Add File "),a()()),i&2&&m("ngModel",n.myFiles)("uploader",n.uploader)},dependencies:[w,b,M,y,C,S,k,re]});let o=t;return o})();var Fi={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},Pt=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new U,reportProgress:!0}},this.uploader=new D(this.uploadConfig,this.http),this._destroyed=new F}ngOnInit(){this.uploader.response.pipe(h(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Fi):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}};t.\u0275fac=function(i){return new(i||t)(c(N),c(E))},t.\u0275cmp=g({type:t,selectors:[["file-uploader-basic-example"]],decls:11,vars:3,consts:[["multiple","",3,"uploader"],["documentUpload",""],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"nxFileUploadTriggerFor","disabled"]],template:function(i,n){if(i&1&&(l(0,"nx-file-uploader",0,1)(2,"nx-label",2),s(3,"Select a file to upload"),a(),l(4,"span",3),s(5,"Multiple files can be selected"),a(),l(6,"button",4),f(7,"nx-icon",5),s(8," Add File "),a()(),l(9,"button",6),s(10,` Upload
`),a()),i&2){let r=_(1);m("uploader",n.uploader),d(9),m("nxFileUploadTriggerFor",r)("disabled",!(r.value!=null&&r.value.length))}},dependencies:[w,b,M,y,I,C,S]});let o=t;return o})();var vi=["documentUpload"],yi=["ngModel"];function bi(o,t){o&1&&(l(0,"nx-error"),s(1," An error occured while uploading. "),a())}function Ui(o,t){o&1&&(l(0,"nx-error"),s(1,"Required!"),a())}function Ei(o,t){if(o&1){let p=Ce();f(0,"nx-file-upload-name",8)(1,"nx-file-upload-size",9),l(2,"div",10),f(3,"nx-file-upload-status",11),l(4,"nx-file-upload-delete",12),x("click",function(){let i=me(p),n=i.file,r=i.templateContext;return ue(r.removeFile(n))}),a()(),l(5,"form")(6,"nx-radio-group",13),x("ngModelChange",function(i){let r=me(p).file;return ue(r.formData=i)}),l(7,"nx-label",14),s(8,"Do you own all rights to this picture?"),a(),l(9,"div",15)(10,"nx-radio",16),s(11,"Yes"),a(),l(12,"nx-radio",17),s(13,"No"),a()()()()}if(o&2){let p=t.templateContext,e=t.file;m("name",e==null?null:e.name),d(1),m("size",e==null?null:e.size)("isUploading",e.isUploading)("uploadingLabel",p.uploadingLabel),d(2),m("isUploading",e.isUploading)("isUploaded",e.isUploaded)("uploadedLabel",p.uploadedLabel),d(1),m("deleteLabel",p.deleteLabel)("isUploading",e.isUploading),d(2),m("disabled",e.isUploading||e.isUploaded)("ngModel",e.formData),d(4),m("value",!0),d(2),m("value",!1)}}var Si={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},zt=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.myFiles=[],this.showUploadError=!1}onChange(){this.validate()}validate(){let e=this.myFiles.every(i=>typeof i.formData=="boolean");return this.ngModel.control.setErrors(e?{}:{required:!0}),e}upload(e){if(this.showUploadError=!1,!this.documentUpload.value||!this.validate())return;let i=new FormData;this.myFiles.forEach(u=>{u.isUploaded||(u.setUploadingState(),i.set(u.name,u.file,u.name),i.set(`${u.name}-form`,u.formData.toString()))});let r={params:new U,reportProgress:!0};this.http.post(e,i,r).subscribe(u=>{this.documentUpload.value.forEach(te=>{te.setUploadedState()}),this.messageToastService.open("All files were uploaded successfully!",Si)},u=>{this.documentUpload.value.forEach(te=>{te.isUploaded||te.setErrorState()}),this.showUploadError=!0})}};t.\u0275fac=function(i){return new(i||t)(c(N),c(E))},t.\u0275cmp=g({type:t,selectors:[["file-uploader-custom-item-example"]],viewQuery:function(i,n){if(i&1&&(J(vi,5),J(yi,5)),i&2){let r;P(r=z())&&(n.documentUpload=r.first),P(r=z())&&(n.ngModel=r.first)}},decls:14,vars:5,consts:[["multiple","",3,"ngModel","itemTemplate","ngModelChange"],["documentUpload","","ngModel","ngModel"],["size","small",1,"nx-margin-bottom-3xs"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],[4,"ngIf"],["nxButton","secondary small","type","button",3,"disabled","click"],["myItemTemplate",""],[3,"name"],[3,"size","isUploading","uploadingLabel"],[1,"nx-file-uploader--file-row-actions"],[3,"isUploading","isUploaded","uploadedLabel"],[3,"deleteLabel","isUploading","click"],["name","pictureRights",3,"disabled","ngModel","ngModelChange"],[1,"nx-margin-bottom-m"],[1,"horizontal-buttons"],[1,"nx-margin-bottom-m",3,"value"],[1,"nx-margin-left-s","nx-margin-bottom-m",3,"value"]],template:function(i,n){if(i&1&&(l(0,"nx-file-uploader",0,1),x("ngModelChange",function(u){return n.myFiles=u}),l(3,"nx-label",2),s(4,"Please upload a file"),a(),l(5,"button",3),f(6,"nx-icon",4),s(7," Add File "),a()(),v(8,bi,2,0,"nx-error",5)(9,Ui,2,0,"nx-error",5),l(10,"button",6),x("click",function(){return n.upload("file-upload")}),s(11,` Upload files
`),a(),v(12,Ei,14,13,"ng-template",null,7,Fe)),i&2){let r=_(1),u=_(2),te=_(13);m("ngModel",n.myFiles)("itemTemplate",te),d(8),m("ngIf",n.showUploadError),d(1),m("ngIf",u.control.hasError("required")),d(1),m("disabled",!(r.value!=null&&r.value.length))}},dependencies:[w,b,V,y,Ze,We,Je,Ye,C,Dt,Mt,S,B,H,k,q,re,Be],styles:["nx-file-upload-name[_ngcontent-%COMP%]{flex:1}nx-file-upload-size[_ngcontent-%COMP%]{flex:none}nx-file-upload-status[_ngcontent-%COMP%]{flex:0 1 auto;padding:0 16px}nx-file-upload-delete[_ngcontent-%COMP%]{flex:0 1 auto}form[_ngcontent-%COMP%]{padding-top:16px;width:100%}.horizontal-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row}@media (max-width: 703px){nx-file-upload-name[_ngcontent-%COMP%]{flex:100%;order:-1;margin-bottom:16px}}"]});let o=t;return o})();var Ni=["documentUpload"];function wi(o,t){o&1&&(l(0,"nx-error"),s(1,"Required!"),a())}function Ti(o,t){o&1&&(l(0,"nx-error"),s(1,"An error occured while uploading."),a())}function Mi(o,t){if(o&1&&(l(0,"div"),s(1),a()),o&2){let p=T().$implicit;d(1),O(' "',p.filename,'" could not be uploaded. The supported extensions us PNG. ')}}function Di(o,t){if(o&1&&(l(0,"div"),s(1),a()),o&2){let p=T().$implicit;d(1),ge(' "',p.filename,'" could not be uploaded. max file size is ',p.max,". ")}}function Ii(o,t){if(o&1&&(l(0,"div"),s(1),a()),o&2){let p=T().$implicit;d(1),O(" You cannot upload more than ",p.max," documents. ")}}function Bi(o,t){if(o&1&&(l(0,"li"),v(1,Mi,2,1,"div",7)(2,Di,2,2,"div",7)(3,Ii,2,1,"div",7),a()),o&2){let p=t.$implicit;d(1),m("ngIf",p.type==="fileType"),d(1),m("ngIf",p.type==="fileSize"),d(1),m("ngIf",p.type==="fileNumber")}}function ki(o,t){if(o&1&&(l(0,"nx-error"),s(1," Errors: "),l(2,"ul"),v(3,Bi,4,3,"li",10),a()()),o&2){T();let p=_(2);d(3),m("ngForOf",p==null?null:p.errors)}}var Lt=(()=>{let t=class t{toggleValidation(){this.disableValidator=!this.disableValidator}constructor(e,i){this.messageToastService=e,this.http=i,this.disableValidator=!1,this.uploadConfig={requestUrl:"file-upload",options:{params:new U,reportProgress:!0}},this.uploader=new D(this.uploadConfig,this.http),this.testForm=new K({documents:new X([],Y.required)}),this._destroyed=new F}ngOnInit(){this.uploader.response.pipe(h(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Ee):e.error&&this.testForm.controls.documents.setErrors({serverError:!0})})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onChange(e){console.log(e)}onDelete(e){console.log(e)}};t.\u0275fac=function(i){return new(i||t)(c(N),c(E))},t.\u0275cmp=g({type:t,selectors:[["file-uploader-error-list-example"]],viewQuery:function(i,n){if(i&1&&J(Ni,5),i&2){let r;P(r=z())&&(n.documentUpload=r.first)}},decls:24,vars:16,consts:[[3,"formGroup"],["multiple","","formControlName","documents","accept","png","disableCommonValidator","","maxFileNumber","2",3,"maxFileSize","uploader","noBlockingValidators","fileDeleted","valueChange"],["documentUpload",""],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],[4,"ngIf"],["nxButton","primary small","type","button",3,"disabled","nxFileUploadTriggerFor","click"],["nxButton","secondary small","type","button",1,"nx-margin-top-s",3,"click"],[4,"ngFor","ngForOf"]],template:function(i,n){if(i&1&&(l(0,"form",0)(1,"nx-file-uploader",1,2),x("fileDeleted",function(u){return n.onDelete(u)})("valueChange",function(u){return n.onChange(u)}),l(3,"nx-label",3),s(4,"Required file to upload"),a(),l(5,"span",4),s(6,"Maximum file size 2MB, Accept only PNG files, Maximum 2 files"),a(),l(7,"button",5),f(8,"nx-icon",6),s(9," Add File "),a(),v(10,wi,2,0,"nx-error",7)(11,Ti,2,0,"nx-error",7)(12,ki,4,1,"nx-error",7),a()(),l(13,"button",8),x("click",function(){return n.testForm.controls.documents.setErrors({serverError:!1})}),s(14,` Upload files
`),a(),f(15,"br"),l(16,"button",9),x("click",function(){return n.toggleValidation()}),s(17),a(),l(18,"pre"),s(19),W(20,"json"),f(21,"br"),s(22),W(23,"json"),a()),i&2){let r=_(2);m("formGroup",n.testForm),d(1),fe("maxFileSize",2*1024*1024),m("uploader",n.uploader)("noBlockingValidators",n.disableValidator),d(9),m("ngIf",n.testForm.controls.documents.hasError("required")),d(1),m("ngIf",n.testForm.controls.documents.hasError("serverError")),d(1),m("ngIf",r==null||r.errors==null?null:r.errors.length),d(1),m("disabled",!n.testForm.valid)("nxFileUploadTriggerFor",r),d(4),O(" Toggle Disable validator (",n.disableValidator,`)
`),d(2),O("validators: ",ie(20,12,n.testForm.controls.documents.errors),`
`),d(3),O(`
errors property: `,ie(23,14,r==null?null:r.errors),`
`)}},dependencies:[w,b,M,V,y,I,C,S,_e,B,H,k,q,A,ee,ne],changeDetection:0});let o=t;return o})();var Vi={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},qt=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new U,reportProgress:!0}},this.uploader=new D(this.uploadConfig,this.http),this._destroyed=new F}ngOnInit(){this.uploader.response.pipe(h(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Vi):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}};t.\u0275fac=function(i){return new(i||t)(c(N),c(E))},t.\u0275cmp=g({type:t,selectors:[["file-uploader-drop-zone-example"]],decls:14,vars:3,consts:[["multiple","",3,"uploader"],["documentUpload",""],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],[1,"nx-margin-bottom-m"],["nxCopytext","",1,"nx-margin-right-2xs","nx-hidden-xs","nx-hidden-s"],["nxButton","primary small-medium","type","button","nxFileUploadButton",""],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"nxFileUploadTriggerFor","disabled"]],template:function(i,n){if(i&1&&(l(0,"nx-file-uploader",0,1)(2,"nx-label",2),s(3,"Select a file to upload"),a(),l(4,"span",3),s(5,"Multiple files can be selected"),a(),l(6,"nx-file-uploader-drop-zone",4)(7,"span",5),s(8,"Drag your files here to"),a(),l(9,"button",6),f(10,"nx-icon",7),s(11," Add File "),a()()(),l(12,"button",8),s(13,` Upload files
`),a()),i&2){let r=_(1);m("uploader",n.uploader),d(12),m("nxFileUploadTriggerFor",r)("disabled",!(r.value!=null&&r.value.length))}},dependencies:[w,b,M,de,y,I,C,S,Nt]});let o=t;return o})();var Oi=["documentUpload"];function Pi(o,t){o&1&&(l(0,"nx-error"),s(1,"Required!"),a())}function zi(o,t){o&1&&(l(0,"nx-error"),s(1,"An error occured while uploading."),a())}function Li(o,t){if(o&1&&(l(0,"div"),s(1),a()),o&2){let p=T().$implicit;d(1),O(' "',p.filename,'" could not be uploaded. The supported extensions us PNG. ')}}function qi(o,t){if(o&1&&(l(0,"div"),s(1),a()),o&2){let p=T().$implicit;d(1),ge(' "',p.filename,'" could not be uploaded. max file size is ',p.max,". ")}}function Hi(o,t){if(o&1&&(l(0,"div"),s(1),a()),o&2){let p=T().$implicit;d(1),O(" You cannot upload more than ",p.max," documents. ")}}function Ai(o,t){if(o&1&&(l(0,"li"),v(1,Li,2,1,"div",7)(2,qi,2,2,"div",7)(3,Hi,2,1,"div",7),a()),o&2){let p=t.$implicit;d(1),m("ngIf",p.type==="fileType"),d(1),m("ngIf",p.type==="fileSize"),d(1),m("ngIf",p.type==="fileNumber")}}function ji(o,t){if(o&1&&(l(0,"nx-error"),s(1," Errors: "),l(2,"ul"),v(3,Ai,4,3,"li",9),a()()),o&2){T();let p=_(2);d(3),m("ngForOf",p==null?null:p.errors)}}var Ht=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new U,reportProgress:!0}},this.uploader=new D(this.uploadConfig,this.http),this.testForm=new K({documents:new X([],Y.required)}),this._destroyed=new F}ngOnInit(){this.uploader.response.pipe(h(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Ee):e.error&&this.testForm.controls.documents.setErrors({serverError:!0})})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onChange(e){console.log(e)}onDelete(e){console.log(e)}};t.\u0275fac=function(i){return new(i||t)(c(N),c(E))},t.\u0275cmp=g({type:t,selectors:[["file-uploader-error-list-example"]],viewQuery:function(i,n){if(i&1&&J(Oi,5),i&2){let r;P(r=z())&&(n.documentUpload=r.first)}},decls:15,vars:9,consts:[[3,"formGroup"],["multiple","","formControlName","documents","accept","png","disableCommonValidator","","maxFileNumber","2",3,"maxFileSize","uploader","noBlockingValidators","fileDeleted","valueChange"],["documentUpload",""],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],[4,"ngIf"],["nxButton","primary small","type","button",3,"disabled","nxFileUploadTriggerFor","click"],[4,"ngFor","ngForOf"]],template:function(i,n){if(i&1&&(l(0,"form",0)(1,"nx-file-uploader",1,2),x("fileDeleted",function(u){return n.onDelete(u)})("valueChange",function(u){return n.onChange(u)}),l(3,"nx-label",3),s(4,"Required file to upload"),a(),l(5,"span",4),s(6,"Maximum file size 2MB, Accept only PNG files, Maximum 2 files"),a(),l(7,"button",5),f(8,"nx-icon",6),s(9," Add File "),a(),v(10,Pi,2,0,"nx-error",7)(11,zi,2,0,"nx-error",7)(12,ji,4,1,"nx-error",7),a()(),l(13,"button",8),x("click",function(){return n.testForm.controls.documents.setErrors({serverError:!1})}),s(14,` Upload files
`),a()),i&2){let r=_(2);m("formGroup",n.testForm),d(1),fe("maxFileSize",2*1024*1024),m("uploader",n.uploader)("noBlockingValidators",!0),d(9),m("ngIf",n.testForm.controls.documents.hasError("required")),d(1),m("ngIf",n.testForm.controls.documents.hasError("serverError")),d(1),m("ngIf",r==null||r.errors==null?null:r.errors.length),d(1),m("disabled",!n.testForm.valid)("nxFileUploadTriggerFor",r)}},dependencies:[w,b,M,V,y,I,C,S,_e,B,H,k,q,A,ee],changeDetection:0});let o=t;return o})();var Ri={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},At=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new U,reportProgress:!0}},this.uploader=new D(this.uploadConfig,this.http),this._destroyed=new F}ngOnInit(){this.uploader.response.pipe(h(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Ri):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}};t.\u0275fac=function(i){return new(i||t)(c(N),c(E))},t.\u0275cmp=g({type:t,selectors:[["file-uploader-expert-example"]],decls:11,vars:3,consts:[["multiple","",3,"uploader"],["documentUpload",""],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary small-medium","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"nxFileUploadTriggerFor","disabled"]],template:function(i,n){if(i&1&&(l(0,"nx-file-uploader",0,1)(2,"nx-label",2),s(3,"Select a file to upload"),a(),l(4,"span",3),s(5,"Multiple files can be selected"),a(),l(6,"button",4),f(7,"nx-icon",5),s(8," Add File "),a()(),l(9,"button",6),s(10,` Upload
`),a()),i&2){let r=_(1);m("uploader",n.uploader),d(9),m("nxFileUploadTriggerFor",r)("disabled",!(r.value!=null&&r.value.length))}},dependencies:[w,b,M,y,I,C,S]});let o=t;return o})();var Gi=(()=>{let t=class t extends Ue{constructor(){super(...arguments),this.uploadingLabel="T\xE9l\xE9chargement",this.deleteLabel="Supprimer",this.uploadedStateLabel="T\xE9l\xE9charg\xE9",this.uploadedListLabel="Liste des fichiers t\xE9l\xE9charg\xE9s"}};t.\u0275fac=(()=>{let e;return function(n){return(e||(e=ot(t)))(n||t)}})(),t.\u0275prov=Ne({token:t,factory:t.\u0275fac});let o=t;return o})(),Qi={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},jt=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new U,reportProgress:!0}},this.uploader=new D(this.uploadConfig,this.http),this._destroyed=new F}ngOnInit(){this.uploader.response.pipe(h(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Qi):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}};t.\u0275fac=function(i){return new(i||t)(c(N),c(E))},t.\u0275cmp=g({type:t,selectors:[["file-uploader-intl-example"]],features:[Ie([{provide:Ue,useClass:Gi}])],decls:11,vars:3,consts:[["multiple","",3,"uploader"],["documentUpload",""],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"disabled","nxFileUploadTriggerFor"]],template:function(i,n){if(i&1&&(l(0,"nx-file-uploader",0,1)(2,"nx-label",2),s(3,"Select a file to upload"),a(),l(4,"span",3),s(5,"Multiple files can be selected"),a(),l(6,"button",4),f(7,"nx-icon",5),s(8," Add File "),a()(),l(9,"button",6),s(10,` Upload files
`),a()),i&2){let r=_(1);m("uploader",n.uploader),d(9),m("disabled",!(r.value!=null&&r.value.length))("nxFileUploadTriggerFor",r)}},dependencies:[w,b,M,y,I,C,S]});let o=t;return o})();function $i(o,t){o&1&&(l(0,"li"),s(1," Required! "),a())}function Zi(o,t){if(o&1&&(l(0,"li"),s(1),W(2,"json"),W(3,"json"),a()),o&2){let p=T(2);d(1),ge(" There were ",ie(2,2,p.testForm.controls.documents.getError("NxFileUploadMaxFileNumber").actual)," files added, but the maximum is ",ie(3,4,p.testForm.controls.documents.getError("NxFileUploadMaxFileNumber").max)," ")}}function Wi(o,t){if(o&1&&(l(0,"nx-error")(1,"div",9),s(2,"Error"),a(),l(3,"ul"),v(4,$i,2,0,"li",7)(5,Zi,4,6,"li",7),a()()),o&2){let p=T();d(4),m("ngIf",p.testForm.controls.documents.hasError("required")),d(1),m("ngIf",p.testForm.controls.documents.hasError("NxFileUploadMaxFileNumber"))}}var Ji={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},Rt=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new U,reportProgress:!0}},this.uploader=new D(this.uploadConfig,this.http),this.testForm=new K({documents:new X([],Y.required)}),this._destroyed=new F}ngOnInit(){this.uploader.response.pipe(h(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Ji):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onChange(e){console.log(e)}onDelete(e){console.log(e)}};t.\u0275fac=function(i){return new(i||t)(c(N),c(E))},t.\u0275cmp=g({type:t,selectors:[["file-uploader-max-file-number-example"]],decls:13,vars:5,consts:[[3,"formGroup"],["multiple","","formControlName","documents","maxFileNumber","3",3,"uploader","fileDeleted","valueChange"],["documentUpload",""],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],[4,"ngIf"],["nxButton","secondary small","type","button",3,"disabled","nxFileUploadTriggerFor","click"],[1,"nx-font-weight-bold"]],template:function(i,n){if(i&1&&(l(0,"form",0)(1,"nx-file-uploader",1,2),x("fileDeleted",function(u){return n.onDelete(u)})("valueChange",function(u){return n.onChange(u)}),l(3,"nx-label",3),s(4,"Required file to upload"),a(),l(5,"span",4),s(6,"Maximum number of 3 files"),a(),l(7,"button",5),f(8,"nx-icon",6),s(9," Add File "),a(),v(10,Wi,6,2,"nx-error",7),a()(),l(11,"button",8),x("click",function(){return n.testForm.controls.documents.setErrors({serverError:!1})}),s(12,` Upload files
`),a()),i&2){let r=_(2);m("formGroup",n.testForm),d(1),m("uploader",n.uploader),d(9),m("ngIf",n.testForm.controls.documents==null?null:n.testForm.controls.documents.errors),d(1),m("disabled",!n.testForm.valid)("nxFileUploadTriggerFor",r)}},dependencies:[w,b,M,V,y,I,C,S,B,H,k,q,A,ee,ne]});let o=t;return o})();var Yi={duration:3e3,context:"success",announcementMessage:"Yay, you see a success message toast"},Gt=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new U,reportProgress:!0}},this.uploader=new D(this.uploadConfig,this.http),this.testForm=new K({documents:new X([],Y.required)}),this._destroyed=new F}ngOnInit(){this.uploader.response.pipe(h(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Yi):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}};t.\u0275fac=function(i){return new(i||t)(c(N),c(E))},t.\u0275cmp=g({type:t,selectors:[["file-uploader-reactive-example"]],decls:14,vars:4,consts:[[3,"formGroup"],["formControlName","documents","required","","accept","image/jpeg, image/x-png, image/png","multiple","",3,"uploader"],["documentUpload",""],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"disabled","nxFileUploadTriggerFor"]],template:function(i,n){if(i&1&&(l(0,"form",0)(1,"nx-file-uploader",1,2)(3,"nx-label",3),s(4,"Required file to upload"),a(),l(5,"span",4),s(6,"Only JPG or PNG files are accepted."),a(),l(7,"button",5),f(8,"nx-icon",6),s(9," Add File "),a(),l(10,"nx-error"),s(11,"Required!"),a()(),l(12,"button",7),s(13," Upload files "),a()()),i&2){let r=_(2);m("formGroup",n.testForm),d(1),m("uploader",n.uploader),d(11),m("disabled",!n.testForm.valid)("nxFileUploadTriggerFor",r)}},dependencies:[w,b,M,V,y,I,C,S,H,k,q,xt,A,ee]});let o=t;return o})();function Xi(o,t){o&1&&(l(0,"nx-error"),s(1," An error occured while uploading. "),a())}var eo={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},Qt=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new U,reportProgress:!0},uploadSeparately:!0},this.uploader=new D(this.uploadConfig,this.http),this.showUploadError=!1,this._destroyed=new F}ngOnInit(){this.uploader.response.pipe(h(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",eo):this.showUploadError=!0})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}};t.\u0275fac=function(i){return new(i||t)(c(N),c(E))},t.\u0275cmp=g({type:t,selectors:[["file-uploader-separate-requests-example"]],decls:20,vars:6,consts:[["multiple","",3,"uploader"],["documentUpload",""],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],[4,"ngIf"],["variant","small",3,"ngModel","ngModelChange"],["value","file-upload"],["value","file-upload-error"],["nxButton","secondary small","type","button",3,"disabled","nxFileUploadTriggerFor","click"]],template:function(i,n){if(i&1&&(l(0,"nx-file-uploader",0,1)(2,"nx-label",2),s(3,"Select a file to upload"),a(),l(4,"span",3),s(5,"Multiple files can be selected"),a(),l(6,"button",4),f(7,"nx-icon",5),s(8," Add File "),a()(),v(9,Xi,2,0,"nx-error",6),l(10,"p"),s(11),a(),l(12,"nx-radio-toggle",7),x("ngModelChange",function(u){return n.uploadConfig.requestUrl=u}),l(13,"nx-radio-toggle-button",8),s(14,"Valid url"),a(),l(15,"nx-radio-toggle-button",9),s(16,"Invalid url"),a()(),f(17,"br"),l(18,"button",10),x("click",function(){return n.showUploadError=!1}),s(19,` Upload files
`),a()),i&2){let r=_(1);m("uploader",n.uploader),d(9),m("ngIf",n.showUploadError),d(2),O(" Set url for testing the upload: ",n.uploadConfig.requestUrl==="file-upload"?"Valid url":"Invalid url",`
`),d(1),m("ngModel",n.uploadConfig.requestUrl),d(6),m("disabled",!(r.value!=null&&r.value.length))("nxFileUploadTriggerFor",r)}},dependencies:[w,b,M,V,y,I,C,S,Oe,Pe,B,k,re]});let o=t;return o})();function to(o,t){o&1&&(l(0,"li"),s(1," Required! "),a())}function io(o,t){if(o&1&&(l(0,"li"),s(1),W(2,"json"),a()),o&2){let p=T(2);d(1),O(" File ",ie(2,1,p.testForm.controls.documents.getError("NxFileUploadFileTypeNotAccepted").fileName)," can not be uploaded. This file type is not supported! ")}}function oo(o,t){if(o&1&&(l(0,"nx-error")(1,"div",11),s(2,"Error"),a(),l(3,"ul"),v(4,to,2,0,"li",9)(5,io,3,3,"li",9),a()()),o&2){let p=T();d(4),m("ngIf",p.testForm.controls.documents.hasError("required")),d(1),m("ngIf",p.testForm.controls.documents.hasError("NxFileUploadFileTypeNotAccepted"))}}var no={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},$t=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new U,reportProgress:!0}},this.stricterAcceptValidation=!0,this.uploader=new D(this.uploadConfig,this.http),this.testForm=new K({documents:new X([],Y.required)}),this._destroyed=new F}ngOnInit(){this.uploader.response.pipe(h(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",no):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onChange(e){console.log(e)}onDelete(e){console.log(e)}toggleAcceptValidation(){this.stricterAcceptValidation=!this.stricterAcceptValidation}};t.\u0275fac=function(i){return new(i||t)(c(N),c(E))},t.\u0275cmp=g({type:t,selectors:[["file-uploader-strict-type-validation-example"]],decls:20,vars:7,consts:[["nxButton","primary small",3,"click"],[3,"formGroup"],["formControlName","documents","multiple","","accept","image/png",3,"strictAcceptValidation","uploader","valueChange","fileDeleted"],["documentUpload",""],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],[1,"nx-margin-bottom-m"],["nxButton","primary","type","button","nxFileUploadButton",""],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],[4,"ngIf"],["nxButton","secondary small","type","button",3,"nxFileUploadTriggerFor","disabled"],[1,"nx-font-weight-bold"]],template:function(i,n){if(i&1&&(l(0,"button",0),x("click",function(){return n.toggleAcceptValidation()}),s(1,` Toggle strict validation
`),a(),l(2,"p"),s(3," Strict validation is: "),l(4,"strong"),s(5),a()(),l(6,"form",1)(7,"nx-file-uploader",2,3),x("valueChange",function(u){return n.onChange(u)})("fileDeleted",function(u){return n.onDelete(u)}),l(9,"nx-label",4),s(10,"Required file to upload"),a(),l(11,"span",5),s(12,"Only *.png files are allowed"),a(),l(13,"nx-file-uploader-drop-zone",6)(14,"button",7),f(15,"nx-icon",8),s(16," Add File "),a()(),v(17,oo,6,2,"nx-error",9),a(),l(18,"button",10),s(19," Upload files "),a()()),i&2){let r=_(8);d(5),xe(n.stricterAcceptValidation?"on":"off"),d(1),m("formGroup",n.testForm),d(1),m("strictAcceptValidation",n.stricterAcceptValidation)("uploader",n.uploader),d(10),m("ngIf",n.testForm.controls.documents==null?null:n.testForm.controls.documents.errors),d(1),m("nxFileUploadTriggerFor",r)("disabled",!n.testForm.valid)}},dependencies:[w,b,M,de,V,y,I,C,S,B,H,k,q,A,ee,ne]});let o=t;return o})();var ro={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},Zt=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new U,reportProgress:!0}},this.uploader=new D(this.uploadConfig,this.http),this.myFiles=[],this._destroyed=new F}ngOnInit(){this.uploader.response.pipe(h(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",ro):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}};t.\u0275fac=function(i){return new(i||t)(c(N),c(E))},t.\u0275cmp=g({type:t,selectors:[["file-uploader-template-driven-example"]],decls:11,vars:4,consts:[[3,"ngModel","uploader","ngModelChange"],["documentUpload",""],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"nxFileUploadTriggerFor","disabled"]],template:function(i,n){if(i&1&&(l(0,"nx-file-uploader",0,1),x("ngModelChange",function(u){return n.myFiles=u}),l(2,"nx-label",2),s(3,"Please upload a file"),a(),l(4,"span",3),s(5,"Only one file is allowed."),a(),l(6,"button",4),f(7,"nx-icon",5),s(8," Add File "),a()(),l(9,"button",6),s(10,` Upload files
`),a()),i&2){let r=_(1);m("ngModel",n.myFiles)("uploader",n.uploader),d(9),m("nxFileUploadTriggerFor",r)("disabled",r.value&&!r.value.length)}},dependencies:[w,b,M,y,I,C,S,k,re]});let o=t;return o})();function lo(o,t){o&1&&(l(0,"li"),s(1," Required! "),a())}function ao(o,t){if(o&1&&(l(0,"li"),s(1),W(2,"json"),a()),o&2){let p=T(2);d(1),O(" File ",ie(2,1,p.testForm.controls.documents.getError("NxFileUploadFileTypeNotAccepted").fileName)," can not be uploaded. This file type is not supported! ")}}function so(o,t){if(o&1&&(l(0,"nx-error")(1,"div",10),s(2,"Error"),a(),l(3,"ul"),v(4,lo,2,0,"li",8)(5,ao,3,3,"li",8),a()()),o&2){let p=T();d(4),m("ngIf",p.testForm.controls.documents.hasError("required")),d(1),m("ngIf",p.testForm.controls.documents.hasError("NxFileUploadFileTypeNotAccepted"))}}var po={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},Wt=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new U,reportProgress:!0}},this.uploader=new D(this.uploadConfig,this.http),this.testForm=new K({documents:new X([],Y.required)}),this._destroyed=new F}ngOnInit(){this.uploader.response.pipe(h(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",po):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onChange(e){console.log(e)}onDelete(e){console.log(e)}};t.\u0275fac=function(i){return new(i||t)(c(N),c(E))},t.\u0275cmp=g({type:t,selectors:[["file-uploader-type-validation-example"]],decls:14,vars:5,consts:[[3,"formGroup"],["formControlName","documents","multiple","","accept","image/png",3,"uploader","valueChange","fileDeleted"],["documentUpload",""],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],[1,"nx-margin-bottom-m"],["nxButton","primary","type","button","nxFileUploadButton",""],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],[4,"ngIf"],["nxButton","secondary small","type","button",3,"nxFileUploadTriggerFor","disabled"],[1,"nx-font-weight-bold"]],template:function(i,n){if(i&1&&(l(0,"form",0)(1,"nx-file-uploader",1,2),x("valueChange",function(u){return n.onChange(u)})("fileDeleted",function(u){return n.onDelete(u)}),l(3,"nx-label",3),s(4,"Required file to upload"),a(),l(5,"span",4),s(6,"Only *.png files are allowed"),a(),l(7,"nx-file-uploader-drop-zone",5)(8,"button",6),f(9,"nx-icon",7),s(10," Add File "),a()(),v(11,so,6,2,"nx-error",8),a(),l(12,"button",9),s(13," Upload files "),a()()),i&2){let r=_(2);m("formGroup",n.testForm),d(1),m("uploader",n.uploader),d(10),m("ngIf",n.testForm.controls.documents==null?null:n.testForm.controls.documents.errors),d(1),m("nxFileUploadTriggerFor",r)("disabled",!n.testForm.valid)}},dependencies:[w,b,M,de,V,y,I,C,S,B,H,k,q,A,ee,ne]});let o=t;return o})();function mo(o,t){o&1&&(l(0,"li"),s(1," Required! "),a())}function uo(o,t){o&1&&(l(0,"li"),s(1," An error occured while uploading. "),a())}function co(o,t){if(o&1&&(l(0,"li"),s(1),W(2,"json"),a()),o&2){let p=T(2);d(1),O(" File ",ie(2,1,p.testForm.controls.documents.getError("NxFileUploadMaxFileSize").fileName)," can not be uploaded. File size exceeds size limit! ")}}function fo(o,t){if(o&1&&(l(0,"nx-error")(1,"div",12),s(2,"Error"),a(),l(3,"ul"),v(4,mo,2,0,"li",7)(5,uo,2,0,"li",7)(6,co,3,3,"li",7),a()()),o&2){let p=T();d(4),m("ngIf",p.testForm.controls.documents.hasError("required")),d(1),m("ngIf",p.testForm.controls.documents.hasError("serverError")),d(1),m("ngIf",p.testForm.controls.documents.hasError("NxFileUploadMaxFileSize"))}}var xo={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},Jt=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new U,reportProgress:!0}},this.uploader=new D(this.uploadConfig,this.http),this.testForm=new K({documents:new X([],Y.required)}),this._destroyed=new F}ngOnInit(){this.uploader.response.pipe(h(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",xo):e.error&&this.testForm.controls.documents.setErrors({serverError:!0})})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onChange(e){console.log(e)}onDelete(e){console.log(e)}};t.\u0275fac=function(i){return new(i||t)(c(N),c(E))},t.\u0275cmp=g({type:t,selectors:[["file-uploader-validation-example"]],decls:21,vars:8,consts:[[3,"formGroup"],["multiple","","formControlName","documents",3,"maxFileSize","uploader","fileDeleted","valueChange"],["documentUpload",""],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],[4,"ngIf"],["variant","small",3,"ngModel","ngModelChange"],["value","file-upload"],["value","file-upload-error"],["nxButton","secondary small","type","button",3,"disabled","nxFileUploadTriggerFor","click"],[1,"nx-font-weight-bold"]],template:function(i,n){if(i&1&&(l(0,"form",0)(1,"nx-file-uploader",1,2),x("fileDeleted",function(u){return n.onDelete(u)})("valueChange",function(u){return n.onChange(u)}),l(3,"nx-label",3),s(4,"Required file to upload"),a(),l(5,"span",4),s(6,"Maximum file size 2MB"),a(),l(7,"button",5),f(8,"nx-icon",6),s(9," Add File "),a(),v(10,fo,7,3,"nx-error",7),a()(),l(11,"p"),s(12),a(),l(13,"nx-radio-toggle",8),x("ngModelChange",function(u){return n.uploadConfig.requestUrl=u}),l(14,"nx-radio-toggle-button",9),s(15,"Valid url"),a(),l(16,"nx-radio-toggle-button",10),s(17,"Invalid url"),a()(),f(18,"br"),l(19,"button",11),x("click",function(){return n.testForm.controls.documents.setErrors({serverError:!1})}),s(20,` Upload files
`),a()),i&2){let r=_(2);m("formGroup",n.testForm),d(1),fe("maxFileSize",2*1024*1024),m("uploader",n.uploader),d(9),m("ngIf",n.testForm.controls.documents.errors),d(2),O(" Set url for testing the upload: ",n.uploadConfig.requestUrl==="file-upload"?"Valid url":"Invalid url",`
`),d(1),m("ngModel",n.uploadConfig.requestUrl),d(6),m("disabled",!n.testForm.valid)("nxFileUploadTriggerFor",r)}},dependencies:[w,b,M,V,y,I,C,S,Oe,Pe,B,H,k,q,re,A,ee,ne]});let o=t;return o})();var go=["documentUpload"];function ho(o,t){o&1&&(l(0,"nx-error"),s(1," An error occured while uploading. "),a())}var _o={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},Yt=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.showUploadError=!1}upload(e){if(this.showUploadError=!1,!this.documentUpload.value)return;let i=new FormData;this.documentUpload.value.forEach(u=>{u.isUploaded||(u.setUploadingState(),i.append("uploads[]",u.file,u.name))});let r={params:new U,reportProgress:!0};this.http.post(e,i,r).subscribe(u=>{this.documentUpload.value.forEach(te=>{te.setUploadedState()}),this.messageToastService.open("All files were uploaded successfully!",_o)},u=>{this.documentUpload.value.forEach(te=>{te.isUploaded||te.setErrorState()}),this.showUploadError=!0})}};t.\u0275fac=function(i){return new(i||t)(c(N),c(E))},t.\u0275cmp=g({type:t,selectors:[["file-uploader-with-request-example"]],viewQuery:function(i,n){if(i&1&&J(go,5),i&2){let r;P(r=z())&&(n.documentUpload=r.first)}},decls:14,vars:3,consts:[["multiple",""],["documentUpload",""],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],[4,"ngIf"],["nxButton","secondary small","type","button",1,"nx-margin-right-2xs",3,"disabled","click"],["nxButton","secondary small","type","button",3,"disabled","click"]],template:function(i,n){if(i&1&&(l(0,"nx-file-uploader",0,1)(2,"nx-label",2),s(3,"Select a file to upload"),a(),l(4,"span",3),s(5,"Multiple files can be selected"),a(),l(6,"button",4),f(7,"nx-icon",5),s(8," Add File "),a()(),v(9,ho,2,0,"nx-error",6),l(10,"button",7),x("click",function(){return n.upload("file-upload")}),s(11,` Upload files
`),a(),l(12,"button",8),x("click",function(){return n.upload("file-upload-error")}),s(13,` Upload files (and get an error)
`),a()),i&2){let r=_(1);d(9),m("ngIf",n.showUploadError),d(1),m("disabled",!(r.value!=null&&r.value.length)),d(2),m("disabled",!(r.value!=null&&r.value.length))}},dependencies:[w,b,M,V,y,C,S,B]});let o=t;return o})();var Yr=(()=>{let t=class t{static components(){return{"file-uploader-error-list":Ht,"file-uploader-auto":Ot,"file-uploader-basic":Pt,"file-uploader-drop-zone":qt,"file-uploader-intl":jt,"file-uploader-reactive":Gt,"file-uploader-separate-requests":Qt,"file-uploader-template-driven":Zt,"file-uploader-type-validation":Wt,"file-uploader-validation":Jt,"file-uploader-with-request":Yt,"file-uploader-max-file-number":Rt,"file-uploader-custom-item":zt,"file-uploader-expert":At,"file-uploader-strict-type-validation":$t,"file-uploader-disable-common-validators":Lt}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=we({imports:[Vt,Ve,It,ke,Tt,wt,yt,Ut,_t]});let o=t;return o})();export{Yr as FileExamplesModule};
