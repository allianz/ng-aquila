import{c as de,d as Z,g as v,h as U,i as Y}from"./chunk-BUOL5UUF.js";import{f as D,g as he,h as ue,k as q,l as xe,m as pe,p as fe,s as Ce}from"./chunk-PZPKEZRC.js";import{c as W,e as j}from"./chunk-HHZZPJBP.js";import{w as me,x as $}from"./chunk-55NV45F4.js";import{a as _e}from"./chunk-3R2XMLRC.js";import{z as ge}from"./chunk-YXSCZMUH.js";import{Ac as ce,Cb as se,Cc as le,Ia as N,Ic as I,Ja as B,Kb as F,Oa as w,Qb as T,Rb as k,Sb as E,Ta as oe,U as R,Ub as ie,Xb as h,a as c,ac as u,bc as x,cc as b,cd as S,gc as L,ic as ae,lc as V,ma as ee,mc as re,n as C,na as te,nc as g,oc as z,pa as A,pc as H,ra as m,ub as y,uc as Q,vb as l,vc as G,wc as X,xa as P,ya as ne}from"./chunk-OQCNQT64.js";var ve=["closeButton"],be=["*"];function Me(s,o){if(s&1&&b(0,"nx-icon",1),s&2){let a=g();E("name",a._iconName)}}function Oe(s,o){if(s&1){let a=L();u(0,"button",4,0),V("click",function(){N(a);let t=g();return B(t._emitCloseEvent())}),b(2,"nx-icon",5),x()}if(s&2){let a=g();k("aria-label",a.closeButtonLabel)}}function Pe(s,o){if(s&1&&b(0,"nx-icon",1),s&2){let a=g();E("name",a._iconName)}}function we(s,o){if(s&1){let a=L();u(0,"button",4,0),V("click",function(){N(a);let t=g();return B(t._emitCloseEvent())}),b(2,"nx-icon",5),x()}if(s&2){let a=g();k("aria-label",a.closeButtonLabel)}}var ye="[_nghost-%COMP%]{font-size:var(--message-font-size);line-height:var(--message-line-height);font-weight:var(--message-font-weight);letter-spacing:var(--message-letter-spacing);color:var(--message-text-color);border-radius:var(--message-border-radius);width:100%;display:flex;align-items:flex-start;text-align:left;position:relative;border:1px solid;padding:23px}@media (max-width: 703px){[_nghost-%COMP%]{display:block}}[dir=rtl]   [_nghost-%COMP%]{text-align:right}[_nghost-%COMP%], .context-regular[_nghost-%COMP%]{border-color:var(--message-regular-border-color);background-color:var(--message-regular-background-color)}.context-info[_nghost-%COMP%]{border-color:var(--message-info-border-color);background-color:var(--message-info-background-color)}.context-info[_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%]{color:var(--message-info-icon-color)}.context-error[_nghost-%COMP%]{border-color:var(--message-error-border-color);background-color:var(--message-error-background-color)}.context-error[_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%]{color:var(--message-error-icon-color)}.context-success[_nghost-%COMP%]{border-color:var(--message-success-border-color);background-color:var(--message-success-background-color)}.context-success[_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%]{color:var(--message-success-icon-color)}.context-warning[_nghost-%COMP%]{border-color:var(--message-warning-border-color);background-color:var(--message-warning-background-color)}.context-warning[_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%]{color:var(--message-warning-icon-color)}@media screen and (forced-colors: active){.nx-message__icon[_ngcontent-%COMP%]{color:CanvasText}}.nx-message__icon[_ngcontent-%COMP%]{margin-right:16px}@media (max-width: 703px){.nx-message__icon[_ngcontent-%COMP%]{float:left;margin-right:8px}}[dir=rtl][_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%]{float:right;margin-right:initial;margin-left:16px}@media (max-width: 703px){[dir=rtl][_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%]{margin-left:8px}}.nx-message--closable[_nghost-%COMP%]{padding-right:47px}[dir=rtl]   .nx-message--closable[_nghost-%COMP%]{padding-right:23px;padding-left:47px}.nx-message__close-icon[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;cursor:pointer;background-color:transparent;border:none;outline:none;padding:0;display:flex;align-items:center}.nx-message__close-icon[_ngcontent-%COMP%]   nx-icon[_ngcontent-%COMP%]{color:var(--message-close-icon-color)}[dir=rtl][_nghost-%COMP%]   .nx-message__close-icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .nx-message__close-icon[_ngcontent-%COMP%]{right:auto;left:16px}.nx-message__close-icon.cdk-keyboard-focused[_ngcontent-%COMP%]{box-shadow:var(--focus-box-shadow);border-radius:4px}@media screen and (forced-colors: active),(forced-colors: active){.nx-message__close-icon.cdk-keyboard-focused[_ngcontent-%COMP%]{box-shadow:0 0 0 2px background,0 0 0 6px CanvasText;outline:4px solid CanvasText;outline-offset:2px}}";function Te(s,o){}function ke(s,o){if(s&1&&ce(0),s&2){let a=g();le(" ",a.data.data," ")}}var Ee={info:"info-circle",error:"exclamation-triangle",success:"check-circle",warning:"exclamation-circle-warning"},K=(()=>{let o=class o{get _isInfo(){return this._context==="info"}get _isSuccess(){return this._context==="success"}get _isWarning(){return this._context==="warning"}get _isError(){return this._context==="error"}set context(e){this._updateContext(e)}get context(){return this._context}set closable(e){let t=_e(e);t!==this._closable&&(this._closable=t,this._cdr.markForCheck())}get closable(){return this._closable}set closeButtonLabel(e){e!==this._closeButtonLabel&&(this._closeButtonLabel=e,this._cdr.markForCheck())}get closeButtonLabel(){return this._closeButtonLabel}get _iconName(){let e=this._allowedContexts.includes(this._context)?this._context:this._allowedContexts[0];return Ee[e]}constructor(e,t){this._cdr=e,this._focusMonitor=t,this._allowedContexts=["regular","info","error","warning","success"],this._context="regular",this._closable=!1,this._closeButtonLabel="Close dialog",this.closeEvent=new oe}ngAfterViewInit(){this.closable&&this._focusMonitor.monitor(this._closeButton)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._closeButton)}_emitCloseEvent(){this.closeEvent.emit()}_updateContext(e){e!==this._context&&(this._context=e,this._cdr.markForCheck())}};o.\u0275fac=function(t){return new(t||o)(l(S),l($))},o.\u0275cmp=P({type:o,selectors:[["nx-message"]],viewQuery:function(t,n){if(t&1&&Q(ve,5),t&2){let i;G(i=X())&&(n._closeButton=i.first)}},hostVars:10,hostBindings:function(t,n){t&2&&ie("context-info",n._isInfo)("context-success",n._isSuccess)("context-warning",n._isWarning)("context-error",n._isError)("nx-message--closable",n.closable)},inputs:{context:"context",closable:"closable",closeButtonLabel:"closeButtonLabel"},outputs:{closeEvent:"close"},exportAs:["nxMessage"],standalone:!0,features:[I],ngContentSelectors:be,decls:4,vars:2,consts:[["closeButton",""],["size","s","aria-hidden","true",1,"nx-message__icon",3,"name"],["tabindex","0","type","button",1,"nx-message__close-icon"],[1,"nx-message__content"],["tabindex","0","type","button",1,"nx-message__close-icon",3,"click"],["name","close","size","s","aria-hidden","true"]],template:function(t,n){t&1&&(z(),T(0,Me,1,1,"nx-icon",1)(1,Oe,3,1,"button",2),u(2,"div",3),H(3),x()),t&2&&(h(n._iconName?0:-1),y(),h(n.closable?1:-1))},dependencies:[j,W],styles:["[_nghost-%COMP%]{font-size:var(--message-font-size);line-height:var(--message-line-height);font-weight:var(--message-font-weight);letter-spacing:var(--message-letter-spacing);color:var(--message-text-color);border-radius:var(--message-border-radius);width:100%;display:flex;align-items:flex-start;text-align:left;position:relative;border:1px solid;padding:23px}@media (max-width: 703px){[_nghost-%COMP%]{display:block}}[dir=rtl]   [_nghost-%COMP%]{text-align:right}[_nghost-%COMP%], .context-regular[_nghost-%COMP%]{border-color:var(--message-regular-border-color);background-color:var(--message-regular-background-color)}.context-info[_nghost-%COMP%]{border-color:var(--message-info-border-color);background-color:var(--message-info-background-color)}.context-info[_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%]{color:var(--message-info-icon-color)}.context-error[_nghost-%COMP%]{border-color:var(--message-error-border-color);background-color:var(--message-error-background-color)}.context-error[_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%]{color:var(--message-error-icon-color)}.context-success[_nghost-%COMP%]{border-color:var(--message-success-border-color);background-color:var(--message-success-background-color)}.context-success[_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%]{color:var(--message-success-icon-color)}.context-warning[_nghost-%COMP%]{border-color:var(--message-warning-border-color);background-color:var(--message-warning-background-color)}.context-warning[_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%]{color:var(--message-warning-icon-color)}@media screen and (forced-colors: active){.nx-message__icon[_ngcontent-%COMP%]{color:CanvasText}}.nx-message__icon[_ngcontent-%COMP%]{margin-right:16px}@media (max-width: 703px){.nx-message__icon[_ngcontent-%COMP%]{float:left;margin-right:8px}}[dir=rtl][_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%]{float:right;margin-right:initial;margin-left:16px}@media (max-width: 703px){[dir=rtl][_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%]{margin-left:8px}}.nx-message--closable[_nghost-%COMP%]{padding-right:47px}[dir=rtl]   .nx-message--closable[_nghost-%COMP%]{padding-right:23px;padding-left:47px}.nx-message__close-icon[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;cursor:pointer;background-color:transparent;border:none;outline:none;padding:0;display:flex;align-items:center}.nx-message__close-icon[_ngcontent-%COMP%]   nx-icon[_ngcontent-%COMP%]{color:var(--message-close-icon-color)}[dir=rtl][_nghost-%COMP%]   .nx-message__close-icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .nx-message__close-icon[_ngcontent-%COMP%]{right:auto;left:16px}.nx-message__close-icon.cdk-keyboard-focused[_ngcontent-%COMP%]{box-shadow:var(--focus-box-shadow);border-radius:4px}@media screen and (forced-colors: active),(forced-colors: active){.nx-message__close-icon.cdk-keyboard-focused[_ngcontent-%COMP%]{box-shadow:0 0 0 2px background,0 0 0 6px CanvasText;outline:4px solid CanvasText;outline-offset:2px}}"],changeDetection:0});let s=o;return s})(),Ie=(()=>{let o=class o extends K{set context(e){this._updateContext(e)}get context(){return this._context}constructor(e,t){super(e,t),this._context="info",this._closable=!0,this._allowedContexts=["info","error","warning"]}};o.\u0275fac=function(t){return new(t||o)(l(S),l($))},o.\u0275cmp=P({type:o,selectors:[["nx-message-banner"]],inputs:{context:"context"},exportAs:["nxMessageBanner"],standalone:!0,features:[F,I],ngContentSelectors:be,decls:4,vars:2,consts:[["closeButton",""],["size","s","aria-hidden","true",1,"nx-message__icon",3,"name"],["tabindex","0","type","button",1,"nx-message__close-icon"],[1,"nx-message__content"],["tabindex","0","type","button",1,"nx-message__close-icon",3,"click"],["name","close","size","s","aria-hidden","true"]],template:function(t,n){t&1&&(z(),T(0,Pe,1,1,"nx-icon",1)(1,we,3,1,"button",2),u(2,"div",3),H(3),x()),t&2&&(h(n._iconName?0:-1),y(),h(n.closable?1:-1))},dependencies:[j,W],styles:[ye,"[_nghost-%COMP%]{border-radius:var(--message-banner-border-radius)}"],changeDetection:0});let s=o;return s})(),Se={toastState:de("state",[U("initial, void, hidden",v({opacity:0,transform:"translateY(100%)"})),U("visible",v({opacity:1})),Y("* => visible",Z("300ms cubic-bezier(0, 0, 0.2, 1)",v({opacity:1,transform:"translateY(0)"}))),Y("* => hidden",Z("300ms cubic-bezier(0, 0, 0.2, 1)",v({opacity:0,transform:"translateY(200%)"})))])},_=class{constructor(){this.politeness="polite",this.announcementMessage="",this.duration=3e3,this.context="info",this.data=null}},O=class{constructor(o){this.data=o}},J=(()=>{let o=class o extends ue{constructor(e,t,n,i){super(),this._ngZone=e,this._cdr=t,this.config=n,this.data=i,this._destroyed=!1,this._onExit=new C,this._onEnter=new C,this._animationState="void",this._role=null,this._context=this.config.context,this._setAriaLabels()}attachComponentPortal(e){return this._assertNotAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){let{fromState:t,toState:n}=e;if((n==="void"&&t!=="void"||n==="hidden")&&this._completeExit(),n==="visible"){let i=this._onEnter;this._ngZone.run(()=>{i.next(),i.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._cdr.detectChanges())}exit(){this._animationState="hidden"}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.asObservable().pipe(R(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_assertNotAttached(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach message toast content after content is already attached")}_setAriaLabels(){this.config.politeness==="assertive"&&!this.config.announcementMessage?this._role="alert":this.config.politeness==="off"?this._role=null:this._role="status"}};o.\u0275fac=function(t){return new(t||o)(l(se),l(S),l(_),l(O))},o.\u0275cmp=P({type:o,selectors:[["nx-message-toast"]],viewQuery:function(t,n){if(t&1&&Q(q,7),t&2){let i;G(i=X())&&(n._portalOutlet=i.first)}},hostVars:2,hostBindings:function(t,n){t&1&&re("@state.done",function(r){return n.onAnimationEnd(r)}),t&2&&(ae("@state",n._animationState),k("role",n._role))},standalone:!0,features:[F,I],decls:3,vars:2,consts:[[3,"context"],["cdkPortalOutlet",""]],template:function(t,n){t&1&&(u(0,"nx-message",0),T(1,Te,0,0,"ng-template",1)(2,ke,1,1),x()),t&2&&(E("context",n._context),y(2),h(n.data?2:-1))},dependencies:[K,q],styles:["nx-message[_ngcontent-%COMP%]{box-shadow:var(--message-box-shadow);max-width:352px}@media (max-width: 703px){nx-message[_ngcontent-%COMP%]{max-width:calc(100vw - 16px)}}"],data:{animation:[Se.toastState]}});let s=o;return s})(),De=(()=>{let o=class o{};o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=ne({type:o}),o.\u0275inj=te({imports:[ge,j,Ce,xe,K,J,Ie]});let s=o;return s})(),je=2**31-1,M=class{constructor(o,a,e){this.toastInstance=o,this._overlayRef=a,this._componentRef=e,this._afterDismissed=new C,this._afterOpened=new C,o._onExit.pipe(R(1)).subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.toastInstance.exit(),clearTimeout(this._durationTimeoutId)}_dismissAfter(o){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(o,je))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._afterDismissed.next(),this._afterDismissed.complete()}afterDismissed(){return this._afterDismissed.asObservable()}afterOpened(){return this.toastInstance._onEnter}},Re=new A("NX_MESSAGE_TOAST_DEFAULT_CONFIG"),Ae=new A("NxMessageToastComponentData"),rt=(()=>{let o=class o{set _oldToastMessageRef(e){this._parentMessageToastService?this._parentMessageToastService._oldToastMessageRef=e:this._toastRefAtThisLevel=e}get _oldToastMessageRef(){let e=this._parentMessageToastService;return e?e._oldToastMessageRef:this._toastRefAtThisLevel}constructor(e,t,n,i,r){this._overlay=e,this._injector=t,this._live=n,this._parentMessageToastService=i,this._defaultConfig=r,this._toastRefAtThisLevel=null}open(e,t){let n=c(c(c({},new _),this._defaultConfig),t),i=this._createOverlay(n),r=this._createInjector(n,new O(e),this._injector),d=new D(J,void 0,r),p=i.attach(d),f=new M(p.instance,i,null);return this._animateToast(f,n),this._oldToastMessageRef=f,this._oldToastMessageRef}openFromTemplate(e,t){let n=c(c(c({},new _),this._defaultConfig),t),i=this._createOverlay(n),r=this._attachToastComponent(i,n),d=new M(r,i,null),p=new he(e,null,{$implicit:n.data,toastRef:d});return r.attachTemplatePortal(p),this._animateToast(d,n),this._oldToastMessageRef=d,this._oldToastMessageRef}openFromComponent(e,t){let n=c(c(c({},new _),this._defaultConfig),t),i=this._createOverlay(n),r=this._attachToastComponent(i,n),d=new D(e,null),p=r.attachComponentPortal(d),f=new M(r,i,p);return this._animateToast(f,n),this._oldToastMessageRef=f,this._oldToastMessageRef}_attachToastComponent(e,t){let n=this._createInjector(t,null,this._injector),i=new D(J,null,n),r=e.attach(i);return r.instance.config=t,r.instance}_createOverlay(e){let t=new pe,n=this._overlay.position().global();return n.bottom("0"),n.centerHorizontally(),t.positionStrategy=n,this._overlay.create(t)}_animateToast(e,t){e.afterDismissed().subscribe(()=>{this._oldToastMessageRef===e&&(this._oldToastMessageRef=null),t.announcementMessage&&this._live.clear()}),this._oldToastMessageRef?(this._oldToastMessageRef.afterDismissed().subscribe(()=>{e.toastInstance.enter()}),this._oldToastMessageRef.dismiss()):e.toastInstance.enter(),t.duration&&t.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(t.duration)),t.announcementMessage&&this._live.announce(t.announcementMessage,t.politeness)}_createInjector(e,t,n){return w.create({parent:n,providers:[{provide:_,useValue:e},{provide:O,useValue:t},{provide:Ae,useValue:e.data}],name:"nx-message-toast__portal-injector"})}dismiss(){this._oldToastMessageRef&&this._oldToastMessageRef.dismiss()}ngOnDestroy(){this._toastRefAtThisLevel&&this._toastRefAtThisLevel.dismiss()}};o.\u0275fac=function(t){return new(t||o)(m(fe),m(w),m(me),m(o,12),m(Re,8))},o.\u0275prov=ee({token:o,factory:o.\u0275fac,providedIn:De});let s=o;return s})();export{K as a,Ie as b,De as c,rt as d};
