import{a as Gt,b as Qt,c as Wt}from"./chunk-3Q5C23DV.js";import{a as Pe,b as Oe,c as jt}from"./chunk-SPPBTW7W.js";import{a as Rt,b as Ye}from"./chunk-K73HV3OR.js";import{a as Ht}from"./chunk-65GLPSAG.js";import{g as zt}from"./chunk-YRHK7FMC.js";import{k as Lt}from"./chunk-LMYTBCUX.js";import"./chunk-SP5DAN74.js";import"./chunk-GCLFQC76.js";import{a as At}from"./chunk-RTSM2X3X.js";import{a as kt,b as q,c as Pt,d as U,e as Ot}from"./chunk-WM3ASZ64.js";import{A as L,B as te,d as Y,f as Tt,g as O,h as j,i as K,j as ke,k as X,l as se,m as G,p as Q,s as ee,w as Mt}from"./chunk-3CXM22DE.js";import"./chunk-DZRQJYOJ.js";import"./chunk-KSMSSQIV.js";import{c as It,d as V}from"./chunk-INHV2N6H.js";import"./chunk-VV4CBK2G.js";import{a as qt}from"./chunk-VPHHQYPB.js";import{d as D,e as Bt,g as be}from"./chunk-63LXIO5M.js";import"./chunk-J2PQRSHM.js";import"./chunk-LJK2GACP.js";import"./chunk-T5NYCE37.js";import"./chunk-YHRSJ234.js";import{c as v,e as ue}from"./chunk-V5XCZUGO.js";import{q as Vt}from"./chunk-2EQ73B6L.js";import{a as Dt,b as T,d as M}from"./chunk-G3FDH6OQ.js";import"./chunk-TGA3OXY4.js";import{a as ye,b as Je}from"./chunk-APNBV455.js";import{q as wt,v as ae,x as Nt,z as St}from"./chunk-CCSED5RY.js";import{$ as We,Aa as f,Ac as me,Ba as x,Bc as _e,E as gt,Ea as vt,Ec as Ce,F as Ge,Fc as $,Gc as R,Hc as A,I as Qe,K as _t,Ka as de,Lb as _,Lc as F,Mb as Me,Mc as a,Nb as De,Nc as Fe,Oa as yt,Oc as z,Pc as ve,Q as Ct,Qc as oe,Rb as E,Rc as ne,Sc as re,Tc as Ve,Wc as Ut,Xc as J,Yc as ie,Zc as Et,_c as Be,ac as pe,ba as C,bc as m,cc as Ze,dc as fe,ed as Ie,gc as h,ic as xe,j as y,ja as Se,jc as he,ka as Te,kc as ge,lc as r,mc as l,nc as g,o as ht,qc as bt,rc as k,wb as s,wc as b,x as je,xb as c,yc as w,za as Ft,zc as $e}from"./chunk-LG2ZA55B.js";var Kt=["*"];function Xt(i,p){if(i&1&&(r(0,"span",4),a(1),l()),i&2){let e=w();Ze("background-color",e.iconColor[e.extension]||"#000"),s(),Fe(e.extension)}}function ei(i,p){if(i&1&&(r(0,"span"),a(1),l()),i&2){let e=w();s(),Fe(e.uploadingLabel)}}function ti(i,p){if(i&1&&(r(0,"span"),a(1),J(2,"number"),l()),i&2){let e=w();s(),z("",Et(2,1,e.size/1024/1024,".2")," MB")}}function ii(i,p){i&1&&g(0,"nx-spinner",0)}function oi(i,p){if(i&1&&g(0,"nx-icon",1),i&2){let e=w();pe("aria-label",e.uploadedLabel||null)}}var ni=["nativeInputFile"],ri=["fileRowElement"],li=[[["nx-label"]],[["","nxFileUploadHint",""]],[["nx-file-uploader-drop-zone"]],[["","nxFileUploadButton",""]],[["nx-error"]]],ai=["nx-label","[nxFileUploadHint]","nx-file-uploader-drop-zone","[nxFileUploadButton]","nx-error"],si=(i,p)=>({templateContext:i,file:p});function pi(i,p){i&1&&me(0,4)}function di(i,p){i&1&&bt(0)}function mi(i,p){if(i&1){let e=k();r(0,"div",6,2),b("keydown",function(o){f(e);let n=w(2);return x(n._handleKeydownListRow(o))}),E(2,di,1,0,"ng-container",7),l()}if(i&2){let e=p.$implicit,t=w(2),o=F(9);fe("nx-file-uploader--file-state-uploading",e.isUploading)("nx-file-uploader--default-template",!t._itemTemplate),s(2),m("ngTemplateOutlet",t._itemTemplate?t._itemTemplate:o)("ngTemplateOutletContext",Ut(6,si,t._templateContext,e))}}function ui(i,p){if(i&1&&(r(0,"div",4),he(1,mi,3,9,"div",5,xe),l()),i&2){let e=w();pe("aria-label",e._templateContext.uploadedListLabel),s(),ge(e.value)}}function ci(i,p){if(i&1){let e=k();g(0,"nx-file-upload-name",8)(1,"nx-file-upload-size",9),r(2,"div",10),g(3,"nx-file-upload-status",11),r(4,"nx-file-upload-delete",12),b("click",function(){let o=f(e).file,n=w();return x(n.removeFile(o))}),l()()}if(i&2){let e=p.templateContext,t=p.file;m("name",t==null?null:t.name),s(),m("size",t==null?null:t.size)("isUploading",t.isUploading)("uploadingLabel",e.uploadingLabel),s(2),m("isUploading",t.isUploading)("isUploaded",t.isUploaded)("uploadedLabel",e.uploadedLabel),s(),m("deleteLabel",e.deleteLabel)("isUploading",t.isUploading)}}var Ue=class{constructor(p,e){this.files=p,this.requests=e}},Ee=class{constructor(p,e){this.files=p,this.requests=e}},I=class{set config(p){this._config!==p&&(this._config=p)}get config(){return this._config}constructor(p,e){this.response=new y,this._config=p,this._httpClient=e}uploadFiles(p){this.config.uploadSeparately?this._uploadFilesSeparately(p):this._uploadFilesCollectively(p)}_uploadFilesCollectively(p){if(!p||p.length===0)return;let e=new FormData,t=p.filter(o=>!o.isUploaded);t.forEach(o=>{o.setUploadingState(),e.append("uploads[]",o.file,o.name)}),this._httpClient.post(this.config.requestUrl,e,this.config.options).subscribe(o=>{t.forEach(n=>n.setUploadedState()),this.response.next({allSucessful:!0,success:new Ue(t,[o])})},o=>{t.forEach(n=>n.setErrorState()),this.response.next({error:new Ee(t,[o])})})}_uploadFilesSeparately(p){if(!p)return;let e=[];p.filter(o=>!o.isUploaded).forEach(o=>{e.push(this._uploadFile(o).pipe(_t(n=>ht(n))))}),gt(e).subscribe(o=>{let n=o.reduce((d,u)=>(u.success?(d.success||(d.success=new Ue([],[])),d.success.files.push(...u.success.files),d.success.requests.push(...u.success.requests)):u.error&&(d.error||(d.error=new Ee([],[])),d.error.files.push(...u.error.files),d.error.requests.push(...u.error.requests)),d),{});n.error||(n.allSucessful=!0),this.response.next(n)})}_uploadFile(p){let e=new y,t=new FormData;return p.isUploaded||(p.setUploadingState(),t.append("uploads[]",p.file,p.name)),this._httpClient.post(this.config.requestUrl,t,this.config.options).subscribe(o=>{p.setUploadedState(),e.next({success:new Ue([p],[o])}),e.complete()},o=>{p.setErrorState(),e.next({error:new Ee([p],[o])}),e.complete()}),e}},Le=class{constructor(p,e=0){this.isUploading=!1,this.isUploaded=!1,this.isError=!1,this.index=0,this.onChange=new de,this.file=p,this.name=p.name,this._size=p.size,this._type=p.type,this.index=e}get size(){return this._size}get type(){return this._type}setUploadedState(){this.isUploaded=!0,this.isUploading=!1,this.isError=!1,this.onChange.emit(this)}setUploadingState(){this.isUploaded=!1,this.isUploading=!0,this.isError=!1,this.onChange.emit(this)}setErrorState(){this.isUploaded=!1,this.isUploading=!1,this.isError=!0,this.onChange.emit(this)}};function Zt(i,p,e){if(!p||!i.type&&!e)return!0;let t=Ke(i.name);return p.replace(/\s/g,"").split(",").filter(o=>new RegExp(o).test(i.type)||o===t).length>0}function fi(i,p){return!p||i.size<=p}function Ke(i){let p=i.split(".");return p.length===1?"":"."+p.pop()}function $t(i,p){return!i||!p||i<=p}var qe=class{static maxFileSize(p,e){return t=>!p||p>e.size?null:{NxFileUploadMaxFileSize:{max:p,fileName:e.name,actual:e.size}}}static fileType(p,e,t){return o=>Zt(p,e,t)?null:{NxFileUploadFileTypeNotAccepted:{fileName:p.name}}}static maxFileNumber(p,e){return t=>$t(p,e)?null:{NxFileUploadMaxFileNumber:{max:e,actual:p}}}},N=(()=>{class i{set disabled(e){this._disabled=e,this._cdr.markForCheck()}get disabled(){return this._disabled}constructor(e,t){this._cdr=e,this.elemetRef=t,this._disabled=!1,this._clicked=new y}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onClick(){this._clicked.next()}ngOnDestroy(){this._clicked.complete()}static{this.\u0275fac=function(t){return new(t||i)(c(Ie),c(yt))}}static{this.\u0275dir=De({type:i,selectors:[["","nxFileUploadButton",""]],hostVars:4,hostBindings:function(t,o){t&1&&b("click",function(){return o.onClick()}),t&2&&(pe("aria-describedby",o._ariaDescribedby||null)("disabled",o.disabled||null),fe("nx-file-upload-button",!0))},inputs:{disabled:"disabled"}})}}return i})();function xi(i){return i!=null}var ce=(()=>{class i{set disabled(e){this._disabled=e,this._cdr.markForCheck()}get disabled(){return this._disabled}constructor(e){this._cdr=e,this._disabled=!1,this._active=!1,this.fileDropped=new de}onDrop(e){if(e.preventDefault(),this.disabled){if(!e.dataTransfer)return;e.dataTransfer.dropEffect="no-drop"}else{if(!e.dataTransfer){this.fileDropped.emit([]);return}let{dataTransfer:t}=e;if(t.items){let o=Array.from(t.items).map(n=>n.getAsFile()).filter(xi);t.items.clear(),this.fileDropped.emit(o)}else{let o=Array.from(t.files);t.clearData(),this.fileDropped.emit(o)}this._active=!1}}onDragOver(e){e.stopPropagation(),e.preventDefault(),this.disabled?e.dataTransfer.dropEffect="none":(e.dataTransfer.dropEffect="copy",this._active=!0,this._cdr.markForCheck())}onDragLeave(e){this._active=!1,e.dataTransfer.dropEffect="none",this._cdr.markForCheck()}onDragEnd(e){e.dataTransfer.dropEffect="none"}onDragStart(e){this.disabled?e.dataTransfer.dropEffect="none":e.dataTransfer.dropEffect="copy"}get active(){return this._active}static{this.\u0275fac=function(t){return new(t||i)(c(Ie))}}static{this.\u0275cmp=_({type:i,selectors:[["nx-file-uploader-drop-zone"]],hostVars:4,hostBindings:function(t,o){t&1&&b("drop",function(d){return o.onDrop(d)})("dragover",function(d){return o.onDragOver(d)})("dragleave",function(d){return o.onDragLeave(d)})("dragend",function(d){return o.onDragEnd(d)})("dragstart",function(d){return o.onDragStart(d)}),t&2&&fe("is-active",o.active)("is-disabled",o.disabled)},inputs:{disabled:"disabled"},outputs:{fileDropped:"fileDropped"},ngContentSelectors:Kt,decls:1,vars:0,template:function(t,o){t&1&&($e(),me(0))},styles:["[_nghost-%COMP%]     button{margin-bottom:16px}@media (min-width: 704px){[_nghost-%COMP%]{height:104px;border:1px dashed var(--file-uploader-drop-zone-border-color);align-items:center;justify-content:center;display:flex;color:var(--file-uploader-drop-zone-text-color)}.is-active[_nghost-%COMP%]{border-style:solid}.is-disabled[_nghost-%COMP%]{cursor:no-drop}[_nghost-%COMP%]     button{margin-bottom:0}}"],changeDetection:0})}}return i})(),hi=0,B=(()=>{class i{constructor(){this.id=`nx-formfield-hint-${hi++}`}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275dir=De({type:i,selectors:[["","nxFileUploadHint",""]],hostVars:3,hostBindings:function(t,o){t&2&&(pe("id",o.id),fe("nx-file-upload-hint",!0))},inputs:{id:"id"}})}}return i})(),ze=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=_({type:i,selectors:[["nx-file-upload-delete"]],inputs:{isUploading:"isUploading",deleteLabel:"deleteLabel"},decls:2,vars:3,consts:[["nxIconButton","tertiary small-medium","type","button"],["name","trash-o"]],template:function(t,o){t&1&&(r(0,"button",0),g(1,"nx-icon",1),l()),t&2&&(pe("aria-label",o.deleteLabel||null)("disabled",o.isUploading||null),s(),pe("aria-hidden",!0))},dependencies:[be,Bt,ue,v],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%] > button[_ngcontent-%COMP%]{margin-bottom:0;white-space:nowrap}"]})}}return i})(),Re=(()=>{class i{constructor(){this.iconColor={xls:"#1E8927",xlsx:"#1E8927",pdf:"#DC3149",png:"#ba31dc"}}ngOnInit(){this.extension=Ke(this.name).substring(1)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=_({type:i,selectors:[["nx-file-upload-name"]],inputs:{name:"name"},decls:5,vars:2,consts:[[1,"extension"],[1,"extension-label",3,"background-color"],["name","file",1,"extension-icon"],[1,"nx-margin-left-2xs"],[1,"extension-label"]],template:function(t,o){t&1&&(r(0,"span",0),E(1,Xt,2,3,"span",1),g(2,"nx-icon",2),l(),r(3,"span",3),a(4),l()),t&2&&(s(),h(o.extension?1:-1),s(3),Fe(o.name))},dependencies:[ue,v],styles:["[_nghost-%COMP%]{font-size:var(--file-uploader-file-name-font-size);line-height:var(--file-uploader-file-name-line-height);font-weight:var(--file-uploader-file-name-font-weight);letter-spacing:var(--file-uploader-file-name-letter-spacing)}.extension[_ngcontent-%COMP%]{position:relative;top:4px;display:inline-flex}.extension-icon[_ngcontent-%COMP%]{font-size:1.375rem}.extension-label[_ngcontent-%COMP%]{position:absolute;text-transform:uppercase;-webkit-user-select:none;user-select:none;line-height:normal;font-weight:700;padding:1px 3px;right:4px;bottom:4px;border-radius:2px 0 0 2px;font-size:.375rem;color:#fff}"]})}}return i})(),Xe=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=_({type:i,selectors:[["nx-file-upload-size"]],inputs:{size:"size",isUploading:"isUploading",uploadingLabel:"uploadingLabel"},decls:2,vars:1,template:function(t,o){t&1&&E(0,ei,2,1,"span")(1,ti,3,4,"span"),t&2&&h(o.isUploading?0:1)},dependencies:[Nt],styles:["[_nghost-%COMP%]{white-space:nowrap}"]})}}return i})(),Ae=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=_({type:i,selectors:[["nx-file-upload-status"]],inputs:{isUploading:"isUploading",isUploaded:"isUploaded",uploadedLabel:"uploadedLabel"},decls:2,vars:2,consts:[["size","medium"],["name","check-circle","size","s"]],template:function(t,o){t&1&&E(0,ii,1,0,"nx-spinner",0)(1,oi,1,1,"nx-icon",1),t&2&&(h(o.isUploading?0:-1),s(),h(o.isUploaded?1:-1))},dependencies:[Ye,Rt,ue,v],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]   nx-icon[_ngcontent-%COMP%]{color:var(--file-uploader-file-row-icon-color)}"]})}}return i})(),He=(()=>{class i{constructor(){this.changes=new y,this.uploadingLabel="uploading",this.deleteLabel="Delete",this.uploadedStateLabel="uploaded",this.uploadedListLabel="List of uploaded files"}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=Se({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),gi=0,S=(()=>{class i{set noBlockingValidators(e){this._noBlockingValidators=ye(e)}get noBlockingValidators(){return this._noBlockingValidators}set id(e){this._id=e,this._cdr.markForCheck()}get id(){return this._id}set required(e){this._required=ye(e)}get required(){return this._required}set value(e){this.writeValue(e)}get value(){return this._value}set name(e){this._name=e}get name(){return this._name}set disabled(e){this._disabled=ye(e),this.button&&(this.button.disabled=this._disabled),this._dropZone&&(this._dropZone.disabled=this._disabled),this._cdr.markForCheck()}get disabled(){return this._disabled}set multiple(e){this._multiple=ye(e)}get multiple(){return this._multiple}set accept(e){this._accept=e}get accept(){return this._accept}set maxFileSize(e){this._maxFileSize=Je(e)}get maxFileSize(){return this._maxFileSize}set uploader(e){this._uploader!==e&&(this._uploader=e)}get uploader(){return this._uploader}set maxFileNumber(e){this._maxFileNumber=Je(e)}get maxFileNumber(){return this._maxFileNumber}set itemTemplate(e){this._itemTemplate!==e&&(this._itemTemplate=e)}get itemTemplate(){return this._itemTemplate}constructor(e,t,o,n,d,u,Yt){this._cdr=e,this._errorStateMatcher=t,this._intl=o,this._parentForm=n,this._parentFormGroup=d,this.ngControl=u,this._focusMonitor=Yt,this._filesSubscriptions=[],this.valueChange=new de,this.fileDeleted=new de,this.filesSelected=new de,this._controlValidators=null,this.errorState=!1,this.errors=[],this._noBlockingValidators=!1,this.stateChanges=new y,this.validatorFnArray=[],this._id=`nx-file-uploader-${gi++}`,this._inputId=`${this.id}-input`,this._labelId=`${this.id}-label`,this._required=!1,this._disabled=!1,this._multiple=!1,this.strictAcceptValidation=!1,this._maxFileSize=0,this._maxFileNumber=null,this._destroyed=new y,this.openedChange=new de,this._openedStream=this.openedChange.pipe(Qe(Ne=>Ne),je(()=>{})),this._closedStream=this.openedChange.pipe(Qe(Ne=>!Ne),je(()=>{})),this.onChangeCallback=Ne=>{},this.onTouchedCallback=()=>{},this.ngControl&&(this.ngControl.valueAccessor=this),this._templateContext=this}ngOnInit(){this.ngControl?.control&&(this._controlValidators=this.ngControl.control.validator),this._intl.changes.pipe(C(this._destroyed)).subscribe(()=>{this._cdr.markForCheck(),this.stateChanges.next()}),this._resetValidators()}ngAfterViewInit(){this._fileRowElements.forEach(e=>this._focusMonitor.monitor(e)),this._fileRowElementsPrevious=this._fileRowElements,this._fileRowElements.changes.pipe(C(this._destroyed)).subscribe(e=>{this._fileRowElementsPrevious.forEach(t=>this._focusMonitor.stopMonitoring(t)),this._fileRowElementsPrevious=e,e.forEach(t=>this._focusMonitor.monitor(t))})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._filesSubscriptions.forEach(e=>e.unsubscribe()),this._fileRowElements.forEach(e=>this._focusMonitor.stopMonitoring(e))}updateErrorState(){let e=this.errorState,t=this._parentFormGroup||this._parentForm,o=this.ngControl?this.ngControl.control:null,n=this._errorStateMatcher.isErrorState(o,t);n!==e&&(this.errorState=n,this.stateChanges.next())}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}writeValue(e){this._value!==e&&(e&&this._filesSubscriptions&&(this._filesSubscriptions.forEach(t=>t.unsubscribe()),this._filesSubscriptions=[]),this._value=e,this._subscribeToFileChanges())}_resetValidators(e=!1){if(this.ngControl?.control){e&&this.ngControl.control.clearValidators();let t=[];this._controlValidators&&t.unshift(this._controlValidators),this.validatorFnArray&&t.push(...this.validatorFnArray),this.ngControl.control.setValidators(t),this.ngControl.control.updateValueAndValidity()}}ngAfterContentInit(){if(!this.button)return;this.button._clicked.pipe(C(this._destroyed)).subscribe(()=>{if(this.errors=[],this.maxFileNumber&&(this.value?.length||0)===this.maxFileNumber){this.setMaxFileNumberError(this.maxFileNumber),this._resetValidators(!0);return}this.nativeInputFile.nativeElement.click()});let e=Ge(this.button.elemetRef.nativeElement,"focus"),t=Ge(this.button.elemetRef.nativeElement,"click"),o=!1;t.pipe(C(this._destroyed)).subscribe(()=>{o=!0,this.openedChange.emit(o)}),e.pipe(C(this._destroyed)).subscribe(()=>{o&&(o=!1,this.openedChange.emit(o))}),this.button.disabled=this.disabled,this._dropZone&&(this._dropZone.fileDropped.pipe(C(this._destroyed)).subscribe(n=>{this._addFilesToQueue(n)}),this._dropZone.disabled=this.disabled),this._label&&(this._label.for=this._inputId,this._label.id=this._labelId),this.stateChanges.pipe(C(this._destroyed)).subscribe(()=>{this._syncDescribedByIds(),this._cdr.markForCheck()}),this._hintChildren.changes.pipe(We(null),C(this._destroyed)).subscribe(()=>{this._syncDescribedByIds(),this._cdr.markForCheck()}),this._errorList.changes.pipe(We(null),C(this._destroyed)).subscribe(()=>{this._syncDescribedByIds(),this._cdr.markForCheck()})}_addFilesToQueue(e){this.multiple||(this.value=[]),this._setFileListFromValue(e),this._resetValidators(!0),this.onChangeCallback(this.value),this.onTouchedCallback(),this.valueChange.emit(this.value),this.filesSelected.emit(this.value)}_setFileListFromValue(e){if(this.validatorFnArray=[],e===null)this.value=void 0;else{this.errors=[];let t=(this.value?.length||0)+e.length;$t(t,this.maxFileNumber)?e.forEach(o=>{if(!fi(o,this.maxFileSize)){this.setFileSizeError(o);return}if(!Zt(o,this.accept,this.strictAcceptValidation)){this.setFileTypeError(o);return}let n=new Le(o);this.value?this.value.push(n):this.value=[n],this._cdr.markForCheck()}):this.setMaxFileNumberError(t),console.log(this.errors),this._subscribeToFileChanges()}}removeFile(e){this.value=this.value.filter(t=>e!==t),this._filesSubscriptions&&(this._filesSubscriptions.forEach(t=>t.unsubscribe()),this._filesSubscriptions=[]),this._subscribeToFileChanges(),this.validatorFnArray=[],this._resetValidators(!0),this._cdr.markForCheck(),this.valueChange.emit(this.value),this.fileDeleted.emit(e),this.onTouchedCallback(),this.onChangeCallback(this.value),this.nativeInputFile.nativeElement.value=""}uploadFiles(){if(!this.uploader){console.warn("No uploader found. Please define a NxFileUpload to use the uploading mechanism.");return}this.uploader&&(this.uploader.response.pipe(Ct(1)).subscribe(e=>{let t=this.value?.filter(n=>n.isUploaded&&!n.isError),o=e.error?.files.filter(n=>!n.isUploaded&&n.isError);o?.length&&o?.forEach(n=>this.setFileUploadError(n,"An error occured while uploading")),this.value=t}),this.uploader.uploadFiles(this.value))}ngDoCheck(){this.ngControl&&this.updateErrorState()}get uploadingLabel(){return this._intl.uploadingLabel}get deleteLabel(){return this._intl.deleteLabel}get uploadedLabel(){return this._intl.uploadedStateLabel}get uploadedListLabel(){return this._intl.uploadedListLabel}_syncDescribedByIds(){let e=[];e=this._hintChildren.map(t=>t.id),e=this._label?[this._label.id,...e]:e,e=[...this._errorList.map(t=>t.id),...e],this.button?.setDescribedByIds(e)}_handleKeydownListRow(e){if(e.keyCode===40){let t=e.target.nextSibling;t?.classList?.contains("nx-file-uploader--file-row")&&(e.preventDefault(),t.focus())}else if(e.keyCode===38){let t=e.target.previousSibling;t?.classList?.contains("nx-file-uploader--file-row")&&(e.preventDefault(),t.focus())}}_onFileChange(e){if(this.disabled)return;let t=e.target,o=Array.from(t.files??[]);this._addFilesToQueue(o),this.stateChanges.next(),this._cdr.markForCheck(),this.nativeInputFile.nativeElement.value=""}_subscribeToFileChanges(){if(this.value?.length){let e;this.value.map(t=>{e=t.onChange.subscribe(()=>{this._cdr.markForCheck()}),this._filesSubscriptions.push(e)})}}setMaxFileNumberError(e){this.errors.push({filename:"",type:"fileNumber",max:this.maxFileNumber,actual:e}),!this.noBlockingValidators&&this.ngControl?.control&&this.validatorFnArray.push(t=>({NxFileUploadMaxFileNumber:{max:this.maxFileNumber,actual:e}}))}setFileSizeError(e){this.errors.push({filename:e.name,type:"fileSize",max:this.maxFileSize,actual:e.size}),!this.noBlockingValidators&&this.ngControl?.control&&this.validatorFnArray.push(qe.maxFileSize(this.maxFileSize,e))}setFileTypeError(e){this.errors.push({filename:e.name,type:"fileType",extension:this.accept,actual:Ke(e.name)}),!this.noBlockingValidators&&this.ngControl?.control&&this.validatorFnArray.push(qe.fileType(e,this.accept,this.strictAcceptValidation))}setFileUploadError(e,t){this.errors.push({filename:e.name,type:"upload",reason:t})}get allFilesUploaded(){return this.value?.every(e=>e.isUploaded)||!1}setDisabledState(e){this.disabled=e,this.stateChanges.next()}static{this.\u0275fac=function(t){return new(t||i)(c(Ie),c(qt),c(He),c(ke,8),c(Q,8),c(Tt,10),c(Vt))}}static{this.\u0275cmp=_({type:i,selectors:[["nx-file-uploader"]],contentQueries:function(t,o,n){if(t&1&&(Ce(n,N,5),Ce(n,ce,7),Ce(n,U,5),Ce(n,B,4),Ce(n,q,4)),t&2){let d;R(d=A())&&(o.button=d.first),R(d=A())&&(o._dropZone=d.first),R(d=A())&&(o._label=d.first),R(d=A())&&(o._hintChildren=d),R(d=A())&&(o._errorList=d)}},viewQuery:function(t,o){if(t&1&&($(ni,5),$(ri,5)),t&2){let n;R(n=A())&&(o.nativeInputFile=n.first),R(n=A())&&(o._fileRowElements=n)}},hostVars:3,hostBindings:function(t,o){t&2&&(pe("aria-invalid",o.errorState),fe("has-error",o.errorState))},inputs:{noBlockingValidators:"noBlockingValidators",id:"id",required:"required",value:"value",name:"name",disabled:"disabled",multiple:"multiple",accept:"accept",strictAcceptValidation:"strictAcceptValidation",maxFileSize:"maxFileSize",uploader:"uploader",maxFileNumber:"maxFileNumber",itemTemplate:"itemTemplate"},outputs:{valueChange:"valueChange",fileDeleted:"fileDeleted",filesSelected:"filesSelected",openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed"},exportAs:["NxFileUploaderComponent"],features:[Ve([{provide:kt,useValue:{appearance:"message"}}]),Ft],ngContentSelectors:ai,decls:10,vars:6,consts:[["nativeInputFile",""],["defaultFileRow",""],["fileRowElement",""],["type","file",3,"change","id"],["role","list",1,"nx-file-uploader--file-list","nx-margin-bottom-m"],["role","listitem",1,"nx-file-uploader--file-row",3,"nx-file-uploader--file-state-uploading","nx-file-uploader--default-template"],["role","listitem",1,"nx-file-uploader--file-row",3,"keydown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"name"],[3,"size","isUploading","uploadingLabel"],[1,"nx-file-uploader--file-row-actions"],[3,"isUploading","isUploaded","uploadedLabel"],[3,"click","deleteLabel","isUploading"]],template:function(t,o){if(t&1){let n=k();$e(li),E(0,pi,1,0),me(1),me(2,1),me(3,2),me(4,3),r(5,"input",3,0),b("change",function(u){return f(n),x(o._onFileChange(u))}),l(),E(7,ui,3,1,"div",4)(8,ci,5,9,"ng-template",null,1,Be)}t&2&&(h(o.errorState||o.errors.length?0:-1),s(5),m("id",o._inputId),pe("multiple",o.multiple||null)("disabled",o.disabled||null)("accept",o.accept),s(2),h(o.value&&o.value.length>0?7:-1))},dependencies:[wt,Re,Xe,Ae,ze],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nx-error.nx-error--message{margin:12px 0}[_nghost-%COMP%]     nx-error.nx-error--message ul{margin-left:28px;margin-top:6px}[_nghost-%COMP%]     nx-error.nx-error--message li{line-height:24px}.nx-file-uploader--file-list[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.nx-file-uploader--file-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;border-bottom-width:1px;border-bottom-style:solid;padding:8px 12px;border-bottom-color:var(--file-uploader-file-row-border-bottom-color);color:var(--file-uploader-file-row-text-color)}.nx-file-uploader--file-row[_ngcontent-%COMP%]:hover{background-color:var(--file-uploader-file-row-hover-background-color)}.nx-file-uploader--file-row[_ngcontent-%COMP%]:focus{outline:none}.nx-file-uploader--file-row[_ngcontent-%COMP%]     .nx-file-uploader--file-row-actions{margin-left:auto;display:flex;align-items:center;justify-content:flex-end;min-width:120px;flex:none}[dir=rtl][_nghost-%COMP%]   .nx-file-uploader--file-row[_ngcontent-%COMP%]     .nx-file-uploader--file-row-actions, [dir=rtl]   [_nghost-%COMP%]   .nx-file-uploader--file-row[_ngcontent-%COMP%]     .nx-file-uploader--file-row-actions{margin-left:initial;margin-right:auto}.nx-file-uploader--file-row.nx-file-uploader--default-template[_ngcontent-%COMP%]   nx-file-upload-name[_ngcontent-%COMP%]{flex:none;max-width:65%;overflow-wrap:break-word;line-height:28px}@media (max-width: 703px){.nx-file-uploader--file-row.nx-file-uploader--default-template[_ngcontent-%COMP%]   nx-file-upload-name[_ngcontent-%COMP%]{flex:100%;max-width:100%}}.nx-file-uploader--file-row.nx-file-uploader--default-template[_ngcontent-%COMP%]   nx-file-upload-size[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:flex-end}@media (max-width: 703px){.nx-file-uploader--file-row.nx-file-uploader--default-template[_ngcontent-%COMP%]   nx-file-upload-size[_ngcontent-%COMP%]{justify-content:flex-start}}.nx-file-uploader--file-row.nx-file-uploader--default-template[_ngcontent-%COMP%]   nx-file-upload-status[_ngcontent-%COMP%]{flex:0 1 auto;padding:0 16px}.nx-file-uploader--file-row.nx-file-uploader--default-template[_ngcontent-%COMP%]   nx-file-upload-delete[_ngcontent-%COMP%]{flex:0 1 auto}.nx-file-uploader--file-row.nx-file-uploader--file-state-uploading[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{color:var(--file-uploader-file-row-uploading-file-name-color)}  input[type=file]{display:none}  .nx-file-upload-button{display:block}  .nx-file-upload-hint{font-size:var(--file-uploader-hint-font-size);line-height:var(--file-uploader-hint-line-height);font-weight:var(--file-uploader-hint-font-weight);letter-spacing:var(--file-uploader-hint-letter-spacing);display:block}.nx-file-uploader--file-row.cdk-keyboard-focused[_ngcontent-%COMP%]{box-shadow:var(--focus-box-shadow)}@media screen and (forced-colors: active),(forced-colors: active){.nx-file-uploader--file-row.cdk-keyboard-focused[_ngcontent-%COMP%]{box-shadow:0 0 0 2px background,0 0 0 6px CanvasText;outline:4px solid CanvasText;outline-offset:2px}}"],changeDetection:0})}}return i})(),P=(()=>{class i{set fileUpload(e){this._fileUpload!==e&&(this._fileUpload=e)}get fileUpload(){return this._fileUpload}_onClick(){this._fileUpload.uploadFiles()}get visibility(){return this._fileUpload.allFilesUploaded?"hidden":"unset"}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275dir=De({type:i,selectors:[["","nxFileUploadTriggerFor",""]],hostVars:2,hostBindings:function(t,o){t&1&&b("click",function(){return o._onClick()}),t&2&&Ze("visibility",o.visibility)},inputs:{fileUpload:[0,"nxFileUploadTriggerFor","fileUpload"]},exportAs:["nxFileUploadTrigger"]})}}return i})(),Jt=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=Me({type:i})}static{this.\u0275inj=Te({imports:[St,ue,be,Ye,S,Re,Ae,ze,Pt,Ot]})}}return i})();var _i=["documentUpload"],we={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},et=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.uploadConfig={requestUrl:"file-upload",options:{params:new T,headers:new Dt({"My-Custom-Header":"custom-header-value"}),reportProgress:!0}},this.myFiles=[],this.uploader=new I(this.uploadConfig,this.http),this._destroyed=new y}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",we):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onFilesAddedChange(e){e&&this.documentUpload.uploadFiles()}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(M))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-auto-example"]],viewQuery:function(t,o){if(t&1&&$(_i,5),t&2){let n;R(n=A())&&(o.documentUpload=n.first)}},decls:9,vars:2,consts:[["documentUpload",""],["multiple","",3,"ngModelChange","filesSelected","ngModel","uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary small-medium","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","nxIconPositionStart","","aria-hidden","true"]],template:function(t,o){if(t&1){let n=k();r(0,"nx-file-uploader",1,0),re("ngModelChange",function(u){return f(n),ne(o.myFiles,u)||(o.myFiles=u),x(u)}),b("filesSelected",function(u){return f(n),x(o.onFilesAddedChange(u))}),r(2,"nx-label",2),a(3,"Upload file(s)"),l(),r(4,"span",3),a(5,"Multiple files are allowed"),l(),r(6,"button",4),g(7,"nx-icon",5),a(8," Add File "),l()()}t&2&&(oe("ngModel",o.myFiles),m("uploader",o.uploader))},dependencies:[S,L,O,se,U,B,D,N,v],encapsulation:2})}}return i})();var Ci={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},tt=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.uploadConfig={requestUrl:"file-upload",options:{params:new T,reportProgress:!0}},this.uploader=new I(this.uploadConfig,this.http),this._destroyed=new y}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Ci):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(M))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-basic-example"]],decls:11,vars:3,consts:[["documentUpload",""],["multiple","",3,"uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"nxFileUploadTriggerFor","disabled"]],template:function(t,o){if(t&1&&(r(0,"nx-file-uploader",1,0)(2,"nx-label",2),a(3,"Select a file to upload"),l(),r(4,"span",3),a(5,"Multiple files can be selected"),l(),r(6,"button",4),g(7,"nx-icon",5),a(8," Add File "),l()(),r(9,"button",6),a(10,` Upload
`),l()),t&2){let n=F(1);m("uploader",o.uploader),s(9),m("nxFileUploadTriggerFor",n)("disabled",!(n.value!=null&&n.value.length))}},dependencies:[S,U,B,D,N,v,P],encapsulation:2})}}return i})();var Fi=["documentUpload"],vi=["ngModel"];function yi(i,p){i&1&&(r(0,"li"),a(1,"Required!"),l())}function bi(i,p){if(i&1&&(r(0,"nx-error")(1,"div",7),a(2,"Error"),l(),r(3,"ul")(4,"li"),a(5,"An error occured while uploading."),l(),E(6,yi,2,0,"li"),l()()),i&2){w();let e=F(2);s(6),h(e.control.hasError("required")?6:-1)}}function Ui(i,p){if(i&1){let e=k();g(0,"nx-file-upload-name",8)(1,"nx-file-upload-size",9),r(2,"div",10),g(3,"nx-file-upload-status",11),r(4,"nx-file-upload-delete",12),b("click",function(){let o=f(e),n=o.templateContext,d=o.file;return x(n.removeFile(d))}),l()(),r(5,"form")(6,"nx-radio-group",13),re("ngModelChange",function(o){let n=f(e).file;return ne(n.formData,o)||(n.formData=o),x(o)}),r(7,"nx-label",14),a(8,"Do you own all rights to this picture?"),l(),r(9,"div",15)(10,"nx-radio",16),a(11,"Yes"),l(),r(12,"nx-radio",17),a(13,"No"),l()()()()}if(i&2){let e=p.templateContext,t=p.file;m("name",t==null?null:t.name),s(),m("size",t==null?null:t.size)("isUploading",t.isUploading)("uploadingLabel",e.uploadingLabel),s(2),m("isUploading",t.isUploading)("isUploaded",t.isUploaded)("uploadedLabel",e.uploadedLabel),s(),m("deleteLabel",e.deleteLabel)("isUploading",t.isUploading),s(2),m("disabled",t.isUploading||t.isUploaded),oe("ngModel",t.formData),s(4),m("value",!0),s(2),m("value",!1)}}var Ei={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},it=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.myFiles=[],this.showUploadError=!1}onChange(){this.validate()}validate(){let e=this.myFiles.every(t=>typeof t.formData=="boolean");return this.ngModel.control.setErrors(e?{}:{required:!0}),e}upload(e){if(this.showUploadError=!1,!this.documentUpload.value||!this.validate())return;let t=new FormData;this.myFiles.forEach(d=>{d.isUploaded||(d.setUploadingState(),t.set(d.name,d.file,d.name),t.set(`${d.name}-form`,d.formData.toString()))});let n={params:new T,reportProgress:!0};this.http.post(e,t,n).subscribe(d=>{this.documentUpload.value.forEach(u=>{u.setUploadedState()}),this.messageToastService.open("All files were uploaded successfully!",Ei)},d=>{this.documentUpload.value.forEach(u=>{u.isUploaded||u.setErrorState()}),this.showUploadError=!0})}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(M))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-custom-item-example"]],viewQuery:function(t,o){if(t&1&&($(Fi,5),$(vi,5)),t&2){let n;R(n=A())&&(o.documentUpload=n.first),R(n=A())&&(o.ngModel=n.first)}},decls:13,vars:4,consts:[["documentUpload","","ngModel","ngModel"],["myItemTemplate",""],["multiple","",3,"ngModelChange","ngModel","itemTemplate"],["size","small",1,"nx-margin-bottom-3xs"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"click","disabled"],[1,"nx-font-weight-bold"],[3,"name"],[3,"size","isUploading","uploadingLabel"],[1,"nx-file-uploader--file-row-actions"],[3,"isUploading","isUploaded","uploadedLabel"],[3,"click","deleteLabel","isUploading"],["name","pictureRights",3,"ngModelChange","disabled","ngModel"],[1,"nx-margin-bottom-m"],[1,"horizontal-buttons"],[1,"nx-margin-bottom-m",3,"value"],[1,"nx-margin-left-s","nx-margin-bottom-m",3,"value"]],template:function(t,o){if(t&1){let n=k();r(0,"nx-file-uploader",2,0),re("ngModelChange",function(u){return f(n),ne(o.myFiles,u)||(o.myFiles=u),x(u)}),r(3,"nx-label",3),a(4,"Please upload a file"),l(),r(5,"button",4),g(6,"nx-icon",5),a(7," Add File "),l()(),E(8,bi,7,1,"nx-error"),r(9,"button",6),b("click",function(){return f(n),x(o.upload("file-upload"))}),a(10,` Upload files
`),l(),E(11,Ui,14,13,"ng-template",null,1,Be)}if(t&2){let n=F(1),d=F(12);oe("ngModel",o.myFiles),m("itemTemplate",d),s(8),h(o.showUploadError?8:-1),s(),m("disabled",!(n.value!=null&&n.value.length))}},dependencies:[S,L,G,O,j,se,ke,U,D,N,v,q,Re,Xe,Ae,ze,Gt,Qt],styles:["nx-file-upload-name[_ngcontent-%COMP%]{flex:1}nx-file-upload-size[_ngcontent-%COMP%]{flex:none}nx-file-upload-status[_ngcontent-%COMP%]{flex:0 1 auto;padding:0 16px}nx-file-upload-delete[_ngcontent-%COMP%]{flex:0 1 auto}form[_ngcontent-%COMP%]{padding-top:16px;width:100%}.horizontal-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row}@media (max-width: 703px){nx-file-upload-name[_ngcontent-%COMP%]{flex:100%;order:-1;margin-bottom:16px}}"]})}}return i})();var wi=["documentUpload"];function Ni(i,p){i&1&&(r(0,"li"),a(1,"File is Required!"),l())}function Si(i,p){i&1&&(r(0,"li"),a(1,"An error occured while uploading."),l())}function Ti(i,p){if(i&1&&(r(0,"div"),a(1),l()),i&2){let e=w().$implicit;s(),z(' "',e.filename,'" could not be uploaded. The supported extensions us PNG. ')}}function Mi(i,p){if(i&1&&(r(0,"div"),a(1),l()),i&2){let e=w().$implicit;s(),ve(' "',e.filename,'" could not be uploaded. max file size is ',e.max,". ")}}function Di(i,p){if(i&1&&(r(0,"div"),a(1),l()),i&2){let e=w().$implicit;s(),z(" You cannot upload more than ",e.max," documents. ")}}function Vi(i,p){if(i&1&&(r(0,"li"),E(1,Ti,2,1,"div")(2,Mi,2,2,"div")(3,Di,2,1,"div"),l()),i&2){let e=p.$implicit;s(),h(e.type==="fileType"?1:-1),s(),h(e.type==="fileSize"?2:-1),s(),h(e.type==="fileNumber"?3:-1)}}function Bi(i,p){if(i&1&&he(0,Vi,4,3,"li",null,xe),i&2){w();let e=F(2);ge(e==null?null:e.errors)}}var ot=(()=>{class i{toggleValidation(){this.disableValidator=!this.disableValidator}constructor(e,t){this.messageToastService=e,this.http=t,this.disableValidator=!1,this.uploadConfig={requestUrl:"file-upload",options:{params:new T,reportProgress:!0}},this.uploader=new I(this.uploadConfig,this.http),this.testForm=new K({documents:new X([],Y.required)}),this._destroyed=new y}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",we):e.error&&this.testForm.controls.documents.setErrors({serverError:!0})})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onChange(e){console.log(e)}onDelete(e){console.log(e)}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(M))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-error-list-example"]],viewQuery:function(t,o){if(t&1&&$(wi,5),t&2){let n;R(n=A())&&(o.documentUpload=n.first)}},decls:28,vars:16,consts:[["documentUpload",""],[3,"formGroup"],["multiple","","formControlName","documents","accept","png","disableCommonValidator","","maxFileNumber","2",3,"fileDeleted","valueChange","maxFileSize","uploader","noBlockingValidators"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],[1,"nx-font-weight-bold"],["nxButton","primary small","type","button",3,"click","disabled","nxFileUploadTriggerFor"],["nxButton","secondary small","type","button",1,"nx-margin-top-s",3,"click"]],template:function(t,o){if(t&1){let n=k();r(0,"form",1)(1,"nx-file-uploader",2,0),b("fileDeleted",function(u){return f(n),x(o.onDelete(u))})("valueChange",function(u){return f(n),x(o.onChange(u))}),r(3,"nx-label",3),a(4,"Required file to upload"),l(),r(5,"span",4),a(6,"Maximum file size 2MB, Accept only PNG files, Maximum 2 files"),l(),r(7,"button",5),g(8,"nx-icon",6),a(9," Add File "),l(),r(10,"nx-error")(11,"div",7),a(12,"Error"),l(),r(13,"ul"),E(14,Ni,2,0,"li")(15,Si,2,0,"li")(16,Bi,2,0),l()()()(),r(17,"button",8),b("click",function(){return f(n),x(o.testForm.controls.documents.setErrors({serverError:!1}))}),a(18,` Upload files
`),l(),g(19,"br"),r(20,"button",9),b("click",function(){return f(n),x(o.toggleValidation())}),a(21),l(),r(22,"pre"),a(23),J(24,"json"),g(25,"br"),a(26),J(27,"json"),l()}if(t&2){let n=F(2);m("formGroup",o.testForm),s(),_e("maxFileSize",2*1024*1024),m("uploader",o.uploader)("noBlockingValidators",o.disableValidator),s(13),h(o.testForm.controls.documents.hasError("required")?14:-1),s(),h(o.testForm.controls.documents.hasError("serverError")?15:-1),s(),h(!(n==null||n.errors==null)&&n.errors.length?16:-1),s(),m("disabled",!o.testForm.valid)("nxFileUploadTriggerFor",n),s(4),z(" Toggle Disable validator (",o.disableValidator,`)
`),s(2),z("          validators: ",ie(24,12,o.testForm.controls.documents.errors),`
          `),s(3),z(`
          errors property: `,ie(27,14,n==null?null:n.errors),`
        `)}},dependencies:[L,G,O,j,te,Q,ee,S,U,B,D,N,v,q,P,ae],encapsulation:2,changeDetection:0})}}return i})();var Ii={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},nt=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.uploadConfig={requestUrl:"file-upload",options:{params:new T,reportProgress:!0}},this.uploader=new I(this.uploadConfig,this.http),this._destroyed=new y}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Ii):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(M))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-drop-zone-example"]],decls:14,vars:3,consts:[["documentUpload",""],["multiple","",3,"uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],[1,"nx-margin-bottom-m"],["nxCopytext","",1,"nx-margin-right-2xs","nx-hidden-xs","nx-hidden-s"],["nxButton","primary small-medium","type","button","nxFileUploadButton",""],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"nxFileUploadTriggerFor","disabled"]],template:function(t,o){if(t&1&&(r(0,"nx-file-uploader",1,0)(2,"nx-label",2),a(3,"Select a file to upload"),l(),r(4,"span",3),a(5,"Multiple files can be selected"),l(),r(6,"nx-file-uploader-drop-zone",4)(7,"span",5),a(8,"Drag your files here to"),l(),r(9,"button",6),g(10,"nx-icon",7),a(11," Add File "),l()()(),r(12,"button",8),a(13,` Upload files
`),l()),t&2){let n=F(1);m("uploader",o.uploader),s(12),m("nxFileUploadTriggerFor",n)("disabled",!(n.value!=null&&n.value.length))}},dependencies:[S,U,B,ce,At,D,N,v,P],encapsulation:2})}}return i})();var ki=["documentUpload"];function Pi(i,p){i&1&&(r(0,"li"),a(1,"Required!"),l())}function Oi(i,p){i&1&&(r(0,"li"),a(1,"An error occured while uploading."),l())}function Li(i,p){if(i&1&&(r(0,"div"),a(1),l()),i&2){let e=w().$implicit;s(),z(' "',e.filename,'" could not be uploaded. The supported extensions us PNG. ')}}function qi(i,p){if(i&1&&(r(0,"div"),a(1),l()),i&2){let e=w().$implicit;s(),ve(' "',e.filename,'" could not be uploaded. max file size is ',e.max,". ")}}function zi(i,p){if(i&1&&(r(0,"div"),a(1),l()),i&2){let e=w().$implicit;s(),z(" You cannot upload more than ",e.max," documents. ")}}function Ri(i,p){if(i&1&&(r(0,"li"),E(1,Li,2,1,"div")(2,qi,2,2,"div")(3,zi,2,1,"div"),l()),i&2){let e=p.$implicit;s(),h(e.type==="fileType"?1:-1),s(),h(e.type==="fileSize"?2:-1),s(),h(e.type==="fileNumber"?3:-1)}}function Ai(i,p){if(i&1&&he(0,Ri,4,3,"li",null,xe),i&2){w();let e=F(2);ge(e==null?null:e.errors)}}var rt=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.uploadConfig={requestUrl:"file-upload",options:{params:new T,reportProgress:!0}},this.uploader=new I(this.uploadConfig,this.http),this.testForm=new K({documents:new X([],Y.required)}),this._destroyed=new y}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",we):e.error&&this.testForm.controls.documents.setErrors({serverError:!0})})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onChange(e){console.log(e)}onDelete(e){console.log(e)}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(M))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-error-list-example"]],viewQuery:function(t,o){if(t&1&&$(ki,5),t&2){let n;R(n=A())&&(o.documentUpload=n.first)}},decls:19,vars:9,consts:[["documentUpload",""],[3,"formGroup"],["multiple","","formControlName","documents","accept","png","disableCommonValidator","","maxFileNumber","2",3,"fileDeleted","valueChange","maxFileSize","uploader","noBlockingValidators"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],[1,"nx-font-weight-bold"],["nxButton","primary small","type","button",3,"click","disabled","nxFileUploadTriggerFor"]],template:function(t,o){if(t&1){let n=k();r(0,"form",1)(1,"nx-file-uploader",2,0),b("fileDeleted",function(u){return f(n),x(o.onDelete(u))})("valueChange",function(u){return f(n),x(o.onChange(u))}),r(3,"nx-label",3),a(4,"Required file to upload"),l(),r(5,"span",4),a(6,"Maximum file size 2MB, Accept only PNG files, Maximum 2 files"),l(),r(7,"button",5),g(8,"nx-icon",6),a(9," Add File "),l(),r(10,"nx-error")(11,"div",7),a(12,"Error"),l(),r(13,"ul"),E(14,Pi,2,0,"li")(15,Oi,2,0,"li")(16,Ai,2,0),l()()()(),r(17,"button",8),b("click",function(){return f(n),x(o.testForm.controls.documents.setErrors({serverError:!1}))}),a(18,` Upload files
`),l()}if(t&2){let n=F(2);m("formGroup",o.testForm),s(),_e("maxFileSize",2*1024*1024),m("uploader",o.uploader)("noBlockingValidators",!0),s(13),h(o.testForm.controls.documents.hasError("required")?14:-1),s(),h(o.testForm.controls.documents.hasError("serverError")?15:-1),s(),h(!(n==null||n.errors==null)&&n.errors.length?16:-1),s(),m("disabled",!o.testForm.valid)("nxFileUploadTriggerFor",n)}},dependencies:[L,G,O,j,te,Q,ee,S,U,B,D,N,v,q,P],encapsulation:2,changeDetection:0})}}return i})();var Hi={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},lt=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.uploadConfig={requestUrl:"file-upload",options:{params:new T,reportProgress:!0}},this.uploader=new I(this.uploadConfig,this.http),this._destroyed=new y}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Hi):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(M))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-expert-example"]],decls:11,vars:3,consts:[["documentUpload",""],["multiple","",3,"uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary small-medium","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"nxFileUploadTriggerFor","disabled"]],template:function(t,o){if(t&1&&(r(0,"nx-file-uploader",1,0)(2,"nx-label",2),a(3,"Select a file to upload"),l(),r(4,"span",3),a(5,"Multiple files can be selected"),l(),r(6,"button",4),g(7,"nx-icon",5),a(8," Add File "),l()(),r(9,"button",6),a(10,` Upload
`),l()),t&2){let n=F(1);m("uploader",o.uploader),s(9),m("nxFileUploadTriggerFor",n)("disabled",!(n.value!=null&&n.value.length))}},dependencies:[S,U,B,D,N,v,P],encapsulation:2})}}return i})();var ji=(()=>{class i extends He{constructor(){super(...arguments),this.uploadingLabel="T\xE9l\xE9chargement",this.deleteLabel="Supprimer",this.uploadedStateLabel="T\xE9l\xE9charg\xE9",this.uploadedListLabel="Liste des fichiers t\xE9l\xE9charg\xE9s"}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=vt(i)))(o||i)}})()}static{this.\u0275prov=Se({token:i,factory:i.\u0275fac})}}return i})(),Gi={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},at=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.uploadConfig={requestUrl:"file-upload",options:{params:new T,reportProgress:!0}},this.uploader=new I(this.uploadConfig,this.http),this._destroyed=new y}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Gi):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(M))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-intl-example"]],features:[Ve([{provide:He,useClass:ji}])],decls:11,vars:3,consts:[["documentUpload",""],["multiple","",3,"uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"disabled","nxFileUploadTriggerFor"]],template:function(t,o){if(t&1&&(r(0,"nx-file-uploader",1,0)(2,"nx-label",2),a(3,"Select a file to upload"),l(),r(4,"span",3),a(5,"Multiple files can be selected"),l(),r(6,"button",4),g(7,"nx-icon",5),a(8," Add File "),l()(),r(9,"button",6),a(10,` Upload files
`),l()),t&2){let n=F(1);m("uploader",o.uploader),s(9),m("disabled",!(n.value!=null&&n.value.length))("nxFileUploadTriggerFor",n)}},dependencies:[S,U,B,D,N,v,P],encapsulation:2})}}return i})();function Qi(i,p){i&1&&(r(0,"li"),a(1,"Required!"),l())}function Wi(i,p){if(i&1&&(r(0,"li"),a(1),J(2,"json"),J(3,"json"),l()),i&2){let e=w(2);s(),ve(" There were ",ie(2,2,e.testForm.controls.documents.getError("NxFileUploadMaxFileNumber").actual)," files added, but the maximum is ",ie(3,4,e.testForm.controls.documents.getError("NxFileUploadMaxFileNumber").max)," ")}}function Zi(i,p){if(i&1&&(r(0,"nx-error")(1,"div",8),a(2,"Error"),l(),r(3,"ul"),E(4,Qi,2,0,"li")(5,Wi,4,6,"li"),l()()),i&2){let e=w();s(4),h(e.testForm.controls.documents.hasError("required")?4:-1),s(),h(e.testForm.controls.documents.hasError("NxFileUploadMaxFileNumber")?5:-1)}}var $i={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},st=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.uploadConfig={requestUrl:"file-upload",options:{params:new T,reportProgress:!0}},this.uploader=new I(this.uploadConfig,this.http),this.testForm=new K({documents:new X([],Y.required)}),this._destroyed=new y}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",$i):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onChange(e){console.log(e)}onDelete(e){console.log(e)}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(M))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-max-file-number-example"]],decls:13,vars:5,consts:[["documentUpload",""],[3,"formGroup"],["multiple","","formControlName","documents","maxFileNumber","3",3,"fileDeleted","valueChange","uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"click","disabled","nxFileUploadTriggerFor"],[1,"nx-font-weight-bold"]],template:function(t,o){if(t&1){let n=k();r(0,"form",1)(1,"nx-file-uploader",2,0),b("fileDeleted",function(u){return f(n),x(o.onDelete(u))})("valueChange",function(u){return f(n),x(o.onChange(u))}),r(3,"nx-label",3),a(4,"Required file to upload"),l(),r(5,"span",4),a(6,"Maximum number of 3 files"),l(),r(7,"button",5),g(8,"nx-icon",6),a(9," Add File "),l(),E(10,Zi,6,2,"nx-error"),l()(),r(11,"button",7),b("click",function(){return f(n),x(o.testForm.controls.documents.setErrors({serverError:!1}))}),a(12,` Upload files
`),l()}if(t&2){let n=F(2);m("formGroup",o.testForm),s(),m("uploader",o.uploader),s(9),h(o.testForm.controls.documents!=null&&o.testForm.controls.documents.errors?10:-1),s(),m("disabled",!o.testForm.valid)("nxFileUploadTriggerFor",n)}},dependencies:[L,G,O,j,te,Q,ee,S,U,B,D,N,v,q,P,ae],encapsulation:2})}}return i})();var Ji={duration:3e3,context:"success",announcementMessage:"All files were uploaded successfully!"},pt=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.uploadConfig={requestUrl:"file-upload",options:{params:new T,reportProgress:!0}},this.uploader=new I(this.uploadConfig,this.http),this.testForm=new K({documents:new X([],Y.required)}),this._destroyed=new y}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Ji):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(M))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-reactive-example"]],decls:14,vars:4,consts:[["documentUpload",""],[3,"formGroup"],["formControlName","documents","required","","accept","image/jpeg, image/x-png, image/png","multiple","",3,"uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"disabled","nxFileUploadTriggerFor"]],template:function(t,o){if(t&1&&(r(0,"form",1)(1,"nx-file-uploader",2,0)(3,"nx-label",3),a(4,"Required file to upload"),l(),r(5,"span",4),a(6,"Only JPG or PNG files are accepted."),l(),r(7,"button",5),g(8,"nx-icon",6),a(9," Add File "),l(),r(10,"nx-error"),a(11,"Required!"),l()(),r(12,"button",7),a(13," Upload files "),l()()),t&2){let n=F(2);m("formGroup",o.testForm),s(),m("uploader",o.uploader),s(11),m("disabled",!o.testForm.valid)("nxFileUploadTriggerFor",n)}},dependencies:[L,G,O,j,Mt,te,Q,ee,S,U,B,D,N,v,q,P],encapsulation:2})}}return i})();function Yi(i,p){i&1&&(r(0,"nx-error"),a(1," An error occured while uploading. "),l())}var Ki={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},dt=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.uploadConfig={requestUrl:"file-upload",options:{params:new T,reportProgress:!0},uploadSeparately:!0},this.uploader=new I(this.uploadConfig,this.http),this.showUploadError=!1,this._destroyed=new y}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Ki):this.showUploadError=!0})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(M))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-separate-requests-example"]],decls:20,vars:6,consts:[["documentUpload",""],["multiple","",3,"uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["variant","small",3,"ngModelChange","ngModel"],["value","file-upload"],["value","file-upload-error"],["nxButton","secondary small","type","button",3,"click","disabled","nxFileUploadTriggerFor"]],template:function(t,o){if(t&1){let n=k();r(0,"nx-file-uploader",1,0)(2,"nx-label",2),a(3,"Select a file to upload"),l(),r(4,"span",3),a(5,"Multiple files can be selected"),l(),r(6,"button",4),g(7,"nx-icon",5),a(8," Add File "),l()(),E(9,Yi,2,0,"nx-error"),r(10,"p"),a(11),l(),r(12,"nx-radio-toggle",6),re("ngModelChange",function(u){return f(n),ne(o.uploadConfig.requestUrl,u)||(o.uploadConfig.requestUrl=u),x(u)}),r(13,"nx-radio-toggle-button",7),a(14,"Valid url"),l(),r(15,"nx-radio-toggle-button",8),a(16,"Invalid url"),l()(),g(17,"br"),r(18,"button",9),b("click",function(){return f(n),x(o.showUploadError=!1)}),a(19,` Upload files
`),l()}if(t&2){let n=F(1);m("uploader",o.uploader),s(9),h(o.showUploadError?9:-1),s(2),z(" Set url for testing the upload: ",o.uploadConfig.requestUrl==="file-upload"?"Valid url":"Invalid url",`
`),s(),oe("ngModel",o.uploadConfig.requestUrl),s(6),m("disabled",!(n.value!=null&&n.value.length))("nxFileUploadTriggerFor",n)}},dependencies:[S,U,B,D,N,v,q,Pe,L,O,se,Oe,P],encapsulation:2})}}return i})();function Xi(i,p){i&1&&(r(0,"li"),a(1,"Required!"),l())}function eo(i,p){if(i&1&&(r(0,"li"),a(1),J(2,"json"),l()),i&2){let e=w(2);s(),z(" File ",ie(2,1,e.testForm.controls.documents.getError("NxFileUploadFileTypeNotAccepted").fileName)," can not be uploaded. This file type is not supported! ")}}function to(i,p){if(i&1&&(r(0,"nx-error")(1,"div",10),a(2,"Error"),l(),r(3,"ul"),E(4,Xi,2,0,"li")(5,eo,3,3,"li"),l()()),i&2){let e=w();s(4),h(e.testForm.controls.documents.hasError("required")?4:-1),s(),h(e.testForm.controls.documents.hasError("NxFileUploadFileTypeNotAccepted")?5:-1)}}var io={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},mt=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.uploadConfig={requestUrl:"file-upload",options:{params:new T,reportProgress:!0}},this.stricterAcceptValidation=!0,this.uploader=new I(this.uploadConfig,this.http),this.testForm=new K({documents:new X([],Y.required)}),this._destroyed=new y}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",io):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onChange(e){console.log(e)}onDelete(e){console.log(e)}toggleAcceptValidation(){this.stricterAcceptValidation=!this.stricterAcceptValidation}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(M))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-strict-type-validation-example"]],decls:20,vars:7,consts:[["documentUpload",""],["nxButton","primary small",3,"click"],[3,"formGroup"],["formControlName","documents","multiple","","accept","image/png",3,"valueChange","fileDeleted","strictAcceptValidation","uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],[1,"nx-margin-bottom-m"],["nxButton","primary","type","button","nxFileUploadButton",""],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"nxFileUploadTriggerFor","disabled"],[1,"nx-font-weight-bold"]],template:function(t,o){if(t&1){let n=k();r(0,"button",1),b("click",function(){return f(n),x(o.toggleAcceptValidation())}),a(1,` Toggle strict validation
`),l(),r(2,"p"),a(3," Strict validation is: "),r(4,"strong"),a(5),l()(),r(6,"form",2)(7,"nx-file-uploader",3,0),b("valueChange",function(u){return f(n),x(o.onChange(u))})("fileDeleted",function(u){return f(n),x(o.onDelete(u))}),r(9,"nx-label",4),a(10,"Required file to upload"),l(),r(11,"span",5),a(12,"Only *.png files are allowed"),l(),r(13,"nx-file-uploader-drop-zone",6)(14,"button",7),g(15,"nx-icon",8),a(16," Add File "),l()(),E(17,to,6,2,"nx-error"),l(),r(18,"button",9),a(19," Upload files "),l()()}if(t&2){let n=F(8);s(5),Fe(o.stricterAcceptValidation?"on":"off"),s(),m("formGroup",o.testForm),s(),m("strictAcceptValidation",o.stricterAcceptValidation)("uploader",o.uploader),s(10),h(o.testForm.controls.documents!=null&&o.testForm.controls.documents.errors?17:-1),s(),m("nxFileUploadTriggerFor",n)("disabled",!o.testForm.valid)}},dependencies:[D,L,G,O,j,te,Q,ee,S,U,B,ce,N,v,q,P,ae],encapsulation:2})}}return i})();var oo={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},ut=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.uploadConfig={requestUrl:"file-upload",options:{params:new T,reportProgress:!0}},this.uploader=new I(this.uploadConfig,this.http),this.myFiles=[],this._destroyed=new y}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",oo):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(M))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-template-driven-example"]],decls:11,vars:4,consts:[["documentUpload",""],[3,"ngModelChange","ngModel","uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"nxFileUploadTriggerFor","disabled"]],template:function(t,o){if(t&1){let n=k();r(0,"nx-file-uploader",1,0),re("ngModelChange",function(u){return f(n),ne(o.myFiles,u)||(o.myFiles=u),x(u)}),r(2,"nx-label",2),a(3,"Please upload a file"),l(),r(4,"span",3),a(5,"Only one file is allowed."),l(),r(6,"button",4),g(7,"nx-icon",5),a(8," Add File "),l()(),r(9,"button",6),a(10,` Upload files
`),l()}if(t&2){let n=F(1);oe("ngModel",o.myFiles),m("uploader",o.uploader),s(9),m("nxFileUploadTriggerFor",n)("disabled",n.value&&!n.value.length)}},dependencies:[S,L,O,se,U,B,D,N,v,P],encapsulation:2})}}return i})();function no(i,p){i&1&&(r(0,"li"),a(1,"Required!"),l())}function ro(i,p){if(i&1&&(r(0,"li"),a(1),J(2,"json"),l()),i&2){let e=w(2);s(),z(" File ",ie(2,1,e.testForm.controls.documents.getError("NxFileUploadFileTypeNotAccepted").fileName)," can not be uploaded. This file type is not supported! ")}}function lo(i,p){if(i&1&&(r(0,"nx-error")(1,"div",9),a(2,"Error"),l(),r(3,"ul"),E(4,no,2,0,"li")(5,ro,3,3,"li"),l()()),i&2){let e=w();s(4),h(e.testForm.controls.documents.hasError("required")?4:-1),s(),h(e.testForm.controls.documents.hasError("NxFileUploadFileTypeNotAccepted")?5:-1)}}var ao={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},ct=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.uploadConfig={requestUrl:"file-upload",options:{params:new T,reportProgress:!0}},this.uploader=new I(this.uploadConfig,this.http),this.testForm=new K({documents:new X([],Y.required)}),this._destroyed=new y}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",ao):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onChange(e){console.log(e)}onDelete(e){console.log(e)}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(M))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-type-validation-example"]],decls:14,vars:5,consts:[["documentUpload",""],[3,"formGroup"],["formControlName","documents","multiple","","accept","image/png",3,"valueChange","fileDeleted","uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],[1,"nx-margin-bottom-m"],["nxButton","primary","type","button","nxFileUploadButton",""],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"nxFileUploadTriggerFor","disabled"],[1,"nx-font-weight-bold"]],template:function(t,o){if(t&1){let n=k();r(0,"form",1)(1,"nx-file-uploader",2,0),b("valueChange",function(u){return f(n),x(o.onChange(u))})("fileDeleted",function(u){return f(n),x(o.onDelete(u))}),r(3,"nx-label",3),a(4,"Required file to upload"),l(),r(5,"span",4),a(6,"Only *.png files are allowed"),l(),r(7,"nx-file-uploader-drop-zone",5)(8,"button",6),g(9,"nx-icon",7),a(10," Add File "),l()(),E(11,lo,6,2,"nx-error"),l(),r(12,"button",8),a(13," Upload files "),l()()}if(t&2){let n=F(2);m("formGroup",o.testForm),s(),m("uploader",o.uploader),s(10),h(o.testForm.controls.documents!=null&&o.testForm.controls.documents.errors?11:-1),s(),m("nxFileUploadTriggerFor",n)("disabled",!o.testForm.valid)}},dependencies:[L,G,O,j,te,Q,ee,S,U,B,ce,D,N,v,q,P,ae],encapsulation:2})}}return i})();function so(i,p){i&1&&(r(0,"li"),a(1,"Required!"),l())}function po(i,p){i&1&&(r(0,"li"),a(1,"An error occured while uploading."),l())}function mo(i,p){if(i&1&&(r(0,"li"),a(1),J(2,"json"),l()),i&2){let e=w(2);s(),z(" File ",ie(2,1,e.testForm.controls.documents.getError("NxFileUploadMaxFileSize").fileName)," can not be uploaded. File size exceeds size limit! ")}}function uo(i,p){if(i&1&&(r(0,"nx-error")(1,"div",11),a(2,"Error"),l(),r(3,"ul"),E(4,so,2,0,"li")(5,po,2,0,"li")(6,mo,3,3,"li"),l()()),i&2){let e=w();s(4),h(e.testForm.controls.documents.hasError("required")?4:-1),s(),h(e.testForm.controls.documents.hasError("serverError")?5:-1),s(),h(e.testForm.controls.documents.hasError("NxFileUploadMaxFileSize")?6:-1)}}var co={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},ft=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.uploadConfig={requestUrl:"file-upload",options:{params:new T,reportProgress:!0}},this.uploader=new I(this.uploadConfig,this.http),this.testForm=new K({documents:new X([],Y.required)}),this._destroyed=new y}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",co):e.error&&this.testForm.controls.documents.setErrors({serverError:!0})})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onChange(e){console.log(e)}onDelete(e){console.log(e)}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(M))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-validation-example"]],decls:21,vars:8,consts:[["documentUpload",""],[3,"formGroup"],["multiple","","formControlName","documents",3,"fileDeleted","valueChange","maxFileSize","uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["variant","small",3,"ngModelChange","ngModel"],["value","file-upload"],["value","file-upload-error"],["nxButton","secondary small","type","button",3,"click","disabled","nxFileUploadTriggerFor"],[1,"nx-font-weight-bold"]],template:function(t,o){if(t&1){let n=k();r(0,"form",1)(1,"nx-file-uploader",2,0),b("fileDeleted",function(u){return f(n),x(o.onDelete(u))})("valueChange",function(u){return f(n),x(o.onChange(u))}),r(3,"nx-label",3),a(4,"Required file to upload"),l(),r(5,"span",4),a(6,"Maximum file size 2MB"),l(),r(7,"button",5),g(8,"nx-icon",6),a(9," Add File "),l(),E(10,uo,7,3,"nx-error"),l()(),r(11,"p"),a(12),l(),r(13,"nx-radio-toggle",7),re("ngModelChange",function(u){return f(n),ne(o.uploadConfig.requestUrl,u)||(o.uploadConfig.requestUrl=u),x(u)}),r(14,"nx-radio-toggle-button",8),a(15,"Valid url"),l(),r(16,"nx-radio-toggle-button",9),a(17,"Invalid url"),l()(),g(18,"br"),r(19,"button",10),b("click",function(){return f(n),x(o.testForm.controls.documents.setErrors({serverError:!1}))}),a(20,` Upload files
`),l()}if(t&2){let n=F(2);m("formGroup",o.testForm),s(),_e("maxFileSize",2*1024*1024),m("uploader",o.uploader),s(9),h(o.testForm.controls.documents.errors?10:-1),s(2),z(" Set url for testing the upload: ",o.uploadConfig.requestUrl==="file-upload"?"Valid url":"Invalid url",`
`),s(),oe("ngModel",o.uploadConfig.requestUrl),s(6),m("disabled",!o.testForm.valid)("nxFileUploadTriggerFor",n)}},dependencies:[L,G,O,j,se,te,Q,ee,S,U,B,D,N,v,q,Pe,Oe,P,ae],encapsulation:2})}}return i})();var fo=["documentUpload"];function xo(i,p){i&1&&(r(0,"nx-error"),a(1," An error occured while uploading. "),l())}var ho={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},xt=(()=>{class i{constructor(e,t){this.messageToastService=e,this.http=t,this.showUploadError=!1}upload(e){if(this.showUploadError=!1,!this.documentUpload.value)return;let t=new FormData;this.documentUpload.value.forEach(d=>{d.isUploaded||(d.setUploadingState(),t.append("uploads[]",d.file,d.name))});let n={params:new T,reportProgress:!0};this.http.post(e,t,n).subscribe(d=>{this.documentUpload.value.forEach(u=>{u.setUploadedState()}),this.messageToastService.open("All files were uploaded successfully!",ho)},d=>{this.documentUpload.value.forEach(u=>{u.isUploaded||u.setErrorState()}),this.showUploadError=!0})}static{this.\u0275fac=function(t){return new(t||i)(c(V),c(M))}}static{this.\u0275cmp=_({type:i,selectors:[["file-uploader-with-request-example"]],viewQuery:function(t,o){if(t&1&&$(fo,5),t&2){let n;R(n=A())&&(o.documentUpload=n.first)}},decls:14,vars:3,consts:[["documentUpload",""],["multiple",""],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",1,"nx-margin-right-2xs",3,"click","disabled"],["nxButton","secondary small","type","button",3,"click","disabled"]],template:function(t,o){if(t&1){let n=k();r(0,"nx-file-uploader",1,0)(2,"nx-label",2),a(3,"Select a file to upload"),l(),r(4,"span",3),a(5,"Multiple files can be selected"),l(),r(6,"button",4),g(7,"nx-icon",5),a(8," Add File "),l()(),E(9,xo,2,0,"nx-error"),r(10,"button",6),b("click",function(){return f(n),x(o.upload("file-upload"))}),a(11,` Upload files
`),l(),r(12,"button",7),b("click",function(){return f(n),x(o.upload("file-upload-error"))}),a(13,` Upload files (and get an error)
`),l()}if(t&2){let n=F(1);s(9),h(o.showUploadError?9:-1),s(),m("disabled",!(n.value!=null&&n.value.length)),s(2),m("disabled",!(n.value!=null&&n.value.length))}},dependencies:[S,U,B,D,N,v,q],encapsulation:2})}}return i})();var go=[rt,et,tt,nt,at,pt,dt,ut,ct,ft,xt,st,it,lt,mt,ot],la=(()=>{class i{static components(){return{"file-uploader-error-list":rt,"file-uploader-auto":et,"file-uploader-basic":tt,"file-uploader-drop-zone":nt,"file-uploader-intl":at,"file-uploader-reactive":pt,"file-uploader-separate-requests":dt,"file-uploader-template-driven":ut,"file-uploader-type-validation":ct,"file-uploader-validation":ft,"file-uploader-with-request":xt,"file-uploader-max-file-number":st,"file-uploader-custom-item":it,"file-uploader-expert":lt,"file-uploader-strict-type-validation":mt,"file-uploader-disable-common-validators":ot}}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=Me({type:i})}static{this.\u0275inj=Te({imports:[Jt,ue,Wt,be,jt,Ht,Lt,zt,It,go]})}}return i})();export{la as FileExamplesModule};
