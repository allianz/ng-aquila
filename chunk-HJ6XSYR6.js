import{B as j,C as S,D as A,x as R}from"./chunk-VG47SEOV.js";import{l as T}from"./chunk-7RIZBADK.js";import{c as O,p as F}from"./chunk-CZQUVKYV.js";import{b as _}from"./chunk-KOXZ6ZQA.js";import{Cc as l,Gc as h,Hb as u,Hc as c,Ib as w,Ic as D,J as v,Jb as a,Jc as I,Kc as p,Lc as m,Ra as d,Rc as g,S as N,a as x,b as y,ea as b,l as f,na as M,pa as k,ra as C,vb as P,zb as r}from"./chunk-JYEJ3VMB.js";var B=[[["nx-notification-item-metadata"]],[["nx-notification-item-content"]],"*",[["nx-notification-item-actions"]]],H=["nx-notification-item-metadata","nx-notification-item-content","*","nx-notification-item-actions"],E=["*"],L=(()=>{class t{set read(i){this._read=_(i)}get read(){return this._read}set clickable(i){this._clickable=_(i)}get clickable(){return this._clickable}constructor(i,e){this._elementRef=i,this._focusMonitor=e,this._read=!1,this._clickable=!0,this.focused=new f,this._hasFocus=!1}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(i){typeof i>"u"&&!this._hasFocus&&(this.focused.next(this),this._hasFocus=!0,this._focusMonitor.focusVia(this._elementRef,"keyboard")),this._hasFocus||(this._elementRef.nativeElement.focus(),this._hasFocus=!0)}_blur(){this._hasFocus=!1}static{this.\u0275fac=function(e){return new(e||t)(r(d),r(O))}}static{this.\u0275cmp=u({type:t,selectors:[["nx-notification-panel-item"],["","nxNotificationPanelItem",""]],hostAttrs:["tabindex","0"],hostVars:4,hostBindings:function(e,n){e&1&&l("focus",function(){return n.focus()})("blur",function(){return n._blur()}),e&2&&g("nx-notification-item--read",n.read)("nx-notification-item--clickable",n.clickable)},inputs:{read:"read",clickable:"clickable"},ngContentSelectors:H,decls:4,vars:0,template:function(e,n){e&1&&(h(B),c(0),c(1,1),c(2,2),c(3,3))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;background-color:var(--notification-panel-item-unread-background-color);padding:16px 24px;margin:0 -24px}.nx-notification-item--read[_nghost-%COMP%]{background-color:var(--notification-panel-item-read-background-color)}[_nghost-%COMP%]:focus{outline:none}.cdk-keyboard-focused[_nghost-%COMP%]{box-shadow:var(--focus-inset-box-shadow)}@media screen and (forced-colors: active){.cdk-keyboard-focused[_nghost-%COMP%]{box-shadow:inset 0 0 0 4px CanvasText,inset 0 0 0 6px background;border:4px solid CanvasText}}  nx-notification-item-metadata{font-size:.875rem;font-weight:400;line-height:1.25rem;letter-spacing:.0125rem;margin-bottom:4px;display:flex;align-items:center}  nx-notification-item-content{font-size:1rem;font-weight:400;line-height:1.5rem}  nx-notification-item-actions{font-size:1rem;font-weight:400;line-height:1.5rem;display:flex;justify-content:space-between;padding-top:8px}.nx-notification-item--clickable[_nghost-%COMP%]{cursor:pointer}.nx-notification-item--clickable[_nghost-%COMP%]:hover{background-color:var(--notification-panel-item-unread-hover-background-color)}.nx-notification-item--clickable[_nghost-%COMP%]:active{background-color:var(--notification-panel-item-unread-active-background-color)}.nx-notification-item--clickable.nx-notification-item--read[_nghost-%COMP%]:hover{background-color:var(--notification-panel-item-read-hover-background-color)}.nx-notification-item--clickable.nx-notification-item--read[_nghost-%COMP%]:active{background-color:var(-notification-panel-item-read-active-background-color)}"]})}}return t})(),lt=(()=>{class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275dir=a({type:t,selectors:[["nx-notification-item-metadata"]]})}}return t})(),ft=(()=>{class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275dir=a({type:t,selectors:[["nx-notification-item-content"]]})}}return t})(),dt=(()=>{class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275dir=a({type:t,selectors:[["nx-notification-item-actions"]]})}}return t})(),ut=(()=>{class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275dir=a({type:t,selectors:[["nx-notification-header"]]})}}return t})(),Q=new k("nx-notification-panel-scroll-strategy",{providedIn:"root",factory:()=>{let t=C(R);return()=>t.scrollStrategies.reposition()}});var V={direction:"bottom-start",fallbackOrientation:"vertical",autoFocus:!0,offset:8},ht=(()=>{class t{set notificationPanel(i){this._panelTemplate=i}get notificationPanel(){return this._panelTemplate}constructor(i,e,n,o){this._nxOverlay=i,this._element=e,this._triggerButton=n,this._defaultScrollStrategyFactory=o,this._scrollStrategyFactory=this._defaultScrollStrategyFactory}open(){if(this._overlayRef)return;let i=y(x({},V),{scrollStrategy:this._scrollStrategyFactory(),triggerButton:this._triggerButton??void 0,width:400,viewportMargin:16});this._overlayRef=this._nxOverlay.open(this._panelTemplate,this._element,i),this._overlayRef.afterClosed().pipe(N(1)).subscribe(()=>this.close())}close(){this._overlayRef&&(this._overlayRef.close(),this._overlayRef=null)}static{this.\u0275fac=function(e){return new(e||t)(r(j),r(d),r(A,10),r(Q))}}static{this.\u0275dir=a({type:t,selectors:[["","nxNotificationPanelTriggerFor",""]],hostBindings:function(e,n){e&1&&l("click",function(){return n.open()})},inputs:{notificationPanel:[0,"nxNotificationPanelTriggerFor","notificationPanel"]}})}}return t})(),pt=(()=>{class t{constructor(){this._destroyed=new f}ngAfterContentInit(){this._initKeyManager()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_initKeyManager(){this._keyManager=new F(this.items).withVerticalOrientation().withHorizontalOrientation("ltr"),this.items.length>0&&v(...this.items.map(i=>i.focused)).pipe(b(this._destroyed)).subscribe(i=>{this._keyManager.updateActiveItem(i)})}_handleKeydown(i){this._keyManager.onKeydown(i)}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=u({type:t,selectors:[["nx-notification-panel"]],contentQueries:function(e,n,o){if(e&1&&D(o,L,5),e&2){let s;p(s=m())&&(n.items=s)}},viewQuery:function(e,n){if(e&1&&I(P,5),e&2){let o;p(o=m())&&(n.templateRef=o.first)}},hostVars:2,hostBindings:function(e,n){e&1&&l("keydown",function(s){return n._handleKeydown(s)}),e&2&&g("nx-notification-panel",!0)},exportAs:["nxNotificationPanel"],ngContentSelectors:E,decls:1,vars:0,template:function(e,n){e&1&&(h(),c(0))},styles:["[_nghost-%COMP%]{padding:16px 24px;display:flex;flex-direction:column;background-color:var(--notification-panel-background-color);max-height:740px;height:100%;width:100%;overflow-y:auto;box-shadow:var(--shadow-large);border-radius:8px}[_nghost-%COMP%]:focus{outline:none}  nx-notification-header{display:flex;justify-content:space-between;padding:16px 0 8px}  nx-notification-header:first-child{padding-top:0}"]})}}return t})(),mt=(()=>{class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275mod=w({type:t})}static{this.\u0275inj=M({imports:[S,T]})}}return t})();export{L as a,lt as b,ft as c,dt as d,ut as e,Q as f,ht as g,pt as h,mt as i};
