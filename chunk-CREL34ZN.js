import{Ea as u,Ia as b,ea as f,i as a,ia as d,nd as p,pd as g,ra as l}from"./chunk-JYEJ3VMB.js";function U(n){n||(n=l(u));let e=new a(t=>{if(n.destroyed){t.next();return}return n.onDestroy(t.next.bind(t))});return t=>t.pipe(f(e))}function T(n){let e=p(n);return new a(t=>{let s=e?.onDestroy(()=>t.complete()),i=n.subscribe(r=>t.next(r));return()=>{i.unsubscribe(),s?.()}})}function F(n,e){let s=!e?.manualCleanup?e?.injector?.get(u)??l(u):null,i=m(e?.equal),r;e?.requireSync?r=b({kind:0},{equal:i}):r=b({kind:1,value:e?.initialValue},{equal:i});let c,v=n.subscribe({next:o=>r.set({kind:1,value:o}),error:o=>{r.set({kind:2,error:o}),c?.()},complete:()=>{c?.()}});if(e?.requireSync&&r().kind===0)throw new d(601,!1);return c=s?.onDestroy(v.unsubscribe.bind(v)),g(()=>{let o=r();switch(o.kind){case 1:return o.value;case 2:throw o.error;case 0:throw new d(601,!1)}},{equal:e?.equal})}function m(n=Object.is){return(e,t)=>e.kind===1&&t.kind===1&&n(e.value,t.value)}export{U as a,T as b,F as c};
