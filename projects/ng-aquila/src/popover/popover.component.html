<ng-template>
  <div
    [ngClass]="classList"
    class="nx-popover"
    role="dialog"
    aria-hidden="false"
    (click)="_onClick($event)"
  >
    <div class="nx-popover__content" [attr.tabindex]="tabIndex" cdkFocusInitial>
      @if (!hidePopoverArrow) {
        <div class="nx-popover__arrow" [ngStyle]="arrowStyle"></div>
      }

      <div [id]="id">
        <ng-content></ng-content>
        <ng-container [ngTemplateOutlet]="_lazyContent?._template ?? null"></ng-container>
      </div>
      @if (showCloseButton) {
        <button
          nxPlainButton
          tabindex="0"
          [attr.aria-label]="_intl.closeIconLabel"
          class="nx-popover__close-icon"
          (click)="emitCloseButtonClick()"
          (keyup)="_onCloseKeyup($event)"
          (keydown)="_onCloseKeydown($event)"
        >
          <nx-icon aria-hidden="true" name="close"></nx-icon>
        </button>
      }
    </div>
  </div>
</ng-template>
