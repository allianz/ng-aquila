<p class="docs-markdown--p">Autocomplete is a companion to the input element. When input element receives a focus or a down arrow is pressed and autocomplete items are defined, the autcomplete panel is displayed. On selecting the autocomplete option, it's value is used to set the value of input.</p>
<h3 id="module" tabindex="-1" class="docs-markdown--h3">Module</h3>
<p class="docs-markdown--p">Autocomplete requires Angular CDK.</p>
<pre><code class="language-ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">OverlayModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/cdk/overlay&#x27;</span>;<span class="hljs-string">`
</span></code></pre>
<p class="docs-markdown--p">Autocomplete can be used with input only, but usually you'll wan't to use it within formfield or natural language form. For this you'll need these additional imports.</p>
<pre><code class="language-ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NxFormfieldModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@aposin/ng-aquila/formfield&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">NxNaturalLanguageFormModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@aposin/ng-aquila/natural-language-form&#x27;</span>;
</code></pre>
<h3 id="examples" tabindex="-1" class="docs-markdown--h3">Examples</h3>
<p class="docs-markdown--p">To use autocomplete, create a <code>nx-autocomplete</code> element with <code>nx-autocomplete-option</code> elements. Set the <code>[value]</code> of the <code>nx-autocomplete-option</code> to the one you wish to fill the input with. Export the Autocomplete component to the template variable. Use nxAutocompleteTrigger directive (<code>[nxAutocomplete]</code>) on the input element with it's value set to the template variable of the Autocomplete component to bind input to the autocomplete.</p>
<div nx-docs-example="autocomplete-basic" config="{}">exampleID: autocomplete-basic</div>
<h4 id="autocomplete-with-filtering" tabindex="-1" class="docs-markdown--h4">Autocomplete with filtering</h4>
<p class="docs-markdown--p">You can also filter the content of the list based on the value of the input field. The list will be dynamically updated given text input.</p>
<div nx-docs-example="autocomplete-filtering" config="{}">exampleID: autocomplete-filtering</div>
<h4 id="default-item-rendering" tabindex="-1" class="docs-markdown--h4">Default item rendering</h4>
<p class="docs-markdown--p">The autocomplete trigger can provide a default autocomplete options rendering. To use this feature, provide a search callback function via <code>[nxAutocompleteItems]</code> attribute. The callback signature has to be <code>(val: string) =&gt; Observable&lt;Array&lt;string&gt;&gt;</code>.</p>
<div nx-docs-example="autocomplete-default-rendering" config="{}">exampleID: autocomplete-default-rendering</div>
<h4 id="data-binding" tabindex="-1" class="docs-markdown--h4">Data binding</h4>
<p class="docs-markdown--p">All options that apply to the data binding can be used. For details look at the examples with different bindings and different options generation below and also <code>nxInput</code>, <code>nxFormField</code> and <code>nxNaturalLanguageForm</code>.</p>
<div nx-docs-example="autocomplete-data-binding" config="{}">exampleID: autocomplete-data-binding</div>
<h3 id="panelgrow-and-panelmaxwidth" tabindex="-1" class="docs-markdown--h3">PanelGrow and PanelMaxWidth</h3>
<p class="docs-markdown--p">With <code>panelGrow</code> set to <code>true</code> the overlay can grow larger than the trigger and grows with the longest label.</p>
<p class="docs-markdown--p">With <code>panelGrow</code> set to <code>false</code> the overlay won't grow larger than trigger.(this is default value)</p>
<p class="docs-markdown--p">With <code>panelMaxWidth</code> a max-width can be set, <code>panelMaxWidth</code> accepts a number for pixel values or a string for any css value.
( Note that: <code>panelMaxWidth</code> have more priority than <code>panelGrow</code>)</p>
<p class="docs-markdown--p">Note: minimum overlay width will be size of trigger.</p>
<div nx-docs-example="autocomplete-panel-grow" config="{}">exampleID: autocomplete-panel-grow</div>
<div class="docs-expert-container">
<h4 id="expert%3A-autocomplete-with-outline" tabindex="-1" class="docs-markdown--h4">Expert: Autocomplete with outline</h4>
<p class="docs-markdown--p">In a formfield with an outline the styling of the autocomplete will adjust accordingly.</p>
<p class="docs-markdown--p">Please note that this is an <strong>Expert styling option</strong>. This means that the outline appearance is only intended for internal applications and not for applications that are client facing.</p>
<div nx-docs-example="autocomplete-outline" config="{}">exampleID: autocomplete-outline</div>
</div>
<h3 id="global-settings" tabindex="-1" class="docs-markdown--h3">Global Settings</h3>
<p class="docs-markdown--p">If you want to use a custom scroll strategy, you can use the <code>NX_AUTOCOMPLETE_SCROLL_STRATEGY</code> injection token with a factory provider. The <code>Overlay</code> service from <code>@angular/cdk/overlay</code> offers 4 different scroll strategy options:</p>
<ul class="docs-markdown--ul">
<li class="docs-markdown--li"><strong>reposition:</strong> allow background scroll, the overlay moves with the background (default).</li>
<li class="docs-markdown--li"><strong>close:</strong> allow background scroll, closes the overlay on scroll.</li>
<li class="docs-markdown--li"><strong>block:</strong> disallow background scroll, the overlay does not move.</li>
<li class="docs-markdown--li"><strong>noop:</strong> allow background scroll, the overlay does not move.</li>
</ul>
<div nx-docs-example="autocomplete-scroll-strategy-provider" config="{}">exampleID: autocomplete-scroll-strategy-provider</div>
<p class="docs-markdown--p">Alternatively, the <code>NX_AUTOCOMPLETE_SCROLL_STRATEGY</code> injection token can be provided by importing <code>NxScrollStrategyModule.withConfig({ ... })</code> into your application or feature module, after your other aquila imports.</p>
<h3 id="accessibility" tabindex="-1" class="docs-markdown--h3">Accessibility</h3>
<p class="docs-markdown--p">The autocomplete can be accessed via keyboard. You can trigger the search by simply start typing in the input. After the overlay popped up, you can use ARROW_UP and ARROW_DOWN to focus on the desired element. Hitting SPACE or ENTER selects the value however ESC or TAB closes the autocomplete.</p>
