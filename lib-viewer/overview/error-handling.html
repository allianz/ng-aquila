<h3 id="error-component" tabindex="-1" class="docs-markdown--h3">Error component</h3>
<p class="docs-markdown--p">The <code>&lt;nx-error&gt;</code> is a base component to display error messages.</p>
<p class="docs-markdown--p">Import it with</p>
<p class="docs-api-module-import">
  <code style="white-space: normal">
    <span class="docs-api-module-import__import-span">import</span>
    { NxErrorModule }
    <span class="docs-api-module-import__from-span">from</span>
    <span class="docs-api-module-import__path-span">'@allianz/ng-aquila/base'</span>;
  </code>
</p>
<p class="docs-markdown--p">The module is auto-imported when you use the <a href="./documentation/formfield">formfield</a>, <a href="./documentation/checkbox">checkbox</a> or <a href="./documentation/radio-button">radio-button</a> module.</p>
<div nx-docs-example="error" config="{}">exampleID: error</div>
<h3 id="custom-error-state" tabindex="-1" class="docs-markdown--h3">Custom error state</h3>
<p class="docs-markdown--p">Our form control components use <code>ErrorStateMatcher</code> for determining when error messages should be shown. Using the <code>ErrorStateMatcher</code>, <code>nx-errors</code> are automatically managed by the component, you don't need to handle showing and hiding them manually in the markup anymore (except for when you have multiple errors on one input).</p>
<p class="docs-markdown--p">The <code>ErrorStateMatcher</code> is used in the following components:</p>
<ul class="docs-markdown--ul">
<li class="docs-markdown--li">Checkbox Group</li>
<li class="docs-markdown--li">Code Input</li>
<li class="docs-markdown--li">Dropdown</li>
<li class="docs-markdown--li">File Uploader</li>
<li class="docs-markdown--li">Input Directive</li>
<li class="docs-markdown--li">Progress Stepper</li>
<li class="docs-markdown--li">Radio Button Group</li>
<li class="docs-markdown--li">Selectable Card</li>
<li class="docs-markdown--li">Switcher</li>
<li class="docs-markdown--li">Toggle Button</li>
<li class="docs-markdown--li">Timefield</li>
</ul>
<p class="docs-markdown--p">Per default a state is erroneous, if a control is <strong>invalid and touched</strong> or <strong>invalid and its parent form submitted</strong>. To change the default error state matching you can implement the <code>ErrorStateMatcher</code> interface in your component and use it instead of the default one:</p>
<pre><code class="language-ts"><span class="hljs-meta">@Component</span>({
  ...
  <span class="hljs-attr">providers</span>: [
    {
      <span class="hljs-attr">provide</span>: <span class="hljs-title class_">ErrorStateMatcher</span>,
      <span class="hljs-attr">useExisting</span>: <span class="hljs-title class_">CustomErrorStateMatcher</span>
    }
  ]
  ...
})
</code></pre>
<p class="docs-markdown--p">An <code>ErrorStateMatcher</code> must implement the method <code>isErrorState</code> which takes the FormControl of the input field as well as the parent form and returns a boolean indicating whether errors should be shown.</p>
<p class="docs-markdown--p">You can import the <code>ErrorStateMatcher</code> with:</p>
<p class="docs-api-module-import">
  <code style="white-space: normal">
    <span class="docs-api-module-import__import-span">import</span>
    { ErrorStateMatcher }
    <span class="docs-api-module-import__from-span">from</span>
    <span class="docs-api-module-import__path-span">'@allianz/ng-aquila/utils'</span>;
  </code>
</p>
<p class="docs-markdown--p">The example below shows an <strong>error while the user is typing (dirty)</strong> and not until he blurrs the input field as in the default case.</p>
<div nx-docs-example="error-custom-matcher-formfield" config="{}">exampleID: error-custom-matcher-formfield</div>
<h3 id="global-custom-errorstatematcher" tabindex="-1" class="docs-markdown--h3">Global custom ErrorStateMatcher</h3>
<p class="docs-markdown--p">You can also set a custom error matching behaviour globally by defining your custom error state matcher:</p>
<pre><code class="language-ts"><span class="hljs-meta">@Injectable</span>()
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ShowOnDirtyErrorStateMatcher</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ErrorStateMatcher</span> {
    <span class="hljs-comment">/** Custom error state matcher that checks for validity of the formfield. */</span>
    <span class="hljs-title function_">isErrorState</span>(<span class="hljs-attr">control</span>: <span class="hljs-title class_">FormControl</span> | <span class="hljs-literal">null</span>, <span class="hljs-attr">form</span>: <span class="hljs-title class_">FormGroupDirective</span> | <span class="hljs-title class_">NgForm</span> | <span class="hljs-literal">null</span>): <span class="hljs-built_in">boolean</span> {
        <span class="hljs-keyword">return</span> !!(control &amp;&amp; control.<span class="hljs-property">invalid</span> &amp;&amp; (control.<span class="hljs-property">dirty</span> || (form &amp;&amp; form.<span class="hljs-property">submitted</span>)));
    }
}
</code></pre>
<p class="docs-markdown--p">and then providing it globaly, for example in your <code>app.module.ts</code>:</p>
<pre><code class="language-ts"><span class="hljs-meta">@NgModule</span>({
    <span class="hljs-attr">providers</span>: [{ <span class="hljs-attr">provide</span>: <span class="hljs-title class_">ErrorStateMatcher</span>, <span class="hljs-attr">useClass</span>: <span class="hljs-title class_">CustomErrorStateMatcher</span> }],
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ApplicationModule</span> {}
</code></pre>
<h3 id="reset-error-state" tabindex="-1" class="docs-markdown--h3">Reset error state</h3>
<p class="docs-markdown--p">To reset the validation state of an Angular form, use <code>resetForm</code> from the formGroup directive instead of the formGroup instance. This method checks for the form submitted state which available via the directive.</p>
<pre><code>&lt;form [formGroup]=&quot;myForm&quot; (ngSubmit)=&quot;submitForm(ngForm)&quot; #ngForm=&quot;ngForm&quot;&gt;
</code></pre>
<pre><code>submitForm(ngForm: FormGroupDirective): void {

  // won't work!
  // this.myForm.reset();

  // resets the form to the initial values and also resets the `submitted` status.
  ngForm.resetForm();
}
</code></pre>
<div nx-docs-example="error-reset" config="{}">exampleID: error-reset</div>
