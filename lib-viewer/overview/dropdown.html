<div class="docs-deprecation-warning">
  <strong>Important: </strong>
  Please note that the <strong>isMultiselect</strong> option of the dropdown is deprecated. Use the new <strong>nx-multi-select</strong> component instead.
</div>
<p class="docs-markdown--p">It is recommended to use the dropdown component in combination with NxFormField. Therefore, make sure to import this module as well:</p>
<pre><code class="language-ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NxFormfieldModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@aposin/ng-aquila/formfield&#x27;</span>;
</code></pre>
<p class="docs-markdown--p">Dropdown requires Angular CDK (incl. CSS). Learn <a href="./documentation/overlay/overview#angular-cdk">how to enable Angular CDK styles</a>.</p>
<h3 id="standard-dropdown" tabindex="-1" class="docs-markdown--h3">Standard Dropdown</h3>
<p class="docs-markdown--p">The dropdown wrapped by a formfield in different states is displayed in the following example.</p>
<div nx-docs-example="dropdown-standard" config="{}">exampleID: dropdown-standard</div>
<h3 id="placeholder" tabindex="-1" class="docs-markdown--h3">Placeholder</h3>
<p class="docs-markdown--p">It is possible to show a placeholder instead of the floating label. The placeholder will only be shown if no option is selected.</p>
<div nx-docs-example="dropdown-placeholder" config="{}">exampleID: dropdown-placeholder</div>
<h3 id="panelgrow-and-panelmaxwidth" tabindex="-1" class="docs-markdown--h3">PanelGrow and PanelMaxWidth</h3>
<p class="docs-markdown--p">With <code>panelGrow</code> set to <code>true</code> the overlay can grow larger than the trigger and grows with the longest label.
With <code>panelGrow</code> set to <code>false</code> the overlay is the size of the trigger. With <code>panelMaxWidth</code> a max-width can be set, <code>panelMaxWidth</code> accepts a number for pixel values or a string for any css value.</p>
<div nx-docs-example="dropdown-panelgrow" config="{}">exampleID: dropdown-panelgrow</div>
<h3 id="rendering-of-dropdown-items" tabindex="-1" class="docs-markdown--h3">Rendering of dropdown-items</h3>
<p class="docs-markdown--p">The items inside the dropdown can be rendered either by <code>[valueFormatter]</code> or by ng-content. If no ng-content is provided, the <code>[value]</code> in combination with <code>[valueFormatter]</code> will be used to render the item content (left). This example also shows the usage of <code>[valueFormatter]</code>. It is possible to transform any <code>[value]</code> into the rendered state (here: &quot;uppercase&quot;).</p>
<p class="docs-markdown--p">If there is ng-content projected by nx-dropdown-item, this content will be used by the dropdown to display the items (middle). The library implements a fallback if you do not provide <code>[valueFormatter]</code> and ng-content. In this case, <code>[value]</code> will be used by .toString() as value for the item (right).</p>
<p class="docs-markdown--p">For more advanced content see the first dropdown where <code>[verticalAlignCheckmark]</code> is used to center the checkmark vertically.</p>
<div nx-docs-example="dropdown-rendering-items" config="{}">exampleID: dropdown-rendering-items</div>
<h3 id="custom-closed-label-dropdown" tabindex="-1" class="docs-markdown--h3">Custom closed label dropdown</h3>
<p class="docs-markdown--p">There might be use cases where you want to render a different label when the dropdown is closed. For such a use case we provide the option to add the <code>nxClosedLabel</code> directive on a <code>ng-template</code>.</p>
<p class="docs-markdown--p">You can access the currently selected value via a ngModel binding like you see in the example below, where we use the value to render only the country code without the country id.</p>
<div nx-docs-example="dropdown-custom-label" config="{}">exampleID: dropdown-custom-label</div>
<h3 id="negative-styling" tabindex="-1" class="docs-markdown--h3">Negative Styling</h3>
<p class="docs-markdown--p">See below for an example of a dropdown with negative styling wrapped by a formfield in different states.</p>
<div nx-docs-example="dropdown-negative" config="{}">exampleID: dropdown-negative</div>
<h3 id="group-dropdown" tabindex="-1" class="docs-markdown--h3">Group Dropdown</h3>
<p class="docs-markdown--p">It might be necessary for your use case to group the items inside of a dropdown. This is how it's done:</p>
<p class="docs-markdown--p">⚠️ Every item should have a unique value, regardless of which group it belongs to.</p>
<div nx-docs-example="dropdown-group" config="{}">exampleID: dropdown-group</div>
<h3 id="filter-dropdown" tabindex="-1" class="docs-markdown--h3">Filter dropdown</h3>
<p class="docs-markdown--p">The dropdown can show an additional filter input, as demonstrated in this example:</p>
<div nx-docs-example="dropdown-filter" config="{}">exampleID: dropdown-filter</div>
<h3 id="filter-dropdown-with-custom-filter-function" tabindex="-1" class="docs-markdown--h3">Filter dropdown with custom filter function</h3>
<p class="docs-markdown--p">The default filter function is comparing the lower case dropdown label with the lower case string from the search filter via <code>String.indexOf()</code>. You can alter the default filter function by setting the <code>[filterFn]</code> input. In this case we want to be really strict and only have a match if a dropdown item contains the case sensitive user input from the beginning of the string!</p>
<div nx-docs-example="dropdown-filter-custom" config="{}">exampleID: dropdown-filter-custom</div>
<h3 id="multi-select-dropdown" tabindex="-1" class="docs-markdown--h3">Multi select dropdown</h3>
<p class="docs-markdown--p">The multi select is a separate component from the dropdown. It supports selection on multiple items as well as filtering. Instead of a single value the model is an array of options. Options are passed into the component via the <code>options</code> input. In the simplest case you can pass in a list of strings. That way the selected values and the displayed labels are the same. If you need labels that are different to the values you can also pass in arbitrary complex objects as options. In that case the value and label can be selected by specifying <code>selectValue</code> and <code>selectLabel</code>. The optional filter can be enabled via the <code>filter</code> input.</p>
<div nx-docs-example="dropdown-multi-select" config="{}">exampleID: dropdown-multi-select</div>
<h3 id="disabling-items" tabindex="-1" class="docs-markdown--h3">Disabling items</h3>
<p class="docs-markdown--p">You can disable the whole dropdown as well as single dropdown items by setting their <code>disabled</code> property as shown in the example below:</p>
<div nx-docs-example="dropdown-disabled-items" config="{}">exampleID: dropdown-disabled-items</div>
<h3 id="simple-binding" tabindex="-1" class="docs-markdown--h3">Simple binding</h3>
<div nx-docs-example="dropdown-simple-binding" config="{}">exampleID: dropdown-simple-binding</div>
<h3 id="template-driven-form-with-ngmodel" tabindex="-1" class="docs-markdown--h3">Template-driven form with ngModel</h3>
<div nx-docs-example="dropdown-template-driven" config="{}">exampleID: dropdown-template-driven</div>
<h3 id="reactive-form" tabindex="-1" class="docs-markdown--h3">Reactive form</h3>
<div nx-docs-example="dropdown-reactive" config="{}">exampleID: dropdown-reactive</div>
<h3 id="data-driven-(lazy-rendering)" tabindex="-1" class="docs-markdown--h3">Data-driven (lazy rendering)</h3>
<p class="docs-markdown--p">The options can also be passed to the dropdown using the <code>options</code> input. Dropdowns with many options benefit from this approach, as they will only be rendered when the dropdown is open. Grouping of options is currently not supported.</p>
<div nx-docs-example="dropdown-lazy" config="{}">exampleID: dropdown-lazy</div>
<div class="docs-expert-container">
<h3 id="expert%3A-dropdown-with-outline" tabindex="-1" class="docs-markdown--h3">Expert: Dropdown with outline</h3>
<p class="docs-markdown--p">In a formfield with an outline the styling of the dropdown will adjust accordingly.</p>
<p class="docs-markdown--p">Please note that <strong>this is an Expert styling option</strong>. This means that the outline appearance is only intended for internal applications and not for applications that are client facing.</p>
<div nx-docs-example="dropdown-outline" config="{}">exampleID: dropdown-outline</div>
<h4 id="multi-select-dropdown-1" tabindex="-1" class="docs-markdown--h4">Multi Select Dropdown</h4>
<p class="docs-markdown--p">The multi select dropdown is a new component which is a replacement for the <code>&lt;dropdown isMultiselect ...&gt;</code>. It offers a filter to quicky find items in long lists, improved accessibility and better performance.</p>
<div nx-docs-example="multi-select" config="{}">exampleID: multi-select</div>
</div>
<h3 id="global-settings" tabindex="-1" class="docs-markdown--h3">Global Settings</h3>
<p class="docs-markdown--p">If you want to use a custom scroll strategy, you can use the <code>NX_DROPDOWN_SCROLL_STRATEGY</code> injection token with a factory provider. The <code>Overlay</code> service from <code>@angular/cdk/overlay</code> offers 4 different scroll strategy options:</p>
<ul class="docs-markdown--ul">
<li class="docs-markdown--li"><strong>reposition:</strong> allow background scroll, the overlay moves with the background (default).</li>
<li class="docs-markdown--li"><strong>close:</strong> allow background scroll, closes the overlay on scroll.</li>
<li class="docs-markdown--li"><strong>block:</strong> disallow background scroll, the overlay does not move.</li>
<li class="docs-markdown--li"><strong>noop:</strong> allow background scroll, the overlay does not move.</li>
</ul>
<div nx-docs-example="dropdown-scroll-strategy-provider" config="{}">exampleID: dropdown-scroll-strategy-provider</div>
<p class="docs-markdown--p">Alternatively, the <code>NX_DROPDOWN_SCROLL_STRATEGY</code> injection token can be provided by importing <code>NxScrollStrategyModule.withConfig({ ... })</code> into your application or feature module, after your other aquila imports.</p>
<h4 id="internationalization" tabindex="-1" class="docs-markdown--h4">Internationalization</h4>
<p class="docs-markdown--p">The provider <code>NxDropdownIntl</code> contains various strings to provide labels for display and screen readers. You have to provide a proper translation for each of your locales.</p>
<p class="docs-markdown--p">The provider includes a <code>changes</code> subject that you can use to notify dependent components about changes of the strings during runtime.</p>
<div nx-docs-example="multi-select-intl" config="{}">exampleID: multi-select-intl</div>
<h3 id="focus-out" tabindex="-1" class="docs-markdown--h3">Focus out</h3>
<p class="docs-markdown--p">A focusout event is emitted when the selected dropdown has lost focus.</p>
<div nx-docs-example="dropdown-focus-out" config="{}">exampleID: dropdown-focus-out</div>
<h3 id="accessibility" tabindex="-1" class="docs-markdown--h3">Accessibility</h3>
<p class="docs-markdown--p">The dropdown can be accessed via keyboard. If the component owns the focus, the dropdown will open when you hit ENTER. Pressing ESC while the dropdown is open will close it. To select a value while the dropdown is open, use ARROW-UP and ARROW-DOWN. You can quickly navigate to the first item with the HOME key and to the last item with the END key. Pressing the ALT key plus either the ARROW_UP or ARROW_DOWN key opens or closes the dropdown.</p>
<p class="docs-markdown--p">In order to mimic the native <code>&lt;select&gt;</code> element accessibility, the library is using <code>aria-labelledby</code> attribute to describe the dropdown. Under the hood, html ids of the element containing the rendered dropdown value and the element containing the formfield label are passed to the <code>aria-labelledby</code>. This allows assistive technology to read out currently selected value or placeholder of the dropdown together with the label displayed on the screen. If no formfield label is present, only the dropdown value is read.</p>
<h4 id="in-single-select-mode" tabindex="-1" class="docs-markdown--h4">In single select mode</h4>
<p class="docs-markdown--p">Hitting SPACE or ENTER closes the dropdown and commit the selected value to the model.</p>
<h4 id="in-multi-select-mode" tabindex="-1" class="docs-markdown--h4">In multi select mode</h4>
<p class="docs-markdown--p">Hitting SPACE or ENTER selects the value and the dropdown stays open. You can close the dropdown by hitting ESC or click the backdrop.</p>
<h4 id="using-space-in-a-filter-dropdown" tabindex="-1" class="docs-markdown--h4">Using SPACE in a filter dropdown</h4>
<p class="docs-markdown--p">Hitting SPACE in a dropdown with filter does not select the value, but filters the options with the SPACE included in the search string.</p>
