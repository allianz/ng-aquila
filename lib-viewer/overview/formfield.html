<p class="docs-markdown--p">In most cases it is sufficient to only import the nxInputModule - this <strong>already includes the NxFormfieldModule module</strong>.</p>
<pre><code class="language-ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NxInputModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@aposin/ng-aquila/input&#x27;</span>;
</code></pre>
<p class="docs-markdown--p">Alternatively you could import NxFormfieldModule, but in this case you are required to also add an <a href="./documentation/input/overview">nxInput</a> control to the html template, like in the Basic Example below.</p>
<pre><code class="language-ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NxFormfieldModule</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@aposin/ng-aquila/formfield&#x27;</span>;
</code></pre>
<p class="docs-markdown--p">The formfield component is only usable in combination with a compatible input like nxInput. You will get floating labels, hints and a space to properly render additional information and errors below the input.</p>
<p class="docs-markdown--p">You can't use the formfield without a matching input. A matching input fulfills the requirements of the <code>NxFormfieldControl</code> interface.</p>
<p class="docs-markdown--p"><strong>Changes to formfield paddings:</strong> Starting v16, bottom padding is now applied to both Error and Hint messages. The new bottom padding for Expert is 16px, Retail (Desktop) 32px and Retail (Mobile) 24px. If you would like to keep the old padding values, include <code>@aposin/ng-aquila/css/compatibility/formfield-padding.css</code> in your <code>angular.json</code>.</p>
<h3 id="basic-example" tabindex="-1" class="docs-markdown--h3">Basic Example</h3>
<div nx-docs-example="formfield-basic" config="{}">exampleID: formfield-basic</div>
<h3 id="simple-form" tabindex="-1" class="docs-markdown--h3">Simple Form</h3>
<p class="docs-markdown--p">This form will show a validation error as both fields are required and one fields uses the appendix slot to display an info <a href="./documentation/icon/overview"><code>&lt;nx-icon&gt;</code></a> together with a popover.</p>
<p class="docs-markdown--p">The formfield width depends only on the grid column it is placed in and expands until it has taken 100% of the width.</p>
<p class="docs-markdown--p"><strong>Note:</strong> You have to include NxPopoverModule to run this example. See <a href="./documentation/popover/overview">NxPopover</a> for details.</p>
<div nx-docs-example="formfield-simple-form" config="{}">exampleID: formfield-simple-form</div>
<h3 id="floating" tabindex="-1" class="docs-markdown--h3">Floating</h3>
<p class="docs-markdown--p">By default the label will float once the input is focused or filled. By specifying <code>floatLabel</code> with a value of always you can make this formfield appear as a static input + label combination.</p>
<div nx-docs-example="formfield-floating" config="{}">exampleID: formfield-floating</div>
<h3 id="custom-formfield-label" tabindex="-1" class="docs-markdown--h3">Custom formfield label</h3>
<p class="docs-markdown--p">You can pass text label content via the input <code>label</code>. If you need a more complex label you an use the directive <code>nx-formfield-label</code> as shown in the code example below. If both are defined, then <code>nx-formfield-label</code> will take precedence.</p>
<div nx-docs-example="formfield-custom-label" config="{}">exampleID: formfield-custom-label</div>
<h3 id="negative-styling" tabindex="-1" class="docs-markdown--h3">Negative styling</h3>
<p class="docs-markdown--p">The negative modifier can be used whenever the component is used on a dark background.</p>
<div nx-docs-example="formfield-negative" config="{}">exampleID: formfield-negative</div>
<h3 id="hint" tabindex="-1" class="docs-markdown--h3">Hint</h3>
<p class="docs-markdown--p">You can add a hint to a formfield which is then displayed on the bottom right corner.</p>
<div nx-docs-example="formfield-hint" config="{}">exampleID: formfield-hint</div>
<h3 id="character-count" tabindex="-1" class="docs-markdown--h3">Character count</h3>
<p class="docs-markdown--p">To show the user both the character restrictions and the characters remaining, you can simply use the slot of the <code>nxFormfieldHint</code>.</p>
<div nx-docs-example="formfield-character-count" config="{}">exampleID: formfield-character-count</div>
<h3 id="supplements-(errors%2C-notes)" tabindex="-1" class="docs-markdown--h3">Supplements (Errors, Notes)</h3>
<p class="docs-markdown--p">It's possible to display additional information like error messages below the input. The component will render either errors or the information, depending on the state of the input.</p>
<h4 id="notes" tabindex="-1" class="docs-markdown--h4">Notes</h4>
<div nx-docs-example="formfield-note" config="{}">exampleID: formfield-note</div>
<h4 id="errors" tabindex="-1" class="docs-markdown--h4">Errors</h4>
<p class="docs-markdown--p">Errors are shown once the textfield is touched. This textfield was programatically touched to demonstrate the error state in this example.</p>
<div nx-docs-example="formfield-error" config="{}">exampleID: formfield-error</div>
<h4 id="two-column-alignment" tabindex="-1" class="docs-markdown--h4">Two column alignment</h4>
<p class="docs-markdown--p">Vertical alignment of formfields, including errors and hints, with help of a two column grid.</p>
<div nx-docs-example="formfield-error-two-column" config="{}">exampleID: formfield-error-two-column</div>
<h4 id="multiple-errors" tabindex="-1" class="docs-markdown--h4">Multiple Errors</h4>
<p class="docs-markdown--p">You can also show different errors on one input field according to the particular error occurring in the form as shown in the example below.</p>
<div nx-docs-example="formfield-multiple-errors" config="{}">exampleID: formfield-multiple-errors</div>
<h4 id="notes-and-errors" tabindex="-1" class="docs-markdown--h4">Notes and Errors</h4>
<p class="docs-markdown--p">Initially, the info is shown here. But once you touch the textfield (try focus and blur), it displays the error instead.</p>
<div nx-docs-example="formfield-note-and-error" config="{}">exampleID: formfield-note-and-error</div>
<h3 id="prefix%2C-suffix%2C-appendix" tabindex="-1" class="docs-markdown--h3">Prefix, Suffix, Appendix</h3>
<p class="docs-markdown--p">Provide additional information like the unit or icons with popovers by using additional spaces before and after the input. Both prefix and suffix are visually inside the input, the appendix is located outside to display elements like info icons as they need to be placed outside.</p>
<p class="docs-markdown--p">Projected content is automatically colored in a secondary color, auto-sized icons get a size of 24px (s) and a primary action dark color.</p>
<p class="docs-markdown--p">Please note that the prefix and suffix are not read out by the screenreader, so you would have to set an explicit <code>aria-label</code> (which includes the prefix/suffix information) via the <code>nxAriaLabel</code> input on <code>nxInput</code> as shown in the example below.</p>
<div nx-docs-example="formfield-prefix-suffix-appendix" config="{}">exampleID: formfield-prefix-suffix-appendix</div>
<h3 id="placeholder" tabindex="-1" class="docs-markdown--h3">Placeholder</h3>
<p class="docs-markdown--p">Using placeholders is an optional way to assist the user when filling out inputs. Placeholders normally disappear when the user types something in or if the input is filled. A placeholder can be an example of what should be typed into the field. It is important not to confuse placeholders with labels and hints.</p>
<p class="docs-markdown--p">Please note that placeholders are not fully accessible because their color contrast is usually lower than the one of actual text input. In addition, placeholders are <strong>not supported by all screen readers</strong>. Therefore, a placeholder should provide <strong>only non-essential information</strong>.</p>
<div nx-docs-example="formfield-placeholder" config="{}">exampleID: formfield-placeholder</div>
<h3 id="password-visibility-toggle" tabindex="-1" class="docs-markdown--h3">Password visibility toggle</h3>
<p class="docs-markdown--p">In order to hide/show characters on inputs of type password you can use the <code>nx-password-toggle</code> component in combination with a <code>nxFormFieldSuffix</code> as shown in the example below. The input field has to be passed as a <code>control</code> to the <code>nx-password-toggle</code> component.</p>
<p class="docs-markdown--p"><strong>Important:</strong> When using a formfield with a visibility toggle please pass an <code>aria-label</code> to the password toggle via the <code>ariaLabel</code> input. If you don't set it explicitly it will have 'Show password' as default value. As the default is in English, in almost all cases you should explicitly set the label.</p>
<p class="docs-markdown--p">For more information on the password toggle component have a look at the <a href="./documentation/input/api">Input API</a>.</p>
<div nx-docs-example="formfield-password-visibility" config="{}">exampleID: formfield-password-visibility</div>
<div class="docs-expert-container">
<h3 id="expert%3A-appearance" tabindex="-1" class="docs-markdown--h3">Expert: Appearance</h3>
<p class="docs-markdown--p">With <code>appearance</code> you can change the styling of the formfield and add an outline.</p>
<p class="docs-markdown--p">Please note that <strong>this is an Expert styling option</strong>. This means that the outline appearance is only intended for internal applications and not for applications that are client facing.</p>
<div nx-docs-example="formfield-appearance" config="{}">exampleID: formfield-appearance</div>
<h3 id="expert%3A-error-message" tabindex="-1" class="docs-markdown--h3">Expert: Error message</h3>
<p class="docs-markdown--p">For internal applications you can use the <code>nx-error</code> component with <code>appearance=&quot;text&quot;</code> to display errors. This textfield was programatically touched to demonstrate the error state in this example.</p>
<div nx-docs-example="formfield-expert-error" config="{}">exampleID: formfield-expert-error</div>
</div>
<h3 id="global-settings" tabindex="-1" class="docs-markdown--h3">Global settings</h3>
<p class="docs-markdown--p">If you want to use default settings for all of your formfields, you can use the <code>FORMFIELD_DEFAULT_OPTIONS</code> injection token. Here global settings for <code>appearance</code> and <code>nxFloatLabel</code> can be defined.</p>
<p class="docs-markdown--p">If a certain formfield should have another styling, you can overwrite it by explicitly defining the property in the template.</p>
<p class="docs-markdown--p">The same is valid for the formfield error notifications (<code>nx-error</code>). The default error style is 'message', but you can use the <code>ERROR_DEFAULT_OPTIONS</code> injection token to overwrite it, as shown in the example below.</p>
<div nx-docs-example="formfield-global" config="{}">exampleID: formfield-global</div>
<h3 id="creating-a-custom-form-field-control" tabindex="-1" class="docs-markdown--h3">Creating a custom form field control</h3>
<p class="docs-markdown--p">If you want you can create custom form field controls and add custom logic to it. Your custom form field control then should be wrapped inside <code>nx-formfield</code>. Let's start simple and check how it looks once you implement the necessary interfaces. Our goal is to implement custom form field controls for phone numbers.</p>
<p class="docs-markdown--p">The HTML code below shows how we can consume our custom control.</p>
<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">nx-formfield</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;Phone number&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">formfield-custom-tel-input-example</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">formfield-custom-tel-input-example</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">nx-formfield</span>&gt;</span>
</code></pre>
<div nx-docs-example="formfield-custom" config="{}">exampleID: formfield-custom</div>
<h3 id="change-detection-trigger-event" tabindex="-1" class="docs-markdown--h3">Change detection trigger event</h3>
<p class="docs-markdown--p">To enable rich responsive visual behaviour, by default <code>NxFormField</code> runs a new change detection cycle in response to every user interaction (e.g. every keypress for <code>nxInput</code>). For some applications this could create a performance problem, in which case you could switch your formfields to only running change detection after user has left the control instead. To achieve this, set the <code>updateOn</code> input of NxFormField to <code>blur</code>.</p>
<p class="docs-markdown--p">Note that if you are using <code>nxInput</code> without wrapping it in <code>NxFormField</code>, you could also configure <code>updateOn</code> on it specifically, but this configuration would be overwritten as soon as you place <code>nxInput</code> inside of <code>NxFormField</code>.</p>
<p class="docs-markdown--p">You could also use <a href="./documentation/formfield/overview#global-settings">default formfield settings</a> with predefined <code>updateOn</code> setting in order to configure all formfieds in your application at once, as described <a href="./documentation/formfield/overview#global-settings">here</a>.</p>
<div nx-docs-example="formfield-changedetection" config="{}">exampleID: formfield-changedetection</div>
<h4 id="implementing-the-methods-and-properties-of-nxformfieldcontrol" tabindex="-1" class="docs-markdown--h4">Implementing the methods and properties of NxFormFieldControl</h4>
<p class="docs-markdown--p">The implementation is similar to Angular Material and can be checked for reference <a href="https://material.angular.io/guide/creating-a-custom-form-field-control">Angular Material - Custom Formfield Controls</a></p>
<div nx-docs-example="formfield-custom-tel-input" config="{}">exampleID: formfield-custom-tel-input</div>
<h3 id="showing-optional-label" tabindex="-1" class="docs-markdown--h3">Showing optional label</h3>
<div nx-docs-example="formfield-optional-label" config="{}">exampleID: formfield-optional-label</div>
<h3 id="customizing-form-field-spacing-with-css-variables" tabindex="-1" class="docs-markdown--h3">Customizing Form Field Spacing with CSS Variables</h3>
<p class="docs-markdown--p">To customize the spacing of form fields, you can adjust the existing CSS variables. This allows for flexibility when applying styles, whether you need to remove or modify the spacing across specific forms, individual form fields, or the entire application.</p>
<p class="docs-markdown--p">We provide default spacing for form fields, but in cases where you need to adjust it, you can use the following CSS variables:</p>
<pre><code class="language-scss"><span class="hljs-attr">--formfield-bottom-padding</span>: <span class="hljs-number">0</span>;
<span class="hljs-attr">--formfield-outline-bottom-padding</span>: <span class="hljs-number">0</span>;
<span class="hljs-attr">--formfield-mobile-bottom-padding</span>: <span class="hljs-number">0</span>;
</code></pre>
<p class="docs-markdown--p">Here’s an example of how to remove bottom spacing for a whole form:</p>
<div nx-docs-example="formfield-spacing-adjuster" config="{}">exampleID: formfield-spacing-adjuster</div>