<h1 class="docs-markdown--h1" id="releases-and-updating" tabindex="-1">Releases and updating</h1>
<h2 class="docs-markdown--h2" id="release-plan" tabindex="-1">Release plan</h2>
<p class="docs-markdown--p">Our release strategy is naturally synchronized with <a href="https://angular.io/guide/releases">Angular's</a>. The main reason for this is to minimize the frequency of breaking changes. The Angular team releases a major version every six months, whenever we update to this version we expect breaking changes. Thus, we will release any breaking change along with the major release of Angular. Consequently, you can expect breaking changes (major update) within ng-aquila about every six months.</p>
<p class="docs-markdown--p">As the Angular team now provides release dates down to a week, we are able to prepare in advance and provide more specific release terms. Our ambition is release a major version during a 6-week period after any major Angular release.</p>
<p class="docs-markdown--p">We trigger minor or bug fix releases if they provide a meaningful delivery (fix or feature). This is usually decided in our weekly refinement meeting.</p>
<table class="docs-markdown--table">
<thead>
<tr>
<th>Date</th>
<th>Angular version</th>
<th>ng-aquila version</th>
<th>LTS end</th>
</tr>
</thead>
<tbody>
<tr>
<td>December 2022</td>
<td>15</td>
<td>15</td>
<td>May 2024</td>
</tr>
<tr>
<td>May 2023</td>
<td>16</td>
<td>16</td>
<td>November 2024</td>
</tr>
<tr>
<td>November 2023</td>
<td>17</td>
<td>17</td>
<td>May 2025</td>
</tr>
</tbody>
</table>
<p class="docs-markdown--p">Aquila versions 14 and older are no longer supported.</p>
<p class="docs-markdown--p">During Long-Term Support (LTS) only critical fixes and security patches will be released. LTS of a major version starts as soon as the successor is released. If your applications are running of the LTS, you may (at your own discretion) fork your respective version and support it within your organization.</p>
<h2 class="docs-markdown--h2" id="updating-to-version-17" tabindex="-1">Updating to version 17</h2>
<p class="docs-markdown--p">With Aquila 17, we are upgrading to Angular 17. This Angular update has several features &amp; improvements, such as control flow, new lifecycle hooks, faster builds, check out all the details of <a href="https://blog.angular.io/introducing-angular-v17-4d7033312e4b">Angular 17</a>.</p>
<p class="docs-markdown--p">For updating Aquila to version 17, in most cases the following command should do the update for you:</p>
<p class="docs-markdown--p"><code>ng update @angular/cli @angular/core</code></p>
<p class="docs-markdown--p">Then it should be easy to update Aquila with the following command:</p>
<p class="docs-markdown--p"><code>ng update @aposin/ng-aquila --force</code></p>
<h2 class="docs-markdown--h2" id="updating-to-version-16" tabindex="-1">Updating to version 16</h2>
<p class="docs-markdown--p">With v16, we are upgrading to <a href="https://blog.angular.io/angular-v16-is-here-4d7a28ec680d">Angular 16</a>. This Angular update has been named the biggest release since the initial rollout of Angular, making large leaps in reactivity, server-side rendering, and tooling. In order to make sure you leverage the new Angular features in your application, we encourage you to check <a href="https://angular.io/guide/update-to-version-16">the official documentation</a>.</p>
<p class="docs-markdown--p">Updating Aquila to version 16 should be simple, though. In most cases the following command should do the Angular update for you:</p>
<p class="docs-markdown--p"><code>ng update @angular/cli @angular/core</code></p>
<p class="docs-markdown--p">Then it should be easy to update Aquila with the following command:</p>
<p class="docs-markdown--p"><code>ng update @aposin/ng-aquila --force</code></p>
<h4 class="docs-markdown--h4" id="breaking-changes" tabindex="-1">Breaking Changes</h4>
<h4 class="docs-markdown--h4" id="removal-of-nx-prefixes-for-inputs-and-outputs" tabindex="-1">Removal of <code>nx</code> prefixes for Inputs and Outputs</h4>
<p class="docs-markdown--p">We cleaned up some inconsistencies in our input and output namings and removed <code>nx</code> prefixes, e.g. <code>nxDisabled</code> on the dropdown is now <code>disabled</code>. These changes will be migrated automatically for you and applied in your application when you run <code>ng update</code>.
In the <code>Breaking Changes</code> section of <a href="./guides/CHANGELOG">the Changelog</a> you can find commits with affected components. If after the migrations you get errors please check the API pages of the respective components. The angular compiler should also guide you pretty well and often suggest the correct names.</p>
<h4 class="docs-markdown--h4" id="formfield-visual-change" tabindex="-1">Formfield visual change</h4>
<p class="docs-markdown--p">The formfield formerly reserved space at the bottom for a possible hint. This space also served as the spacing between formfields and the hint would render in this reserved space. This leads to situations where you don't have sufficient space between the hint and the next row.
From now on if a hint is present there will be additional space after the hint.</p>
<p class="docs-markdown--p">If this somehow affects your application in a negative way you can temporarily use a compatibility CSS file which provides the previous styles. For that import the file <code>@aposin/ng-aquila/css/compatibility/formfield-padding.css</code> in the angular.json</p>
<h4 class="docs-markdown--h4" id="nxmask-validation-prevented-optional-controls" tabindex="-1"><code>nxMask</code> validation prevented optional controls</h4>
<p class="docs-markdown--p">The <code>nxMask</code> internal validator always validated empty strings, resulting in a <code>nxMaskLengthError</code>. This makes it impossible to have a control as optional. We fixed this bug which is technically a breaking change. If you relied on getting the <code>nxMaskLengthError</code> for empty strings as a replacement for a required validator please add the <code>required</code> validator now.</p>
<h2 class="docs-markdown--h2" id="updating-to-version-15" tabindex="-1">Updating to version 15</h2>
<p class="docs-markdown--p">With v15, we are upgrading to <a href="https://blog.angular.io/angular-v15-is-now-available-df7be7f2f4c8">Angular 15</a>. In most cases the following command should do the Angular update for you:</p>
<p class="docs-markdown--p"><code>ng update @angular/cli @angular/core</code></p>
<p class="docs-markdown--p">Then it should be easy to update Aquila with the following command:</p>
<p class="docs-markdown--p"><code>ng update @aposin/ng-aquila --force</code></p>
<p class="docs-markdown--p"><strong>Important:</strong></p>
<ul class="docs-markdown--ul">
<li class="docs-markdown--li">⚠️ (nx-input-phone) wrapper class name within component has been changed to avoid interfering with global stylesheets.</li>
</ul>
<h4 class="docs-markdown--h4" id="breaking-changes-1" tabindex="-1">Breaking Changes</h4>
<ul class="docs-markdown--ul">
<li class="docs-markdown--li"><strong>rating:</strong> visual layout and component API have been updated to align with the current NDBX guidelines</li>
</ul>
<p class="docs-markdown--p"><strong>We are not providing automatic updates for these breaking changes.</strong></p>
<h2 class="docs-markdown--h2" id="updating-to-version-14" tabindex="-1">Updating to version 14</h2>
<p class="docs-markdown--p">With v14, we are upgrading to <a href="https://blog.angular.io/angular-v14-is-now-available-391a6db736af">Angular 14</a>. In most cases the following command should do the Angular update for you:</p>
<p class="docs-markdown--p"><code>ng update @angular/cli @angular/core</code></p>
<p class="docs-markdown--p">Then it should be easy to update Aquila with the following command:</p>
<p class="docs-markdown--p"><code>ng update @aposin/ng-aquila --force</code></p>
<h4 class="docs-markdown--h4" id="breaking-changes-2" tabindex="-1">Breaking Changes</h4>
<ul class="docs-markdown--ul">
<li class="docs-markdown--li">added readonly keyword to public properties which are not meant to be changed.</li>
</ul>
<p class="docs-markdown--p"><strong>We are not providing automatic updates for these breaking changes.</strong></p>
<h2 class="docs-markdown--h2" id="updating-to-version-13" tabindex="-1">Updating to version 13</h2>
<p class="docs-markdown--p">With v13, we are upgrading to <a href="https://blog.angular.io/angular-v13-is-now-available-cce66f7bc296">Angular 13</a>. In most cases the following command should do the Angular update for you:</p>
<p class="docs-markdown--p"><code>ng update @angular/cli @angular/core</code></p>
<p class="docs-markdown--p">Then it should be easy to update Aquila with the following command:</p>
<p class="docs-markdown--p"><code>ng update @aposin/ng-aquila --force</code></p>
<p class="docs-markdown--p"><strong>Important:</strong></p>
<ul class="docs-markdown--ul">
<li class="docs-markdown--li">With this release we are dropping support of Internet Explorer and removing all the code that was meant to support IE-only functionality and fix its issues. Make sure your project doesn't need IE support before migrating to v13. In case you still need to support IE, consider using LTS v12.</li>
<li class="docs-markdown--li">Following Angular development, the library is now distributed in ivy partial compilation mode.</li>
</ul>
<h4 class="docs-markdown--h4" id="breaking-changes-3" tabindex="-1">Breaking Changes</h4>
<ul class="docs-markdown--ul">
<li class="docs-markdown--li"><strong>footer:</strong> spacing - to restore previous values, override the following new variables:
<ul class="docs-markdown--ul">
<li class="docs-markdown--li"><code>footer-padding-top: 24px</code> (retail only)</li>
<li class="docs-markdown--li"><code>footer-padding-bottom: 72px</code></li>
<li class="docs-markdown--li"><code>footer-mobile-padding-top: 40px</code> (retail only)</li>
<li class="docs-markdown--li"><code>footer-mobile-padding-bottom: 72px</code></li>
</ul>
</li>
</ul>
<p class="docs-markdown--p"><strong>We are not providing automatic updates for these breaking changes.</strong></p>
<h2 class="docs-markdown--h2" id="updating-to-version-12" tabindex="-1">Updating to version 12</h2>
<p class="docs-markdown--p">With v12, we are upgrading to <a href="https://blog.angular.io/angular-v12-is-now-available-32ed51fbfd49">Angular 12</a>. To update your Angular installation please check the respective <a href="https://angular.io/guide/updating-to-version-12">update guide</a>. In most cases the following command should do the update:</p>
<p class="docs-markdown--p"><code>ng update @angular/cli @angular/core</code></p>
<p class="docs-markdown--p">Things to consider for the Angular version 12 update:</p>
<ul class="docs-markdown--ul">
<li class="docs-markdown--li">Angular12 generates new applications in strict mode by default. This introduces much more strict type-checking within templates, see more details <a href="https://angular.io/guide/strict-mode">here</a>. It also enables Typescript <a href="https://www.typescriptlang.org/tsconfig#strict">strict mode</a> that enforces much stricter type-checking in code, as well.</li>
<li class="docs-markdown--li">TypeScript is updated to version <a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-2.html">4.2</a>.</li>
</ul>
<p class="docs-markdown--p">It should be easy to update with the following command:</p>
<p class="docs-markdown--p"><code>ng update @aposin/ng-aquila --force</code></p>
<p class="docs-markdown--p"><strong>Important:</strong> The visual padding of the Accordion component changes with this update in accordance with the design guidelines. <strong>We are not providing an automatic update for this breaking change.</strong></p>
<h2 class="docs-markdown--h2" id="updating-to-version-11" tabindex="-1">Updating to version 11</h2>
<h4 class="docs-markdown--h4" id="breaking-changes-4" tabindex="-1">Breaking Changes</h4>
<p class="docs-markdown--p">With v11 there are some breaking changes:</p>
<ul class="docs-markdown--ul">
<li class="docs-markdown--li">
<p class="docs-markdown--p"><strong>Removal of outer margins of components</strong></p>
<p class="docs-markdown--p">When ng-aquila was started, the first components were implemented with default outer margins. But since the number of projects using ng-aquila is growing, this is not suitable anymore for a lot of use cases and projects. This is why we decided to remove them with v11.</p>
<p class="docs-danger-text nx-font-weight-bold">Please be aware that this change might affect the styling and layout of your application and it should be checked for visual differences.</p>
<p class="docs-markdown--p">For an easier upgrade path we provide a compatibility css file that restores the margins prior to this change. To use this file add it to your <code>angular.json</code>:</p>
<pre><code>&quot;architect&quot;: {
  &quot;build&quot;: {
    &quot;builder&quot;: &quot;@angular-devkit/build-angular:browser&quot;,
    &quot;options&quot;: {
      // ...
      &quot;styles&quot;: [
        // ...
        &quot;node_modules/@aposin/ng-aquila/css/compatibility.css&quot;,
      ]
    }
  }
}
</code></pre>
<p class="docs-markdown--p">For the exact changes please check <code>compatibility.css</code> or</p>
<details>
  <summary>Expand here to show a summary of the changes</summary>
<table class="docs-markdown--table">
<thead>
<tr>
<th><strong>Component</strong></th>
<th><strong>Changes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>expansion-panel/accordion</strong></td>
<td>Removed <code>margin-top: 16px</code> before the first expansion-panel inside an accordion.</td>
</tr>
<tr>
<td><strong>button</strong></td>
<td>Removed <code>margin: 0 0 24px 0</code> .</td>
</tr>
<tr>
<td><strong>cards</strong></td>
<td>Removed <code>margin-bottom: 24px</code> from the <code>nx-card</code> component and <code>margin-bottom: 8px</code> from the <code>nx-selectable-card</code> component.</td>
</tr>
<tr>
<td><strong>checkbox</strong></td>
<td>Removed <code>margin-bottom: 16px</code> .</td>
</tr>
<tr>
<td><strong>copytext</strong></td>
<td>Removed <code>margin: 0 0 32px 0</code> . The copytext now has a default <code>margin: 0</code> .</td>
</tr>
<tr>
<td><strong>dynamic-table</strong></td>
<td>Removed <code>margin: 32px 0</code> .</td>
</tr>
<tr>
<td><strong>headlines</strong></td>
<td>Removed <code>margin-bottom</code> from each headline size. The headlines now have a default <code>margin: 0</code> .</td>
</tr>
<tr>
<td><strong>lists</strong></td>
<td>Removed <code>margin-bottom: 32px</code> from the list and <code>margin-bottom: 16px</code> from the last list item.</td>
</tr>
<tr>
<td><strong>notifications and errors</strong></td>
<td>Removed <code>margin: 12px 0</code> from <code>nx-message</code> , <code>nx-message-banner</code> and <code>nx-error</code> (of type <code>message</code> ). For the Message Toast the margin is still used.</td>
</tr>
<tr>
<td><strong>number-stepper</strong></td>
<td>Removed <code>margin-top: 12px</code> if there is no label set.</td>
</tr>
<tr>
<td><strong>pagination</strong></td>
<td>Removed <code>margin: 8px 0</code> from the Advanced Pagination (+ smaller screens: <code>margin: 8px 0 40px 0</code> ) and <code>margin: 16px 0</code> from the Simple Pagination (smaller screens: `margin: 40px 0).</td>
</tr>
<tr>
<td><strong>taglist</strong></td>
<td>Removed <code>margin-bottom: 32px</code> on the list. On the single tag items, there is still used a <code>margin-bottom</code> .</td>
</tr>
</tbody>
</table>
</details>
<br>
</li>
<li class="docs-markdown--li">
<p class="docs-markdown--p"><strong>card</strong>: Removal of the selecting functionality for the <code>nx-card</code> component in favor of <code>nx-selectable-card</code></p>
<p class="docs-markdown--p">The deprecated <code>selectable</code>, <code>selected</code>, <code>disabled</code> and <code>selectedChange</code> properties were removed from the <code>nx-card</code> component. Please update to the <code>nx-selectable-card</code> component that covers all this functionality.</p>
</li>
<li class="docs-markdown--li">
<p class="docs-markdown--p"><strong>comparison-table</strong>: The deprecated <code>label</code> input of <code>nxComparisonTableRowGroup</code> was removed. Use <code>labelCollapsed</code> instead.</p>
</li>
<li class="docs-markdown--li">
<p class="docs-markdown--p"><strong>datefield</strong>:</p>
<ul class="docs-markdown--ul">
<li class="docs-markdown--li">The deprecated <code>format()</code> function was removed, which is not needed to be called anymore.</li>
<li class="docs-markdown--li">The deprecated <code>getPopupConnectionElementRef()</code> method was removed. Use <code>getConnectedOverlayOrigin()</code> instead.</li>
<li class="docs-markdown--li">The deprecated <code>calendarHeader</code> property was removed from <code>NxDatepickerIntl</code>. Use <code>switchToMultiYearViewLabel</code> instead.</li>
</ul>
</li>
<li class="docs-markdown--li">
<p class="docs-markdown--p"><strong>dropdown</strong>: The deprecated <code>nxAriaLabel</code> input input was removed. Accessibility for dropdown is now achieved with <code>aria-labelledby</code> that is set automatically.</p>
</li>
<li class="docs-markdown--li">
<p class="docs-markdown--p"><strong>icon-registry</strong>: The deprecated <code>getSvgIcon()</code> method was removed. Please use <code>getIcon()</code> instead.</p>
</li>
<li class="docs-markdown--li">
<p class="docs-markdown--p"><strong>margin-classes</strong>: corrected <code>nx-margin-x-{size}</code> and <code>nx-margin-y-{size}</code> classes</p>
<p class="docs-markdown--p">Previously when using a <code>nx-margin-x-{size}</code> or <code>nx-margin-y-{size}</code> class, all four margins (top, right, bottom, left) were affected. When using <code>nx-margin-x-{size}</code> classes, the <strong>vertical margins are no longer set to 0</strong>. When using <code>nx-margin-y-{size}</code> classes, the <strong>horizontal margins are no longer set to 0</strong>.</p>
</li>
<li class="docs-markdown--li">
<p class="docs-markdown--p"><strong>progress-indicator</strong>: The deprecated <code>title</code> input was removed. Use a <code>nx-label</code> element as content to the indicator instead.</p>
</li>
<li class="docs-markdown--li">
<p class="docs-markdown--p"><strong>radio-toggle</strong>: Removal of the deprecated <code>selection</code> setter.</p>
</li>
<li class="docs-markdown--li">
<p class="docs-markdown--p"><strong>small-stage</strong>: Rewrite to support retail</p>
<ul class="docs-markdown--ul">
<li class="docs-markdown--li">The <code>contentNarrow</code> input of <code>nx-small-stage</code> was renamed to <code>narrow</code> and moved to the <code>nx-small-stage-content</code> directive.</li>
<li class="docs-markdown--li">The <code>offsetEnd</code> input of <code>nx-small-stage</code> was moved to the <code>nx-small-stage-end-image</code> directive.</li>
<li class="docs-markdown--li">The <code>inputUrl</code> input of <code>nx-small-stage</code> was renamed to <code>src</code> and moved to the <code>nx-small-stage-end-image</code> directive.</li>
<li class="docs-markdown--li">The <code>small-stage-image-container-padding-start</code> theming token was renamed to <code>small-stage-image-container-padding-to-content</code>.</li>
<li class="docs-markdown--li">The <code>small-stage-background-color</code> theming token was removed. Please set the background-color directly with css.</li>
</ul>
</li>
</ul>
<h2 class="docs-markdown--h2" id="automatic-update-(ng-update)" tabindex="-1">Automatic update (<code>ng update</code>)</h2>
<p class="docs-markdown--p">We want to make the update as seamless as possible for you with the use of Angular schematics. By using <code>ng update</code> from the Angular CLI this will automatically migrate your project to the new setup. You can update with the following commands:</p>
<pre><code>ng update @angular/cli @angular/core --force
ng update @angular/cdk --force
ng update @aposin/ng-aquila --force
</code></pre>
<p class="docs-markdown--p">You can use the Angular CLI's <code>--allowDirty</code> flag if you don't want to commit between these steps.</p>
