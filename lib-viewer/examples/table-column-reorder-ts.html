<span class="hljs-keyword">import</span> {
    <span class="hljs-title class_">CdkDrag</span>,
    <span class="hljs-title class_">CdkDragDrop</span>,
    <span class="hljs-title class_">CdkDropList</span>,
    moveItemInArray,
} <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/cdk/drag-drop&#x27;</span>;
<span class="hljs-keyword">import</span> {
    <span class="hljs-title class_">ChangeDetectionStrategy</span>,
    <span class="hljs-title class_">ChangeDetectorRef</span>,
    <span class="hljs-title class_">Component</span>,
} <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@angular/core&#x27;</span>;
<span class="hljs-keyword">import</span> {
    <span class="hljs-title class_">NxHeaderCellDirective</span>,
    <span class="hljs-title class_">NxTableCellComponent</span>,
    <span class="hljs-title class_">NxTableComponent</span>,
    <span class="hljs-title class_">NxTableRowComponent</span>,
} <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@aposin/ng-aquila/table&#x27;</span>;

<span class="hljs-meta">@Component</span>({
    <span class="hljs-attr">selector</span>: <span class="hljs-string">&#x27;table-column-reorder-example&#x27;</span>,
    <span class="hljs-attr">templateUrl</span>: <span class="hljs-string">&#x27;./table-column-reorder-example.html&#x27;</span>,
    <span class="hljs-attr">styleUrls</span>: [<span class="hljs-string">&#x27;./table-column-reorder-example.css&#x27;</span>],
    <span class="hljs-attr">changeDetection</span>: <span class="hljs-title class_">ChangeDetectionStrategy</span>.<span class="hljs-property">OnPush</span>,
    <span class="hljs-attr">standalone</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">imports</span>: [
        <span class="hljs-title class_">NxTableComponent</span>,
        <span class="hljs-title class_">NxTableRowComponent</span>,
        <span class="hljs-title class_">CdkDropList</span>,
        <span class="hljs-title class_">NxHeaderCellDirective</span>,
        <span class="hljs-title class_">CdkDrag</span>,
        <span class="hljs-title class_">NxTableCellComponent</span>,
    ],
})
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TableColumnReorderExampleComponent</span> {
    header = [
        { <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;ID&#x27;</span>, <span class="hljs-attr">field</span>: <span class="hljs-string">&#x27;id&#x27;</span> },
        { <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;Product&#x27;</span>, <span class="hljs-attr">field</span>: <span class="hljs-string">&#x27;product&#x27;</span> },
        { <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;Contract Number&#x27;</span>, <span class="hljs-attr">field</span>: <span class="hljs-string">&#x27;contractNumber&#x27;</span> },
        { <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;Ending Date&#x27;</span>, <span class="hljs-attr">field</span>: <span class="hljs-string">&#x27;endingDate&#x27;</span> },
        { <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;Status&#x27;</span>, <span class="hljs-attr">field</span>: <span class="hljs-string">&#x27;status&#x27;</span> },
    ];
    <span class="hljs-attr">content</span>: <span class="hljs-built_in">any</span> = [
        {
            <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>,
            <span class="hljs-attr">product</span>: <span class="hljs-string">&#x27;Product A&#x27;</span>,
            <span class="hljs-attr">contractNumber</span>: <span class="hljs-string">&#x27;A123&#x27;</span>,
            <span class="hljs-attr">endingDate</span>: <span class="hljs-string">&#x27;2024-12-31&#x27;</span>,
            <span class="hljs-attr">status</span>: <span class="hljs-string">&#x27;Active&#x27;</span>,
        },
        {
            <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>,
            <span class="hljs-attr">product</span>: <span class="hljs-string">&#x27;Product B&#x27;</span>,
            <span class="hljs-attr">contractNumber</span>: <span class="hljs-string">&#x27;B456&#x27;</span>,
            <span class="hljs-attr">endingDate</span>: <span class="hljs-string">&#x27;2023-06-30&#x27;</span>,
            <span class="hljs-attr">status</span>: <span class="hljs-string">&#x27;Expired&#x27;</span>,
        },
        {
            <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>,
            <span class="hljs-attr">product</span>: <span class="hljs-string">&#x27;Product C&#x27;</span>,
            <span class="hljs-attr">contractNumber</span>: <span class="hljs-string">&#x27;C789&#x27;</span>,
            <span class="hljs-attr">endingDate</span>: <span class="hljs-string">&#x27;2022-12-31&#x27;</span>,
            <span class="hljs-attr">status</span>: <span class="hljs-string">&#x27;Cancelled&#x27;</span>,
        },
        {
            <span class="hljs-attr">id</span>: <span class="hljs-number">4</span>,
            <span class="hljs-attr">product</span>: <span class="hljs-string">&#x27;Product D&#x27;</span>,
            <span class="hljs-attr">contractNumber</span>: <span class="hljs-string">&#x27;D101&#x27;</span>,
            <span class="hljs-attr">endingDate</span>: <span class="hljs-string">&#x27;2025-06-30&#x27;</span>,
            <span class="hljs-attr">status</span>: <span class="hljs-string">&#x27;Active&#x27;</span>,
        },
        {
            <span class="hljs-attr">id</span>: <span class="hljs-number">5</span>,
            <span class="hljs-attr">product</span>: <span class="hljs-string">&#x27;Product E&#x27;</span>,
            <span class="hljs-attr">contractNumber</span>: <span class="hljs-string">&#x27;E202&#x27;</span>,
            <span class="hljs-attr">endingDate</span>: <span class="hljs-string">&#x27;2024-12-31&#x27;</span>,
            <span class="hljs-attr">status</span>: <span class="hljs-string">&#x27;Expired&#x27;</span>,
        },
    ];

    <span class="hljs-title function_">drop</span>(<span class="hljs-params"><span class="hljs-attr">event</span>: <span class="hljs-title class_">CdkDragDrop</span>&lt;<span class="hljs-built_in">string</span>[]&gt;</span>) {
        <span class="hljs-title function_">moveItemInArray</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">header</span>, event.<span class="hljs-property">previousIndex</span>, event.<span class="hljs-property">currentIndex</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">cdr</span>.<span class="hljs-title function_">markForCheck</span>();
    }

    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> <span class="hljs-attr">cdr</span>: <span class="hljs-title class_">ChangeDetectorRef</span></span>) {}
}
