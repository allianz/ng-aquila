import{a as Bt,b as kt,c as Pt}from"./chunk-RXMPIA4K.js";import{a as ze,b as qe,c as Vt}from"./chunk-TXWKVHCR.js";import{a as Tt,b as Mt}from"./chunk-IBMUGPCV.js";import{a as It}from"./chunk-T4VR7U4O.js";import{h as Nt}from"./chunk-63VCB5XC.js";import{k as wt}from"./chunk-66Y53CRN.js";import"./chunk-X7VP2EFB.js";import{a as Dt}from"./chunk-V2GIQTDI.js";import{a as bt,b as z,c as Ut,d as E,e as Et}from"./chunk-TYPPDKOM.js";import{d as te,e as _t,f as L,g as R,h as ie,i as Pe,j as oe,k as me,l as G,o as Q,r as ne,v as Ct}from"./chunk-GMW4EXOW.js";import"./chunk-CVRHSVEA.js";import"./chunk-BTCMFK7Z.js";import{c as vt,d as M}from"./chunk-26VYFECS.js";import"./chunk-BUOL5UUF.js";import{a as St}from"./chunk-4GZV3IXR.js";import{g as T,h as Ft,j as Oe}from"./chunk-6JU2CQFM.js";import"./chunk-SRJCRH4Z.js";import"./chunk-PCAWR2BZ.js";import"./chunk-BMNDC7WX.js";import{c as F,e as Le}from"./chunk-TZATMHCS.js";import{x as yt}from"./chunk-6R5LQ6DD.js";import{a as ht,b as S,d as N}from"./chunk-KMGCLTNG.js";import{a as Ue,b as Ze}from"./chunk-5JMKC4IX.js";import{B as gt,n as ve,o as O,s as ft,x as de,z as xt}from"./chunk-ZFTI3MAP.js";import{$b as dt,Aa as Ve,Ac as Be,B as Ae,Ec as ut,Fc as ee,Gc as re,Ha as lt,Hc as ct,I as it,Ia as x,Ic as be,J as je,Ja as g,M as Re,Ma as at,Nb as b,O as ot,Ob as ue,Pb as m,Qb as Qe,Ra as st,Rb as he,Sa as fe,U as nt,Xb as l,Yb as a,Yc as ke,Zb as h,_b as pt,ac as mt,bc as k,ca as Ge,ea as C,gc as U,ic as I,jc as We,kc as xe,lc as _e,ma as Me,n as v,na as De,oc as Ce,pc as X,qc as H,rc as A,s as tt,sc as y,tb as d,tc as s,ub as f,uc as ye,vc as q,wc as Fe,xa as rt,xc as le,ya as _,yc as ae,za as Ie,zc as se}from"./chunk-3XU4BHLV.js";var oi=["*"];function ni(o,t){if(o&1&&(l(0,"span",4),s(1),a()),o&2){let p=I();Qe("background-color",p.iconColor[p.extension]||"#000"),d(),ye(p.extension)}}function ri(o,t){if(o&1&&(l(0,"span"),s(1),a()),o&2){let p=I();d(),ye(p.uploadingLabel)}}function li(o,t){if(o&1&&(l(0,"span"),s(1),ee(2,"number"),a()),o&2){let p=I();d(),q("",ct(2,1,p.size/1024/1024,".2")," MB")}}function ai(o,t){o&1&&h(0,"nx-spinner",2)}function si(o,t){if(o&1&&h(0,"nx-icon",3),o&2){let p=I();ue("aria-label",p.uploadedLabel||null)}}var pi=["nativeInputFile"],di=["fileRowElement"],mi=[[["nx-label"]],[["","nxFileUploadHint",""]],[["nx-file-uploader-drop-zone"]],[["","nxFileUploadButton",""]],[["nx-error"]]],ui=["nx-label","[nxFileUploadHint]","nx-file-uploader-drop-zone","[nxFileUploadButton]","nx-error"],ci=(o,t)=>({templateContext:o,file:t});function fi(o,t){o&1&&xe(0,4,["*ngIf","errorState || errors.length"])}function xi(o,t){o&1&&mt(0)}function gi(o,t){if(o&1){let p=k();l(0,"div",7,2),U("keydown",function(i){x(p);let n=I(2);return g(n._handleKeydownListRow(i))}),b(2,xi,1,0,"ng-container",8),a()}if(o&2){let p=t.$implicit,e=I(2),i=y(9);he("nx-file-uploader--file-state-uploading",p.isUploading)("nx-file-uploader--default-template",!e._itemTemplate),d(2),m("ngTemplateOutlet",e._itemTemplate?e._itemTemplate:i)("ngTemplateOutletContext",ut(6,ci,e._templateContext,p))}}function hi(o,t){if(o&1&&(pt(0),l(1,"div",5),b(2,gi,3,9,"div",6),a(),dt()),o&2){let p=I();d(),ue("aria-label",p._templateContext.uploadedListLabel),d(),m("ngForOf",p.value)}}function _i(o,t){if(o&1){let p=k();h(0,"nx-file-upload-name",9)(1,"nx-file-upload-size",10),l(2,"div",11),h(3,"nx-file-upload-status",12),l(4,"nx-file-upload-delete",13),U("click",function(){let i=x(p).file,n=I();return g(n.removeFile(i))}),a()()}if(o&2){let p=t.templateContext,e=t.file;m("name",e==null?null:e.name),d(),m("size",e==null?null:e.size)("isUploading",e.isUploading)("uploadingLabel",p.uploadingLabel),d(2),m("isUploading",e.isUploading)("isUploaded",e.isUploaded)("uploadedLabel",p.uploadedLabel),d(),m("deleteLabel",p.deleteLabel)("isUploading",e.isUploading)}}var Ee=class{constructor(t,p){this.files=t,this.requests=p}},we=class{constructor(t,p){this.files=t,this.requests=p}},B=class{set config(t){this._config!==t&&(this._config=t)}get config(){return this._config}constructor(t,p){this.response=new v,this._config=t,this._httpClient=p}uploadFiles(t){this.config.uploadSeparately?this._uploadFilesSeparately(t):this._uploadFilesCollectively(t)}_uploadFilesCollectively(t){if(!t||t.length===0)return;let p=new FormData,e=t.filter(i=>!i.isUploaded);e.forEach(i=>{i.setUploadingState(),p.append("uploads[]",i.file,i.name)}),this._httpClient.post(this.config.requestUrl,p,this.config.options).subscribe(i=>{e.forEach(n=>n.setUploadedState()),this.response.next({allSucessful:!0,success:new Ee(e,[i])})},i=>{e.forEach(n=>n.setErrorState()),this.response.next({error:new we(e,[i])})})}_uploadFilesSeparately(t){if(!t)return;let p=[];t.filter(i=>!i.isUploaded).forEach(i=>{p.push(this._uploadFile(i).pipe(ot(n=>tt(n))))}),it(p).subscribe(i=>{let n=i.reduce((r,u)=>(u.success?(r.success||(r.success=new Ee([],[])),r.success.files.push(...u.success.files),r.success.requests.push(...u.success.requests)):u.error&&(r.error||(r.error=new we([],[])),r.error.files.push(...u.error.files),r.error.requests.push(...u.error.requests)),r),{});n.error||(n.allSucessful=!0),this.response.next(n)})}_uploadFile(t){let p=new v,e=new FormData;return t.isUploaded||(t.setUploadingState(),e.append("uploads[]",t.file,t.name)),this._httpClient.post(this.config.requestUrl,e,this.config.options).subscribe(i=>{t.setUploadedState(),p.next({success:new Ee([t],[i])}),p.complete()},i=>{t.setErrorState(),p.next({error:new we([t],[i])}),p.complete()}),p}},$e=class{constructor(t,p=0){this.isUploading=!1,this.isUploaded=!1,this.isError=!1,this.index=0,this.onChange=new fe,this.file=t,this.name=t.name,this._size=t.size,this._type=t.type,this.index=p}get size(){return this._size}get type(){return this._type}setUploadedState(){this.isUploaded=!0,this.isUploading=!1,this.isError=!1,this.onChange.emit(this)}setUploadingState(){this.isUploaded=!1,this.isUploading=!0,this.isError=!1,this.onChange.emit(this)}setErrorState(){this.isUploaded=!1,this.isUploading=!1,this.isError=!0,this.onChange.emit(this)}};function Ot(o,t,p){if(!t||!o.type&&!p)return!0;let e=Je(o.name);return t.replace(/\s/g,"").split(",").filter(i=>new RegExp(i).test(o.type)||i===e).length>0}function Ci(o,t){return!t||o.size<=t}function Je(o){let t=o.split(".");return t.length===1?"":"."+t.pop()}function Lt(o,t){return!o||!t||o<=t}var He=class{static maxFileSize(t,p){return e=>!t||t>p.size?null:{NxFileUploadMaxFileSize:{max:t,fileName:p.name,actual:p.size}}}static fileType(t,p,e){return i=>Ot(t,p,e)?null:{NxFileUploadFileTypeNotAccepted:{fileName:t.name}}}static maxFileNumber(t,p){return e=>Lt(t,p)?null:{NxFileUploadMaxFileNumber:{max:p,actual:t}}}},w=(()=>{let t=class t{set disabled(e){this._disabled=e,this._cdr.markForCheck()}get disabled(){return this._disabled}constructor(e,i){this._cdr=e,this.elemetRef=i,this._disabled=!1,this._clicked=new v}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onClick(){this._clicked.next()}ngOnDestroy(){this._clicked.complete()}};t.\u0275fac=function(i){return new(i||t)(f(ke),f(st))},t.\u0275dir=Ve({type:t,selectors:[["","nxFileUploadButton",""]],hostVars:4,hostBindings:function(i,n){i&1&&U("click",function(){return n.onClick()}),i&2&&(ue("aria-describedby",n._ariaDescribedby||null)("disabled",n.disabled||null),he("nx-file-upload-button",!0))},inputs:{disabled:"disabled"}});let o=t;return o})();function yi(o){return o!=null}var ge=(()=>{let t=class t{set disabled(e){this._disabled=e,this._cdr.markForCheck()}get disabled(){return this._disabled}constructor(e){this._cdr=e,this._disabled=!1,this._active=!1,this.fileDropped=new fe}onDrop(e){if(e.preventDefault(),this.disabled){if(!e.dataTransfer)return;e.dataTransfer.dropEffect="no-drop"}else{if(!e.dataTransfer){this.fileDropped.emit([]);return}let{dataTransfer:i}=e;if(i.items){let n=Array.from(i.items).map(r=>r.getAsFile()).filter(yi);i.items.clear(),this.fileDropped.emit(n)}else{let n=Array.from(i.files);i.clearData(),this.fileDropped.emit(n)}this._active=!1}}onDragOver(e){e.stopPropagation(),e.preventDefault(),this.disabled?e.dataTransfer.dropEffect="none":(e.dataTransfer.dropEffect="copy",this._active=!0,this._cdr.markForCheck())}onDragLeave(e){this._active=!1,e.dataTransfer.dropEffect="none",this._cdr.markForCheck()}onDragEnd(e){e.dataTransfer.dropEffect="none"}onDragStart(e){this.disabled?e.dataTransfer.dropEffect="none":e.dataTransfer.dropEffect="copy"}get active(){return this._active}};t.\u0275fac=function(i){return new(i||t)(f(ke))},t.\u0275cmp=_({type:t,selectors:[["nx-file-uploader-drop-zone"]],hostVars:4,hostBindings:function(i,n){i&1&&U("drop",function(u){return n.onDrop(u)})("dragover",function(u){return n.onDragOver(u)})("dragleave",function(u){return n.onDragLeave(u)})("dragend",function(u){return n.onDragEnd(u)})("dragstart",function(u){return n.onDragStart(u)}),i&2&&he("is-active",n.active)("is-disabled",n.disabled)},inputs:{disabled:"disabled"},outputs:{fileDropped:"fileDropped"},ngContentSelectors:oi,decls:1,vars:0,template:function(i,n){i&1&&(We(),xe(0))},styles:["[_nghost-%COMP%]     button{margin-bottom:16px}@media (min-width: 704px){[_nghost-%COMP%]{height:104px;border:1px dashed var(--file-uploader-drop-zone-border-color);align-items:center;justify-content:center;display:flex;color:var(--file-uploader-drop-zone-text-color)}.is-active[_nghost-%COMP%]{border-style:solid}.is-disabled[_nghost-%COMP%]{cursor:no-drop}[_nghost-%COMP%]     button{margin-bottom:0}}"],changeDetection:0});let o=t;return o})(),Fi=0,V=(()=>{let t=class t{constructor(){this.id=`nx-formfield-hint-${Fi++}`}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=Ve({type:t,selectors:[["","nxFileUploadHint",""]],hostVars:3,hostBindings:function(i,n){i&2&&(ue("id",n.id),he("nx-file-upload-hint",!0))},inputs:{id:"id"}});let o=t;return o})(),Se=(()=>{let t=class t{constructor(){this.changes=new v,this.uploadingLabel="uploading",this.deleteLabel="Delete",this.uploadedStateLabel="uploaded",this.uploadedListLabel="List of uploaded files"}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})(),Ye=(()=>{let t=class t{constructor(){this.iconColor={xls:"#1E8927",xlsx:"#1E8927",pdf:"#DC3149",png:"#ba31dc"}}ngOnInit(){this.extension=Je(this.name).substring(1)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=_({type:t,selectors:[["nx-file-upload-name"]],inputs:{name:"name"},decls:5,vars:2,consts:[[1,"extension"],["class","extension-label",3,"background-color",4,"ngIf"],["name","file",1,"extension-icon"],[1,"nx-margin-left-2xs"],[1,"extension-label"]],template:function(i,n){i&1&&(l(0,"span",0),b(1,ni,2,3,"span",1),h(2,"nx-icon",2),a(),l(3,"span",3),s(4),a()),i&2&&(d(),m("ngIf",n.extension),d(3),ye(n.name))},dependencies:[O,F],styles:["[_nghost-%COMP%]{font-size:var(--file-uploader-file-name-font-size);line-height:var(--file-uploader-file-name-line-height);font-weight:var(--file-uploader-file-name-font-weight);letter-spacing:var(--file-uploader-file-name-letter-spacing)}.extension[_ngcontent-%COMP%]{position:relative;top:4px;display:inline-flex}.extension-icon[_ngcontent-%COMP%]{font-size:22px}.extension-label[_ngcontent-%COMP%]{position:absolute;text-transform:uppercase;-webkit-user-select:none;user-select:none;line-height:normal;font-weight:700;padding:1px 3px;right:4px;bottom:4px;border-radius:2px 0 0 2px;font-size:6px;color:#fff}"]});let o=t;return o})(),Ke=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=_({type:t,selectors:[["nx-file-upload-size"]],inputs:{size:"size",isUploading:"isUploading",uploadingLabel:"uploadingLabel"},decls:3,vars:2,consts:[["uploaded",""],[4,"ngIf","ngIfElse"]],template:function(i,n){if(i&1&&b(0,ri,2,1,"span",1)(1,li,3,4,"ng-template",null,0,be),i&2){let r=y(2);m("ngIf",n.isUploading)("ngIfElse",r)}},dependencies:[O,xt],styles:["[_nghost-%COMP%]{white-space:nowrap}"]});let o=t;return o})(),Xe=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=_({type:t,selectors:[["nx-file-upload-status"]],inputs:{isUploading:"isUploading",isUploaded:"isUploaded",uploadedLabel:"uploadedLabel"},decls:2,vars:2,consts:[["size","medium",4,"ngIf"],["name","check-circle","size","s",4,"ngIf"],["size","medium"],["name","check-circle","size","s"]],template:function(i,n){i&1&&b(0,ai,1,0,"nx-spinner",0)(1,si,1,1,"nx-icon",1),i&2&&(m("ngIf",n.isUploading),d(),m("ngIf",n.isUploaded))},dependencies:[O,F,Tt],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]   nx-icon[_ngcontent-%COMP%]{color:var(--file-uploader-file-row-icon-color)}"]});let o=t;return o})(),et=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=_({type:t,selectors:[["nx-file-upload-delete"]],inputs:{isUploading:"isUploading",deleteLabel:"deleteLabel"},decls:2,vars:3,consts:[["nxIconButton","tertiary small-medium","type","button"],["name","trash-o"]],template:function(i,n){i&1&&(l(0,"button",0),h(1,"nx-icon",1),a()),i&2&&(ue("aria-label",n.deleteLabel||null)("disabled",n.isUploading||null),d(),ue("aria-hidden",!0))},dependencies:[F,Ft],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%] > button[_ngcontent-%COMP%]{margin-bottom:0;white-space:nowrap}"]});let o=t;return o})(),vi=0,D=(()=>{let t=class t{set noBlockingValidators(e){this._noBlockingValidators=Ue(e)}get noBlockingValidators(){return this._noBlockingValidators}set id(e){this._id=e,this._cdr.markForCheck()}get id(){return this._id}set required(e){this._required=Ue(e)}get required(){return this._required}set value(e){this.writeValue(e)}get value(){return this._value}set name(e){this._name=e}get name(){return this._name}set disabled(e){this._disabled=Ue(e),this.button&&(this.button.disabled=this._disabled),this._dropZone&&(this._dropZone.disabled=this._disabled),this._cdr.markForCheck()}get disabled(){return this._disabled}set multiple(e){this._multiple=Ue(e)}get multiple(){return this._multiple}set accept(e){this._accept=e}get accept(){return this._accept}set maxFileSize(e){this._maxFileSize=Ze(e)}get maxFileSize(){return this._maxFileSize}set uploader(e){this._uploader!==e&&(this._uploader=e)}get uploader(){return this._uploader}set maxFileNumber(e){this._maxFileNumber=Ze(e)}get maxFileNumber(){return this._maxFileNumber}set itemTemplate(e){this._itemTemplate!==e&&(this._itemTemplate=e)}get itemTemplate(){return this._itemTemplate}constructor(e,i,n,r,u,c,ii){this._cdr=e,this._errorStateMatcher=i,this._intl=n,this._parentForm=r,this._parentFormGroup=u,this.ngControl=c,this._focusMonitor=ii,this._filesSubscriptions=[],this.valueChange=new fe,this.fileDeleted=new fe,this.filesSelected=new fe,this._controlValidators=null,this.errorState=!1,this.errors=[],this._noBlockingValidators=!1,this.stateChanges=new v,this.validatorFnArray=[],this._id=`nx-file-uploader-${vi++}`,this._inputId=`${this.id}-input`,this._labelId=`${this.id}-label`,this._required=!1,this._disabled=!1,this._multiple=!1,this.strictAcceptValidation=!1,this._maxFileSize=0,this._maxFileNumber=null,this._destroyed=new v,this.openedChange=new fe,this._openedStream=this.openedChange.pipe(Re(Te=>Te),Ae(()=>{})),this._closedStream=this.openedChange.pipe(Re(Te=>!Te),Ae(()=>{})),this.onChangeCallback=Te=>{},this.onTouchedCallback=()=>{},this.ngControl&&(this.ngControl.valueAccessor=this),this._templateContext=this}ngOnInit(){this.ngControl?.control&&(this._controlValidators=this.ngControl.control.validator),this._intl.changes.pipe(C(this._destroyed)).subscribe(()=>{this._cdr.markForCheck(),this.stateChanges.next()}),this._resetValidators()}ngAfterViewInit(){this._fileRowElements.forEach(e=>this._focusMonitor.monitor(e)),this._fileRowElementsPrevious=this._fileRowElements,this._fileRowElements.changes.pipe(C(this._destroyed)).subscribe(e=>{this._fileRowElementsPrevious.forEach(i=>this._focusMonitor.stopMonitoring(i)),this._fileRowElementsPrevious=e,e.forEach(i=>this._focusMonitor.monitor(i))})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._filesSubscriptions.forEach(e=>e.unsubscribe()),this._fileRowElements.forEach(e=>this._focusMonitor.stopMonitoring(e))}updateErrorState(){let e=this.errorState,i=this._parentFormGroup||this._parentForm,n=this.ngControl?this.ngControl.control:null,r=this._errorStateMatcher.isErrorState(n,i);r!==e&&(this.errorState=r,this.stateChanges.next())}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}writeValue(e){this._value!==e&&(e&&this._filesSubscriptions&&(this._filesSubscriptions.forEach(i=>i.unsubscribe()),this._filesSubscriptions=[]),this._value=e,this._subscribeToFileChanges())}isValidOnSelection(e){return Ci(e,this.maxFileSize)||this.setFileSizeError(e),Ot(e,this.accept,this.strictAcceptValidation)||this.setFileTypeError(e),this.errors.length===0}_resetValidators(e=!1){if(this.ngControl?.control){e&&this.ngControl.control.clearValidators();let i=[];this._controlValidators&&i.unshift(this._controlValidators),this.validatorFnArray&&i.push(...this.validatorFnArray),this.ngControl.control.setValidators(i),this.ngControl.control.updateValueAndValidity()}}ngAfterContentInit(){if(!this.button)return;this.button._clicked.pipe(C(this._destroyed)).subscribe(()=>{if(this.errors=[],this.maxFileNumber&&(this.value?.length||0)===this.maxFileNumber){this.setMaxFileNumberError(this.maxFileNumber),this._resetValidators(!0);return}this.nativeInputFile.nativeElement.click()});let e=je(this.button.elemetRef.nativeElement,"focus"),i=je(this.button.elemetRef.nativeElement,"click"),n=!1;i.pipe(C(this._destroyed)).subscribe(()=>{n=!0,this.openedChange.emit(n)}),e.pipe(C(this._destroyed)).subscribe(()=>{n&&(n=!1,this.openedChange.emit(n))}),this.button.disabled=this.disabled,this._dropZone&&(this._dropZone.fileDropped.pipe(C(this._destroyed)).subscribe(r=>{this._addFilesToQueue(r)}),this._dropZone.disabled=this.disabled),this._label&&(this._label.for=this._inputId,this._label.id=this._labelId),this.stateChanges.pipe(C(this._destroyed)).subscribe(()=>{this._syncDescribedByIds(),this._cdr.markForCheck()}),this._hintChildren.changes.pipe(Ge(null),C(this._destroyed)).subscribe(()=>{this._syncDescribedByIds(),this._cdr.markForCheck()}),this._errorList.changes.pipe(Ge(null),C(this._destroyed)).subscribe(()=>{this._syncDescribedByIds(),this._cdr.markForCheck()})}_addFilesToQueue(e){this.multiple||(this.value=[]),this._setFileListFromValue(e),this._resetValidators(!0),this.onChangeCallback(this.value),this.onTouchedCallback(),this.valueChange.emit(this.value),this.filesSelected.emit(this.value)}_setFileListFromValue(e){if(this.validatorFnArray=[],e===null)this.value=void 0;else{this.errors=[];let i=(this.value?.length||0)+e.length;Lt(i,this.maxFileNumber)?e.forEach(n=>{if(this.isValidOnSelection(n)){let r=new $e(n);this.value?this.value.push(r):this.value=[r],this._cdr.markForCheck()}}):this.setMaxFileNumberError(i),this._subscribeToFileChanges()}}removeFile(e){this.value=this.value.filter(i=>e!==i),this._filesSubscriptions&&(this._filesSubscriptions.forEach(i=>i.unsubscribe()),this._filesSubscriptions=[]),this._subscribeToFileChanges(),this.validatorFnArray=[],this._resetValidators(!0),this._cdr.markForCheck(),this.valueChange.emit(this.value),this.fileDeleted.emit(e),this.onTouchedCallback(),this.onChangeCallback(this.value),this.nativeInputFile.nativeElement.value=""}uploadFiles(){if(!this.uploader){console.warn("No uploader found. Please define a NxFileUpload to use the uploading mechanism.");return}this.uploader&&(this.uploader.response.pipe(nt(1)).subscribe(e=>{let i=this.value?.filter(r=>r.isUploaded&&!r.isError),n=e.error?.files.filter(r=>!r.isUploaded&&r.isError);n?.length&&n?.forEach(r=>this.setFileUploadError(r,"An error occured while uploading")),this.value=i}),this.uploader.uploadFiles(this.value))}ngDoCheck(){this.ngControl&&this.updateErrorState()}get uploadingLabel(){return this._intl.uploadingLabel}get deleteLabel(){return this._intl.deleteLabel}get uploadedLabel(){return this._intl.uploadedStateLabel}get uploadedListLabel(){return this._intl.uploadedListLabel}_syncDescribedByIds(){let e=[];e=this._hintChildren.map(i=>i.id),e=this._label?[this._label.id,...e]:e,e=[...this._errorList.map(i=>i.id),...e],this.button?.setDescribedByIds(e)}_handleKeydownListRow(e){if(e.keyCode===40){let i=e.target.nextSibling;i?.classList?.contains("nx-file-uploader--file-row")&&(e.preventDefault(),i.focus())}else if(e.keyCode===38){let i=e.target.previousSibling;i?.classList?.contains("nx-file-uploader--file-row")&&(e.preventDefault(),i.focus())}}_onFileChange(e){if(this.disabled)return;let i=e.target,n=Array.from(i.files??[]);this._addFilesToQueue(n),this.stateChanges.next(),this._cdr.markForCheck(),this.nativeInputFile.nativeElement.value=""}_subscribeToFileChanges(){if(this.value?.length){let e;this.value.map(i=>{e=i.onChange.subscribe(()=>{this._cdr.markForCheck()}),this._filesSubscriptions.push(e)})}}setMaxFileNumberError(e){this.errors.push({filename:"",type:"fileNumber",max:this.maxFileNumber,actual:e}),!this.noBlockingValidators&&this.ngControl?.control&&this.validatorFnArray.push(i=>({NxFileUploadMaxFileNumber:{max:this.maxFileNumber,actual:e}}))}setFileSizeError(e){this.errors.push({filename:e.name,type:"fileSize",max:this.maxFileSize,actual:e.size}),!this.noBlockingValidators&&this.ngControl?.control&&this.validatorFnArray.push(He.maxFileSize(this.maxFileSize,e))}setFileTypeError(e){this.errors.push({filename:e.name,type:"fileType",extension:this.accept,actual:Je(e.name)}),!this.noBlockingValidators&&this.ngControl?.control&&this.validatorFnArray.push(He.fileType(e,this.accept,this.strictAcceptValidation))}setFileUploadError(e,i){this.errors.push({filename:e.name,type:"upload",reason:i})}get allFilesUploaded(){return this.value?.every(e=>e.isUploaded)||!1}setDisabledState(e){this.disabled=e,this.stateChanges.next()}};t.\u0275fac=function(i){return new(i||t)(f(ke),f(St),f(Se),f(Pe,8),f(Q,8),f(_t,10),f(yt))},t.\u0275cmp=_({type:t,selectors:[["nx-file-uploader"]],contentQueries:function(i,n,r){if(i&1&&(Ce(r,w,5),Ce(r,ge,7),Ce(r,E,5),Ce(r,V,4),Ce(r,z,4)),i&2){let u;H(u=A())&&(n.button=u.first),H(u=A())&&(n._dropZone=u.first),H(u=A())&&(n._label=u.first),H(u=A())&&(n._hintChildren=u),H(u=A())&&(n._errorList=u)}},viewQuery:function(i,n){if(i&1&&(X(pi,5),X(di,5)),i&2){let r;H(r=A())&&(n.nativeInputFile=r.first),H(r=A())&&(n._fileRowElements=r)}},hostVars:3,hostBindings:function(i,n){i&2&&(ue("aria-invalid",n.errorState),he("has-error",n.errorState))},inputs:{noBlockingValidators:"noBlockingValidators",id:"id",required:"required",value:"value",name:"name",disabled:"disabled",multiple:"multiple",accept:"accept",strictAcceptValidation:"strictAcceptValidation",maxFileSize:"maxFileSize",uploader:"uploader",maxFileNumber:"maxFileNumber",itemTemplate:"itemTemplate"},outputs:{valueChange:"valueChange",fileDeleted:"fileDeleted",filesSelected:"filesSelected",openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed"},exportAs:["NxFileUploaderComponent"],features:[Be([{provide:bt,useValue:{appearance:"message"}}]),lt],ngContentSelectors:ui,decls:10,vars:6,consts:[["nativeInputFile",""],["defaultFileRow",""],["fileRowElement",""],[4,"ngIf"],["type","file",3,"change","id"],["role","list",1,"nx-file-uploader--file-list","nx-margin-bottom-m"],["class","nx-file-uploader--file-row","role","listitem",3,"nx-file-uploader--file-state-uploading","nx-file-uploader--default-template","keydown",4,"ngFor","ngForOf"],["role","listitem",1,"nx-file-uploader--file-row",3,"keydown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"name"],[3,"size","isUploading","uploadingLabel"],[1,"nx-file-uploader--file-row-actions"],[3,"isUploading","isUploaded","uploadedLabel"],[3,"click","deleteLabel","isUploading"]],template:function(i,n){if(i&1){let r=k();We(mi),b(0,fi,1,0,"ng-content",3),xe(1),xe(2,1),xe(3,2),xe(4,3),l(5,"input",4,0),U("change",function(c){return x(r),g(n._onFileChange(c))}),a(),b(7,hi,3,2,"ng-container",3)(8,_i,5,9,"ng-template",null,1,be)}i&2&&(m("ngIf",n.errorState||n.errors.length),d(5),m("id",n._inputId),ue("multiple",n.multiple||null)("disabled",n.disabled||null)("accept",n.accept),d(2),m("ngIf",n.value&&n.value.length>0))},dependencies:[ve,O,ft,Ye,Ke,Xe,et],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nx-error.nx-error--message{margin:12px 0}[_nghost-%COMP%]     nx-error.nx-error--message ul{margin-left:28px;margin-top:6px}[_nghost-%COMP%]     nx-error.nx-error--message li{line-height:24px}.nx-file-uploader--file-list[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.nx-file-uploader--file-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;border-bottom-width:1px;border-bottom-style:solid;padding:8px 12px;border-bottom-color:var(--file-uploader-file-row-border-bottom-color);color:var(--file-uploader-file-row-text-color)}.nx-file-uploader--file-row[_ngcontent-%COMP%]:hover{background-color:var(--file-uploader-file-row-hover-background-color)}.nx-file-uploader--file-row[_ngcontent-%COMP%]:focus{outline:none}.nx-file-uploader--file-row[_ngcontent-%COMP%]     .nx-file-uploader--file-row-actions{margin-left:auto;display:flex;align-items:center;justify-content:flex-end;min-width:120px;flex:none}[dir=rtl][_nghost-%COMP%]   .nx-file-uploader--file-row[_ngcontent-%COMP%]     .nx-file-uploader--file-row-actions, [dir=rtl]   [_nghost-%COMP%]   .nx-file-uploader--file-row[_ngcontent-%COMP%]     .nx-file-uploader--file-row-actions{margin-left:initial;margin-right:auto}.nx-file-uploader--file-row.nx-file-uploader--default-template[_ngcontent-%COMP%]   nx-file-upload-name[_ngcontent-%COMP%]{flex:none;max-width:65%;overflow-wrap:break-word;line-height:28px}@media (max-width: 703px){.nx-file-uploader--file-row.nx-file-uploader--default-template[_ngcontent-%COMP%]   nx-file-upload-name[_ngcontent-%COMP%]{flex:100%;max-width:100%}}.nx-file-uploader--file-row.nx-file-uploader--default-template[_ngcontent-%COMP%]   nx-file-upload-size[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:flex-end}@media (max-width: 703px){.nx-file-uploader--file-row.nx-file-uploader--default-template[_ngcontent-%COMP%]   nx-file-upload-size[_ngcontent-%COMP%]{justify-content:flex-start}}.nx-file-uploader--file-row.nx-file-uploader--default-template[_ngcontent-%COMP%]   nx-file-upload-status[_ngcontent-%COMP%]{flex:0 1 auto;padding:0 16px}.nx-file-uploader--file-row.nx-file-uploader--default-template[_ngcontent-%COMP%]   nx-file-upload-delete[_ngcontent-%COMP%]{flex:0 1 auto}.nx-file-uploader--file-row.nx-file-uploader--file-state-uploading[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{color:var(--file-uploader-file-row-uploading-file-name-color)}  input[type=file]{display:none}  .nx-file-upload-button{display:block}  .nx-file-upload-hint{font-size:var(--file-uploader-hint-font-size);line-height:var(--file-uploader-hint-line-height);font-weight:var(--file-uploader-hint-font-weight);letter-spacing:var(--file-uploader-hint-letter-spacing);display:block}.nx-file-uploader--file-row.cdk-keyboard-focused[_ngcontent-%COMP%]{box-shadow:var(--focus-box-shadow)}@media screen and (forced-colors: active),(forced-colors: active){.nx-file-uploader--file-row.cdk-keyboard-focused[_ngcontent-%COMP%]{box-shadow:0 0 0 2px background,0 0 0 6px CanvasText;outline:4px solid CanvasText;outline-offset:2px}}"],changeDetection:0});let o=t;return o})(),P=(()=>{let t=class t{set fileUpload(e){this._fileUpload!==e&&(this._fileUpload=e)}get fileUpload(){return this._fileUpload}_onClick(){this._fileUpload.uploadFiles()}get visibility(){return this._fileUpload.allFilesUploaded?"hidden":"unset"}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=Ve({type:t,selectors:[["","nxFileUploadTriggerFor",""]],hostVars:2,hostBindings:function(i,n){i&1&&U("click",function(){return n._onClick()}),i&2&&Qe("visibility",n.visibility)},inputs:{fileUpload:[rt.None,"nxFileUploadTriggerFor","fileUpload"]},exportAs:["nxFileUploadTrigger"]});let o=t;return o})(),zt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Ie({type:t}),t.\u0275inj=De({providers:[Se],imports:[gt,Le,Oe,Mt,Ut,Et]});let o=t;return o})();var bi=["documentUpload"],Ne={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},qt=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new S,headers:new ht({"My-Custom-Header":"custom-header-value"}),reportProgress:!0}},this.myFiles=[],this.uploader=new B(this.uploadConfig,this.http),this._destroyed=new v}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Ne):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onFilesAddedChange(e){e&&this.documentUpload.uploadFiles()}};t.\u0275fac=function(i){return new(i||t)(f(M),f(N))},t.\u0275cmp=_({type:t,selectors:[["file-uploader-auto-example"]],viewQuery:function(i,n){if(i&1&&X(bi,5),i&2){let r;H(r=A())&&(n.documentUpload=r.first)}},decls:9,vars:2,consts:[["documentUpload",""],["multiple","",3,"ngModelChange","filesSelected","ngModel","uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary small-medium","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","nxIconPositionStart","","aria-hidden","true"]],template:function(i,n){if(i&1){let r=k();l(0,"nx-file-uploader",1,0),se("ngModelChange",function(c){return x(r),ae(n.myFiles,c)||(n.myFiles=c),g(c)}),U("filesSelected",function(c){return x(r),g(n.onFilesAddedChange(c))}),l(2,"nx-label",2),s(3,"Upload file(s)"),a(),l(4,"span",3),s(5,"Multiple files are allowed"),a(),l(6,"button",4),h(7,"nx-icon",5),s(8," Add File "),a()()}i&2&&(le("ngModel",n.myFiles),m("uploader",n.uploader))},dependencies:[D,w,V,E,F,T,L,me]});let o=t;return o})();var Ui={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},Ht=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new S,reportProgress:!0}},this.uploader=new B(this.uploadConfig,this.http),this._destroyed=new v}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Ui):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}};t.\u0275fac=function(i){return new(i||t)(f(M),f(N))},t.\u0275cmp=_({type:t,selectors:[["file-uploader-basic-example"]],decls:11,vars:3,consts:[["documentUpload",""],["multiple","",3,"uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"nxFileUploadTriggerFor","disabled"]],template:function(i,n){if(i&1&&(l(0,"nx-file-uploader",1,0)(2,"nx-label",2),s(3,"Select a file to upload"),a(),l(4,"span",3),s(5,"Multiple files can be selected"),a(),l(6,"button",4),h(7,"nx-icon",5),s(8," Add File "),a()(),l(9,"button",6),s(10,` Upload
`),a()),i&2){let r=y(1);m("uploader",n.uploader),d(9),m("nxFileUploadTriggerFor",r)("disabled",!(r.value!=null&&r.value.length))}},dependencies:[D,w,V,E,P,F,T]});let o=t;return o})();var Ei=["documentUpload"],wi=["ngModel"];function Si(o,t){o&1&&(l(0,"nx-error"),s(1," An error occured while uploading. "),a())}function Ni(o,t){o&1&&(l(0,"nx-error"),s(1,"Required!"),a())}function Ti(o,t){if(o&1){let p=k();h(0,"nx-file-upload-name",8)(1,"nx-file-upload-size",9),l(2,"div",10),h(3,"nx-file-upload-status",11),l(4,"nx-file-upload-delete",12),U("click",function(){let i=x(p),n=i.templateContext,r=i.file;return g(n.removeFile(r))}),a()(),l(5,"form")(6,"nx-radio-group",13),se("ngModelChange",function(i){let n=x(p).file;return ae(n.formData,i)||(n.formData=i),g(i)}),l(7,"nx-label",14),s(8,"Do you own all rights to this picture?"),a(),l(9,"div",15)(10,"nx-radio",16),s(11,"Yes"),a(),l(12,"nx-radio",17),s(13,"No"),a()()()()}if(o&2){let p=t.templateContext,e=t.file;m("name",e==null?null:e.name),d(),m("size",e==null?null:e.size)("isUploading",e.isUploading)("uploadingLabel",p.uploadingLabel),d(2),m("isUploading",e.isUploading)("isUploaded",e.isUploaded)("uploadedLabel",p.uploadedLabel),d(),m("deleteLabel",p.deleteLabel)("isUploading",e.isUploading),d(2),m("disabled",e.isUploading||e.isUploaded),le("ngModel",e.formData),d(4),m("value",!0),d(2),m("value",!1)}}var Mi={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},At=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.myFiles=[],this.showUploadError=!1}onChange(){this.validate()}validate(){let e=this.myFiles.every(i=>typeof i.formData=="boolean");return this.ngModel.control.setErrors(e?{}:{required:!0}),e}upload(e){if(this.showUploadError=!1,!this.documentUpload.value||!this.validate())return;let i=new FormData;this.myFiles.forEach(u=>{u.isUploaded||(u.setUploadingState(),i.set(u.name,u.file,u.name),i.set(`${u.name}-form`,u.formData.toString()))});let r={params:new S,reportProgress:!0};this.http.post(e,i,r).subscribe(u=>{this.documentUpload.value.forEach(c=>{c.setUploadedState()}),this.messageToastService.open("All files were uploaded successfully!",Mi)},u=>{this.documentUpload.value.forEach(c=>{c.isUploaded||c.setErrorState()}),this.showUploadError=!0})}};t.\u0275fac=function(i){return new(i||t)(f(M),f(N))},t.\u0275cmp=_({type:t,selectors:[["file-uploader-custom-item-example"]],viewQuery:function(i,n){if(i&1&&(X(Ei,5),X(wi,5)),i&2){let r;H(r=A())&&(n.documentUpload=r.first),H(r=A())&&(n.ngModel=r.first)}},decls:14,vars:5,consts:[["documentUpload","","ngModel","ngModel"],["myItemTemplate",""],["multiple","",3,"ngModelChange","ngModel","itemTemplate"],["size","small",1,"nx-margin-bottom-3xs"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],[4,"ngIf"],["nxButton","secondary small","type","button",3,"click","disabled"],[3,"name"],[3,"size","isUploading","uploadingLabel"],[1,"nx-file-uploader--file-row-actions"],[3,"isUploading","isUploaded","uploadedLabel"],[3,"click","deleteLabel","isUploading"],["name","pictureRights",3,"ngModelChange","disabled","ngModel"],[1,"nx-margin-bottom-m"],[1,"horizontal-buttons"],[1,"nx-margin-bottom-m",3,"value"],[1,"nx-margin-left-s","nx-margin-bottom-m",3,"value"]],template:function(i,n){if(i&1){let r=k();l(0,"nx-file-uploader",2,0),se("ngModelChange",function(c){return x(r),ae(n.myFiles,c)||(n.myFiles=c),g(c)}),l(3,"nx-label",3),s(4,"Please upload a file"),a(),l(5,"button",4),h(6,"nx-icon",5),s(7," Add File "),a()(),b(8,Si,2,0,"nx-error",6)(9,Ni,2,0,"nx-error",6),l(10,"button",7),U("click",function(){return x(r),g(n.upload("file-upload"))}),s(11,` Upload files
`),a(),b(12,Ti,14,13,"ng-template",null,1,be)}if(i&2){let r=y(1),u=y(2),c=y(13);le("ngModel",n.myFiles),m("itemTemplate",c),d(8),m("ngIf",n.showUploadError),d(),m("ngIf",u.control.hasError("required")),d(),m("disabled",!(r.value!=null&&r.value.length))}},dependencies:[D,w,z,E,Ye,Ke,Xe,et,F,kt,Bt,T,O,G,L,R,me,Pe],styles:["nx-file-upload-name[_ngcontent-%COMP%]{flex:1}nx-file-upload-size[_ngcontent-%COMP%]{flex:none}nx-file-upload-status[_ngcontent-%COMP%]{flex:0 1 auto;padding:0 16px}nx-file-upload-delete[_ngcontent-%COMP%]{flex:0 1 auto}form[_ngcontent-%COMP%]{padding-top:16px;width:100%}.horizontal-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row}@media (max-width: 703px){nx-file-upload-name[_ngcontent-%COMP%]{flex:100%;order:-1;margin-bottom:16px}}"]});let o=t;return o})();var Di=["documentUpload"];function Ii(o,t){o&1&&(l(0,"nx-error"),s(1,"Required!"),a())}function Vi(o,t){o&1&&(l(0,"nx-error"),s(1,"An error occured while uploading."),a())}function Bi(o,t){if(o&1&&(l(0,"div"),s(1),a()),o&2){let p=I().$implicit;d(),q(' "',p.filename,'" could not be uploaded. The supported extensions us PNG. ')}}function ki(o,t){if(o&1&&(l(0,"div"),s(1),a()),o&2){let p=I().$implicit;d(),Fe(' "',p.filename,'" could not be uploaded. max file size is ',p.max,". ")}}function Pi(o,t){if(o&1&&(l(0,"div"),s(1),a()),o&2){let p=I().$implicit;d(),q(" You cannot upload more than ",p.max," documents. ")}}function Oi(o,t){if(o&1&&(l(0,"li"),b(1,Bi,2,1,"div",7)(2,ki,2,2,"div",7)(3,Pi,2,1,"div",7),a()),o&2){let p=t.$implicit;d(),m("ngIf",p.type==="fileType"),d(),m("ngIf",p.type==="fileSize"),d(),m("ngIf",p.type==="fileNumber")}}function Li(o,t){if(o&1&&(l(0,"nx-error"),s(1," Errors: "),l(2,"ul"),b(3,Oi,4,3,"li",10),a()()),o&2){I();let p=y(2);d(3),m("ngForOf",p==null?null:p.errors)}}var jt=(()=>{let t=class t{toggleValidation(){this.disableValidator=!this.disableValidator}constructor(e,i){this.messageToastService=e,this.http=i,this.disableValidator=!1,this.uploadConfig={requestUrl:"file-upload",options:{params:new S,reportProgress:!0}},this.uploader=new B(this.uploadConfig,this.http),this.testForm=new ie({documents:new oe([],te.required)}),this._destroyed=new v}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Ne):e.error&&this.testForm.controls.documents.setErrors({serverError:!0})})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onChange(e){console.log(e)}onDelete(e){console.log(e)}};t.\u0275fac=function(i){return new(i||t)(f(M),f(N))},t.\u0275cmp=_({type:t,selectors:[["file-uploader-error-list-example"]],viewQuery:function(i,n){if(i&1&&X(Di,5),i&2){let r;H(r=A())&&(n.documentUpload=r.first)}},decls:24,vars:16,consts:[["documentUpload",""],[3,"formGroup"],["multiple","","formControlName","documents","accept","png","disableCommonValidator","","maxFileNumber","2",3,"fileDeleted","valueChange","maxFileSize","uploader","noBlockingValidators"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],[4,"ngIf"],["nxButton","primary small","type","button",3,"click","disabled","nxFileUploadTriggerFor"],["nxButton","secondary small","type","button",1,"nx-margin-top-s",3,"click"],[4,"ngFor","ngForOf"]],template:function(i,n){if(i&1){let r=k();l(0,"form",1)(1,"nx-file-uploader",2,0),U("fileDeleted",function(c){return x(r),g(n.onDelete(c))})("valueChange",function(c){return x(r),g(n.onChange(c))}),l(3,"nx-label",3),s(4,"Required file to upload"),a(),l(5,"span",4),s(6,"Maximum file size 2MB, Accept only PNG files, Maximum 2 files"),a(),l(7,"button",5),h(8,"nx-icon",6),s(9," Add File "),a(),b(10,Ii,2,0,"nx-error",7)(11,Vi,2,0,"nx-error",7)(12,Li,4,1,"nx-error",7),a()(),l(13,"button",8),U("click",function(){return x(r),g(n.testForm.controls.documents.setErrors({serverError:!1}))}),s(14,` Upload files
`),a(),h(15,"br"),l(16,"button",9),U("click",function(){return x(r),g(n.toggleValidation())}),s(17),a(),l(18,"pre"),s(19),ee(20,"json"),h(21,"br"),s(22),ee(23,"json"),a()}if(i&2){let r=y(2);m("formGroup",n.testForm),d(),_e("maxFileSize",2*1024*1024),m("uploader",n.uploader)("noBlockingValidators",n.disableValidator),d(9),m("ngIf",n.testForm.controls.documents.hasError("required")),d(),m("ngIf",n.testForm.controls.documents.hasError("serverError")),d(),m("ngIf",r==null||r.errors==null?null:r.errors.length),d(),m("disabled",!n.testForm.valid)("nxFileUploadTriggerFor",r),d(4),q(" Toggle Disable validator (",n.disableValidator,`)
`),d(2),q("validators: ",re(20,12,n.testForm.controls.documents.errors),`
`),d(3),q(`
errors property: `,re(23,14,r==null?null:r.errors),`
`)}},dependencies:[D,w,V,z,E,P,F,T,ve,O,G,L,R,Q,ne,de],changeDetection:0});let o=t;return o})();var zi={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},Rt=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new S,reportProgress:!0}},this.uploader=new B(this.uploadConfig,this.http),this._destroyed=new v}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",zi):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}};t.\u0275fac=function(i){return new(i||t)(f(M),f(N))},t.\u0275cmp=_({type:t,selectors:[["file-uploader-drop-zone-example"]],decls:14,vars:3,consts:[["documentUpload",""],["multiple","",3,"uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],[1,"nx-margin-bottom-m"],["nxCopytext","",1,"nx-margin-right-2xs","nx-hidden-xs","nx-hidden-s"],["nxButton","primary small-medium","type","button","nxFileUploadButton",""],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"nxFileUploadTriggerFor","disabled"]],template:function(i,n){if(i&1&&(l(0,"nx-file-uploader",1,0)(2,"nx-label",2),s(3,"Select a file to upload"),a(),l(4,"span",3),s(5,"Multiple files can be selected"),a(),l(6,"nx-file-uploader-drop-zone",4)(7,"span",5),s(8,"Drag your files here to"),a(),l(9,"button",6),h(10,"nx-icon",7),s(11," Add File "),a()()(),l(12,"button",8),s(13,` Upload files
`),a()),i&2){let r=y(1);m("uploader",n.uploader),d(12),m("nxFileUploadTriggerFor",r)("disabled",!(r.value!=null&&r.value.length))}},dependencies:[D,w,V,ge,E,P,F,T,Dt]});let o=t;return o})();var qi=["documentUpload"];function Hi(o,t){o&1&&(l(0,"nx-error"),s(1,"Required!"),a())}function Ai(o,t){o&1&&(l(0,"nx-error"),s(1,"An error occured while uploading."),a())}function ji(o,t){if(o&1&&(l(0,"div"),s(1),a()),o&2){let p=I().$implicit;d(),q(' "',p.filename,'" could not be uploaded. The supported extensions us PNG. ')}}function Ri(o,t){if(o&1&&(l(0,"div"),s(1),a()),o&2){let p=I().$implicit;d(),Fe(' "',p.filename,'" could not be uploaded. max file size is ',p.max,". ")}}function Gi(o,t){if(o&1&&(l(0,"div"),s(1),a()),o&2){let p=I().$implicit;d(),q(" You cannot upload more than ",p.max," documents. ")}}function Qi(o,t){if(o&1&&(l(0,"li"),b(1,ji,2,1,"div",7)(2,Ri,2,2,"div",7)(3,Gi,2,1,"div",7),a()),o&2){let p=t.$implicit;d(),m("ngIf",p.type==="fileType"),d(),m("ngIf",p.type==="fileSize"),d(),m("ngIf",p.type==="fileNumber")}}function Wi(o,t){if(o&1&&(l(0,"nx-error"),s(1," Errors: "),l(2,"ul"),b(3,Qi,4,3,"li",9),a()()),o&2){I();let p=y(2);d(3),m("ngForOf",p==null?null:p.errors)}}var Gt=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new S,reportProgress:!0}},this.uploader=new B(this.uploadConfig,this.http),this.testForm=new ie({documents:new oe([],te.required)}),this._destroyed=new v}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Ne):e.error&&this.testForm.controls.documents.setErrors({serverError:!0})})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onChange(e){console.log(e)}onDelete(e){console.log(e)}};t.\u0275fac=function(i){return new(i||t)(f(M),f(N))},t.\u0275cmp=_({type:t,selectors:[["file-uploader-error-list-example"]],viewQuery:function(i,n){if(i&1&&X(qi,5),i&2){let r;H(r=A())&&(n.documentUpload=r.first)}},decls:15,vars:9,consts:[["documentUpload",""],[3,"formGroup"],["multiple","","formControlName","documents","accept","png","disableCommonValidator","","maxFileNumber","2",3,"fileDeleted","valueChange","maxFileSize","uploader","noBlockingValidators"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],[4,"ngIf"],["nxButton","primary small","type","button",3,"click","disabled","nxFileUploadTriggerFor"],[4,"ngFor","ngForOf"]],template:function(i,n){if(i&1){let r=k();l(0,"form",1)(1,"nx-file-uploader",2,0),U("fileDeleted",function(c){return x(r),g(n.onDelete(c))})("valueChange",function(c){return x(r),g(n.onChange(c))}),l(3,"nx-label",3),s(4,"Required file to upload"),a(),l(5,"span",4),s(6,"Maximum file size 2MB, Accept only PNG files, Maximum 2 files"),a(),l(7,"button",5),h(8,"nx-icon",6),s(9," Add File "),a(),b(10,Hi,2,0,"nx-error",7)(11,Ai,2,0,"nx-error",7)(12,Wi,4,1,"nx-error",7),a()(),l(13,"button",8),U("click",function(){return x(r),g(n.testForm.controls.documents.setErrors({serverError:!1}))}),s(14,` Upload files
`),a()}if(i&2){let r=y(2);m("formGroup",n.testForm),d(),_e("maxFileSize",2*1024*1024),m("uploader",n.uploader)("noBlockingValidators",!0),d(9),m("ngIf",n.testForm.controls.documents.hasError("required")),d(),m("ngIf",n.testForm.controls.documents.hasError("serverError")),d(),m("ngIf",r==null||r.errors==null?null:r.errors.length),d(),m("disabled",!n.testForm.valid)("nxFileUploadTriggerFor",r)}},dependencies:[D,w,V,z,E,P,F,T,ve,O,G,L,R,Q,ne],changeDetection:0});let o=t;return o})();var Zi={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},Qt=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new S,reportProgress:!0}},this.uploader=new B(this.uploadConfig,this.http),this._destroyed=new v}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Zi):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}};t.\u0275fac=function(i){return new(i||t)(f(M),f(N))},t.\u0275cmp=_({type:t,selectors:[["file-uploader-expert-example"]],decls:11,vars:3,consts:[["documentUpload",""],["multiple","",3,"uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary small-medium","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"nxFileUploadTriggerFor","disabled"]],template:function(i,n){if(i&1&&(l(0,"nx-file-uploader",1,0)(2,"nx-label",2),s(3,"Select a file to upload"),a(),l(4,"span",3),s(5,"Multiple files can be selected"),a(),l(6,"button",4),h(7,"nx-icon",5),s(8," Add File "),a()(),l(9,"button",6),s(10,` Upload
`),a()),i&2){let r=y(1);m("uploader",n.uploader),d(9),m("nxFileUploadTriggerFor",r)("disabled",!(r.value!=null&&r.value.length))}},dependencies:[D,w,V,E,P,F,T]});let o=t;return o})();var $i=(()=>{let t=class t extends Se{constructor(){super(...arguments),this.uploadingLabel="T\xE9l\xE9chargement",this.deleteLabel="Supprimer",this.uploadedStateLabel="T\xE9l\xE9charg\xE9",this.uploadedListLabel="Liste des fichiers t\xE9l\xE9charg\xE9s"}};t.\u0275fac=(()=>{let e;return function(n){return(e||(e=at(t)))(n||t)}})(),t.\u0275prov=Me({token:t,factory:t.\u0275fac});let o=t;return o})(),Ji={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},Wt=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new S,reportProgress:!0}},this.uploader=new B(this.uploadConfig,this.http),this._destroyed=new v}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Ji):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}};t.\u0275fac=function(i){return new(i||t)(f(M),f(N))},t.\u0275cmp=_({type:t,selectors:[["file-uploader-intl-example"]],features:[Be([{provide:Se,useClass:$i}])],decls:11,vars:3,consts:[["documentUpload",""],["multiple","",3,"uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"disabled","nxFileUploadTriggerFor"]],template:function(i,n){if(i&1&&(l(0,"nx-file-uploader",1,0)(2,"nx-label",2),s(3,"Select a file to upload"),a(),l(4,"span",3),s(5,"Multiple files can be selected"),a(),l(6,"button",4),h(7,"nx-icon",5),s(8," Add File "),a()(),l(9,"button",6),s(10,` Upload files
`),a()),i&2){let r=y(1);m("uploader",n.uploader),d(9),m("disabled",!(r.value!=null&&r.value.length))("nxFileUploadTriggerFor",r)}},dependencies:[D,w,V,E,P,F,T]});let o=t;return o})();function Yi(o,t){o&1&&(l(0,"li"),s(1," Required! "),a())}function Ki(o,t){if(o&1&&(l(0,"li"),s(1),ee(2,"json"),ee(3,"json"),a()),o&2){let p=I(2);d(),Fe(" There were ",re(2,2,p.testForm.controls.documents.getError("NxFileUploadMaxFileNumber").actual)," files added, but the maximum is ",re(3,4,p.testForm.controls.documents.getError("NxFileUploadMaxFileNumber").max)," ")}}function Xi(o,t){if(o&1&&(l(0,"nx-error")(1,"div",9),s(2,"Error"),a(),l(3,"ul"),b(4,Yi,2,0,"li",7)(5,Ki,4,6,"li",7),a()()),o&2){let p=I();d(4),m("ngIf",p.testForm.controls.documents.hasError("required")),d(),m("ngIf",p.testForm.controls.documents.hasError("NxFileUploadMaxFileNumber"))}}var eo={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},Zt=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new S,reportProgress:!0}},this.uploader=new B(this.uploadConfig,this.http),this.testForm=new ie({documents:new oe([],te.required)}),this._destroyed=new v}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",eo):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onChange(e){console.log(e)}onDelete(e){console.log(e)}};t.\u0275fac=function(i){return new(i||t)(f(M),f(N))},t.\u0275cmp=_({type:t,selectors:[["file-uploader-max-file-number-example"]],decls:13,vars:5,consts:[["documentUpload",""],[3,"formGroup"],["multiple","","formControlName","documents","maxFileNumber","3",3,"fileDeleted","valueChange","uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],[4,"ngIf"],["nxButton","secondary small","type","button",3,"click","disabled","nxFileUploadTriggerFor"],[1,"nx-font-weight-bold"]],template:function(i,n){if(i&1){let r=k();l(0,"form",1)(1,"nx-file-uploader",2,0),U("fileDeleted",function(c){return x(r),g(n.onDelete(c))})("valueChange",function(c){return x(r),g(n.onChange(c))}),l(3,"nx-label",3),s(4,"Required file to upload"),a(),l(5,"span",4),s(6,"Maximum number of 3 files"),a(),l(7,"button",5),h(8,"nx-icon",6),s(9," Add File "),a(),b(10,Xi,6,2,"nx-error",7),a()(),l(11,"button",8),U("click",function(){return x(r),g(n.testForm.controls.documents.setErrors({serverError:!1}))}),s(12,` Upload files
`),a()}if(i&2){let r=y(2);m("formGroup",n.testForm),d(),m("uploader",n.uploader),d(9),m("ngIf",n.testForm.controls.documents==null?null:n.testForm.controls.documents.errors),d(),m("disabled",!n.testForm.valid)("nxFileUploadTriggerFor",r)}},dependencies:[D,w,V,z,E,P,F,T,O,G,L,R,Q,ne,de]});let o=t;return o})();var to={duration:3e3,context:"success",announcementMessage:"Yay, you see a success message toast"},$t=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new S,reportProgress:!0}},this.uploader=new B(this.uploadConfig,this.http),this.testForm=new ie({documents:new oe([],te.required)}),this._destroyed=new v}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",to):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}};t.\u0275fac=function(i){return new(i||t)(f(M),f(N))},t.\u0275cmp=_({type:t,selectors:[["file-uploader-reactive-example"]],decls:14,vars:4,consts:[["documentUpload",""],[3,"formGroup"],["formControlName","documents","required","","accept","image/jpeg, image/x-png, image/png","multiple","",3,"uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"disabled","nxFileUploadTriggerFor"]],template:function(i,n){if(i&1&&(l(0,"form",1)(1,"nx-file-uploader",2,0)(3,"nx-label",3),s(4,"Required file to upload"),a(),l(5,"span",4),s(6,"Only JPG or PNG files are accepted."),a(),l(7,"button",5),h(8,"nx-icon",6),s(9," Add File "),a(),l(10,"nx-error"),s(11,"Required!"),a()(),l(12,"button",7),s(13," Upload files "),a()()),i&2){let r=y(2);m("formGroup",n.testForm),d(),m("uploader",n.uploader),d(11),m("disabled",!n.testForm.valid)("nxFileUploadTriggerFor",r)}},dependencies:[D,w,V,z,E,P,F,T,G,L,R,Ct,Q,ne]});let o=t;return o})();function oo(o,t){o&1&&(l(0,"nx-error"),s(1," An error occured while uploading. "),a())}var no={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},Jt=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new S,reportProgress:!0},uploadSeparately:!0},this.uploader=new B(this.uploadConfig,this.http),this.showUploadError=!1,this._destroyed=new v}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",no):this.showUploadError=!0})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}};t.\u0275fac=function(i){return new(i||t)(f(M),f(N))},t.\u0275cmp=_({type:t,selectors:[["file-uploader-separate-requests-example"]],decls:20,vars:6,consts:[["documentUpload",""],["multiple","",3,"uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],[4,"ngIf"],["variant","small",3,"ngModelChange","ngModel"],["value","file-upload"],["value","file-upload-error"],["nxButton","secondary small","type","button",3,"click","disabled","nxFileUploadTriggerFor"]],template:function(i,n){if(i&1){let r=k();l(0,"nx-file-uploader",1,0)(2,"nx-label",2),s(3,"Select a file to upload"),a(),l(4,"span",3),s(5,"Multiple files can be selected"),a(),l(6,"button",4),h(7,"nx-icon",5),s(8," Add File "),a()(),b(9,oo,2,0,"nx-error",6),l(10,"p"),s(11),a(),l(12,"nx-radio-toggle",7),se("ngModelChange",function(c){return x(r),ae(n.uploadConfig.requestUrl,c)||(n.uploadConfig.requestUrl=c),g(c)}),l(13,"nx-radio-toggle-button",8),s(14,"Valid url"),a(),l(15,"nx-radio-toggle-button",9),s(16,"Invalid url"),a()(),h(17,"br"),l(18,"button",10),U("click",function(){return x(r),g(n.showUploadError=!1)}),s(19,` Upload files
`),a()}if(i&2){let r=y(1);m("uploader",n.uploader),d(9),m("ngIf",n.showUploadError),d(2),q(" Set url for testing the upload: ",n.uploadConfig.requestUrl==="file-upload"?"Valid url":"Invalid url",`
`),d(),le("ngModel",n.uploadConfig.requestUrl),d(6),m("disabled",!(r.value!=null&&r.value.length))("nxFileUploadTriggerFor",r)}},dependencies:[D,w,V,z,E,P,F,T,ze,qe,O,L,me]});let o=t;return o})();function ro(o,t){o&1&&(l(0,"li"),s(1," Required! "),a())}function lo(o,t){if(o&1&&(l(0,"li"),s(1),ee(2,"json"),a()),o&2){let p=I(2);d(),q(" File ",re(2,1,p.testForm.controls.documents.getError("NxFileUploadFileTypeNotAccepted").fileName)," can not be uploaded. This file type is not supported! ")}}function ao(o,t){if(o&1&&(l(0,"nx-error")(1,"div",11),s(2,"Error"),a(),l(3,"ul"),b(4,ro,2,0,"li",9)(5,lo,3,3,"li",9),a()()),o&2){let p=I();d(4),m("ngIf",p.testForm.controls.documents.hasError("required")),d(),m("ngIf",p.testForm.controls.documents.hasError("NxFileUploadFileTypeNotAccepted"))}}var so={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},Yt=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new S,reportProgress:!0}},this.stricterAcceptValidation=!0,this.uploader=new B(this.uploadConfig,this.http),this.testForm=new ie({documents:new oe([],te.required)}),this._destroyed=new v}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",so):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onChange(e){console.log(e)}onDelete(e){console.log(e)}toggleAcceptValidation(){this.stricterAcceptValidation=!this.stricterAcceptValidation}};t.\u0275fac=function(i){return new(i||t)(f(M),f(N))},t.\u0275cmp=_({type:t,selectors:[["file-uploader-strict-type-validation-example"]],decls:20,vars:7,consts:[["documentUpload",""],["nxButton","primary small",3,"click"],[3,"formGroup"],["formControlName","documents","multiple","","accept","image/png",3,"valueChange","fileDeleted","strictAcceptValidation","uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],[1,"nx-margin-bottom-m"],["nxButton","primary","type","button","nxFileUploadButton",""],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],[4,"ngIf"],["nxButton","secondary small","type","button",3,"nxFileUploadTriggerFor","disabled"],[1,"nx-font-weight-bold"]],template:function(i,n){if(i&1){let r=k();l(0,"button",1),U("click",function(){return x(r),g(n.toggleAcceptValidation())}),s(1,` Toggle strict validation
`),a(),l(2,"p"),s(3," Strict validation is: "),l(4,"strong"),s(5),a()(),l(6,"form",2)(7,"nx-file-uploader",3,0),U("valueChange",function(c){return x(r),g(n.onChange(c))})("fileDeleted",function(c){return x(r),g(n.onDelete(c))}),l(9,"nx-label",4),s(10,"Required file to upload"),a(),l(11,"span",5),s(12,"Only *.png files are allowed"),a(),l(13,"nx-file-uploader-drop-zone",6)(14,"button",7),h(15,"nx-icon",8),s(16," Add File "),a()(),b(17,ao,6,2,"nx-error",9),a(),l(18,"button",10),s(19," Upload files "),a()()}if(i&2){let r=y(8);d(5),ye(n.stricterAcceptValidation?"on":"off"),d(),m("formGroup",n.testForm),d(),m("strictAcceptValidation",n.stricterAcceptValidation)("uploader",n.uploader),d(10),m("ngIf",n.testForm.controls.documents==null?null:n.testForm.controls.documents.errors),d(),m("nxFileUploadTriggerFor",r)("disabled",!n.testForm.valid)}},dependencies:[D,w,V,ge,z,E,P,F,T,O,G,L,R,Q,ne,de]});let o=t;return o})();var po={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},Kt=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new S,reportProgress:!0}},this.uploader=new B(this.uploadConfig,this.http),this.myFiles=[],this._destroyed=new v}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",po):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}};t.\u0275fac=function(i){return new(i||t)(f(M),f(N))},t.\u0275cmp=_({type:t,selectors:[["file-uploader-template-driven-example"]],decls:11,vars:4,consts:[["documentUpload",""],[3,"ngModelChange","ngModel","uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"nxFileUploadTriggerFor","disabled"]],template:function(i,n){if(i&1){let r=k();l(0,"nx-file-uploader",1,0),se("ngModelChange",function(c){return x(r),ae(n.myFiles,c)||(n.myFiles=c),g(c)}),l(2,"nx-label",2),s(3,"Please upload a file"),a(),l(4,"span",3),s(5,"Only one file is allowed."),a(),l(6,"button",4),h(7,"nx-icon",5),s(8," Add File "),a()(),l(9,"button",6),s(10,` Upload files
`),a()}if(i&2){let r=y(1);le("ngModel",n.myFiles),m("uploader",n.uploader),d(9),m("nxFileUploadTriggerFor",r)("disabled",r.value&&!r.value.length)}},dependencies:[D,w,V,E,P,F,T,L,me]});let o=t;return o})();function mo(o,t){o&1&&(l(0,"li"),s(1," Required! "),a())}function uo(o,t){if(o&1&&(l(0,"li"),s(1),ee(2,"json"),a()),o&2){let p=I(2);d(),q(" File ",re(2,1,p.testForm.controls.documents.getError("NxFileUploadFileTypeNotAccepted").fileName)," can not be uploaded. This file type is not supported! ")}}function co(o,t){if(o&1&&(l(0,"nx-error")(1,"div",10),s(2,"Error"),a(),l(3,"ul"),b(4,mo,2,0,"li",8)(5,uo,3,3,"li",8),a()()),o&2){let p=I();d(4),m("ngIf",p.testForm.controls.documents.hasError("required")),d(),m("ngIf",p.testForm.controls.documents.hasError("NxFileUploadFileTypeNotAccepted"))}}var fo={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},Xt=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new S,reportProgress:!0}},this.uploader=new B(this.uploadConfig,this.http),this.testForm=new ie({documents:new oe([],te.required)}),this._destroyed=new v}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",fo):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onChange(e){console.log(e)}onDelete(e){console.log(e)}};t.\u0275fac=function(i){return new(i||t)(f(M),f(N))},t.\u0275cmp=_({type:t,selectors:[["file-uploader-type-validation-example"]],decls:14,vars:5,consts:[["documentUpload",""],[3,"formGroup"],["formControlName","documents","multiple","","accept","image/png",3,"valueChange","fileDeleted","uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],[1,"nx-margin-bottom-m"],["nxButton","primary","type","button","nxFileUploadButton",""],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],[4,"ngIf"],["nxButton","secondary small","type","button",3,"nxFileUploadTriggerFor","disabled"],[1,"nx-font-weight-bold"]],template:function(i,n){if(i&1){let r=k();l(0,"form",1)(1,"nx-file-uploader",2,0),U("valueChange",function(c){return x(r),g(n.onChange(c))})("fileDeleted",function(c){return x(r),g(n.onDelete(c))}),l(3,"nx-label",3),s(4,"Required file to upload"),a(),l(5,"span",4),s(6,"Only *.png files are allowed"),a(),l(7,"nx-file-uploader-drop-zone",5)(8,"button",6),h(9,"nx-icon",7),s(10," Add File "),a()(),b(11,co,6,2,"nx-error",8),a(),l(12,"button",9),s(13," Upload files "),a()()}if(i&2){let r=y(2);m("formGroup",n.testForm),d(),m("uploader",n.uploader),d(10),m("ngIf",n.testForm.controls.documents==null?null:n.testForm.controls.documents.errors),d(),m("nxFileUploadTriggerFor",r)("disabled",!n.testForm.valid)}},dependencies:[D,w,V,ge,z,E,P,F,T,O,G,L,R,Q,ne,de]});let o=t;return o})();function xo(o,t){o&1&&(l(0,"li"),s(1," Required! "),a())}function go(o,t){o&1&&(l(0,"li"),s(1," An error occured while uploading. "),a())}function ho(o,t){if(o&1&&(l(0,"li"),s(1),ee(2,"json"),a()),o&2){let p=I(2);d(),q(" File ",re(2,1,p.testForm.controls.documents.getError("NxFileUploadMaxFileSize").fileName)," can not be uploaded. File size exceeds size limit! ")}}function _o(o,t){if(o&1&&(l(0,"nx-error")(1,"div",12),s(2,"Error"),a(),l(3,"ul"),b(4,xo,2,0,"li",7)(5,go,2,0,"li",7)(6,ho,3,3,"li",7),a()()),o&2){let p=I();d(4),m("ngIf",p.testForm.controls.documents.hasError("required")),d(),m("ngIf",p.testForm.controls.documents.hasError("serverError")),d(),m("ngIf",p.testForm.controls.documents.hasError("NxFileUploadMaxFileSize"))}}var Co={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},ei=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new S,reportProgress:!0}},this.uploader=new B(this.uploadConfig,this.http),this.testForm=new ie({documents:new oe([],te.required)}),this._destroyed=new v}ngOnInit(){this.uploader.response.pipe(C(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Co):e.error&&this.testForm.controls.documents.setErrors({serverError:!0})})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onChange(e){console.log(e)}onDelete(e){console.log(e)}};t.\u0275fac=function(i){return new(i||t)(f(M),f(N))},t.\u0275cmp=_({type:t,selectors:[["file-uploader-validation-example"]],decls:21,vars:8,consts:[["documentUpload",""],[3,"formGroup"],["multiple","","formControlName","documents",3,"fileDeleted","valueChange","maxFileSize","uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],[4,"ngIf"],["variant","small",3,"ngModelChange","ngModel"],["value","file-upload"],["value","file-upload-error"],["nxButton","secondary small","type","button",3,"click","disabled","nxFileUploadTriggerFor"],[1,"nx-font-weight-bold"]],template:function(i,n){if(i&1){let r=k();l(0,"form",1)(1,"nx-file-uploader",2,0),U("fileDeleted",function(c){return x(r),g(n.onDelete(c))})("valueChange",function(c){return x(r),g(n.onChange(c))}),l(3,"nx-label",3),s(4,"Required file to upload"),a(),l(5,"span",4),s(6,"Maximum file size 2MB"),a(),l(7,"button",5),h(8,"nx-icon",6),s(9," Add File "),a(),b(10,_o,7,3,"nx-error",7),a()(),l(11,"p"),s(12),a(),l(13,"nx-radio-toggle",8),se("ngModelChange",function(c){return x(r),ae(n.uploadConfig.requestUrl,c)||(n.uploadConfig.requestUrl=c),g(c)}),l(14,"nx-radio-toggle-button",9),s(15,"Valid url"),a(),l(16,"nx-radio-toggle-button",10),s(17,"Invalid url"),a()(),h(18,"br"),l(19,"button",11),U("click",function(){return x(r),g(n.testForm.controls.documents.setErrors({serverError:!1}))}),s(20,` Upload files
`),a()}if(i&2){let r=y(2);m("formGroup",n.testForm),d(),_e("maxFileSize",2*1024*1024),m("uploader",n.uploader),d(9),m("ngIf",n.testForm.controls.documents.errors),d(2),q(" Set url for testing the upload: ",n.uploadConfig.requestUrl==="file-upload"?"Valid url":"Invalid url",`
`),d(),le("ngModel",n.uploadConfig.requestUrl),d(6),m("disabled",!n.testForm.valid)("nxFileUploadTriggerFor",r)}},dependencies:[D,w,V,z,E,P,F,T,ze,qe,O,G,L,R,me,Q,ne,de]});let o=t;return o})();var yo=["documentUpload"];function Fo(o,t){o&1&&(l(0,"nx-error"),s(1," An error occured while uploading. "),a())}var vo={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},ti=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.showUploadError=!1}upload(e){if(this.showUploadError=!1,!this.documentUpload.value)return;let i=new FormData;this.documentUpload.value.forEach(u=>{u.isUploaded||(u.setUploadingState(),i.append("uploads[]",u.file,u.name))});let r={params:new S,reportProgress:!0};this.http.post(e,i,r).subscribe(u=>{this.documentUpload.value.forEach(c=>{c.setUploadedState()}),this.messageToastService.open("All files were uploaded successfully!",vo)},u=>{this.documentUpload.value.forEach(c=>{c.isUploaded||c.setErrorState()}),this.showUploadError=!0})}};t.\u0275fac=function(i){return new(i||t)(f(M),f(N))},t.\u0275cmp=_({type:t,selectors:[["file-uploader-with-request-example"]],viewQuery:function(i,n){if(i&1&&X(yo,5),i&2){let r;H(r=A())&&(n.documentUpload=r.first)}},decls:14,vars:3,consts:[["documentUpload",""],["multiple",""],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],[4,"ngIf"],["nxButton","secondary small","type","button",1,"nx-margin-right-2xs",3,"click","disabled"],["nxButton","secondary small","type","button",3,"click","disabled"]],template:function(i,n){if(i&1){let r=k();l(0,"nx-file-uploader",1,0)(2,"nx-label",2),s(3,"Select a file to upload"),a(),l(4,"span",3),s(5,"Multiple files can be selected"),a(),l(6,"button",4),h(7,"nx-icon",5),s(8," Add File "),a()(),b(9,Fo,2,0,"nx-error",6),l(10,"button",7),U("click",function(){return x(r),g(n.upload("file-upload"))}),s(11,` Upload files
`),a(),l(12,"button",8),U("click",function(){return x(r),g(n.upload("file-upload-error"))}),s(13,` Upload files (and get an error)
`),a()}if(i&2){let r=y(1);d(9),m("ngIf",n.showUploadError),d(),m("disabled",!(r.value!=null&&r.value.length)),d(2),m("disabled",!(r.value!=null&&r.value.length))}},dependencies:[D,w,V,z,E,F,T,O]});let o=t;return o})();var tl=(()=>{let t=class t{static components(){return{"file-uploader-error-list":Gt,"file-uploader-auto":qt,"file-uploader-basic":Ht,"file-uploader-drop-zone":Rt,"file-uploader-intl":Wt,"file-uploader-reactive":$t,"file-uploader-separate-requests":Jt,"file-uploader-template-driven":Kt,"file-uploader-type-validation":Xt,"file-uploader-validation":ei,"file-uploader-with-request":ti,"file-uploader-max-file-number":Zt,"file-uploader-custom-item":At,"file-uploader-expert":Qt,"file-uploader-strict-type-validation":Yt,"file-uploader-disable-common-validators":jt}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Ie({type:t}),t.\u0275inj=De({imports:[zt,Le,Pt,Oe,Vt,It,wt,Nt,vt]});let o=t;return o})();export{tl as FileExamplesModule};
