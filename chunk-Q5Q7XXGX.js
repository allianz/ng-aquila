import{a as N,b as h}from"./chunk-EM5ZJKOD.js";import{A as L}from"./chunk-4SPEH3W5.js";import{Ac as M,Cc as y,Db as p,Dc as x,Ec as C,Jc as a,Kc as l,Lc as c,Na as m,Pb as b,Qb as f,Qc as S,Rc as E,Vb as v,kc as g,ma as u,pc as s,qc as r,rc as w,ub as _,xb as d}from"./chunk-K4YNUXTC.js";var P=["element"],W=["scrollable"],I=["indicator"],O=["*"];function Q(i,k){if(i&1&&(s(0,"div",4),S(1),r()),i&2){let t=y();d(),E(t.label)}}var X=(()=>{class i{constructor(t){this.zone=t,this._barLength=0,this._position=0,this._startX=0,this._mousedown=!1,this._showBar=!1,this.label="",this._onMousedown=this._onMousedown.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onMouseup=this._onMouseup.bind(this),this._onScroll=this._onScroll.bind(this),console.warn("The SwipeBar component is deprecated. Please use native scroll bars instead.")}ngAfterViewInit(){this._onResize(),this.zone.runOutsideAngular(()=>{this._scrollable.nativeElement.addEventListener("scroll",this._onScroll),this._indicator.nativeElement.addEventListener("mousedown",this._onMousedown)})}_onResize(){if(!this._scrollable)return;let{scrollWidth:t,offsetWidth:e}=this._scrollable.nativeElement;this._showBar=t>e,this._barLength=Math.max(80,e/t*e),this._updateIndicator()}_onScroll(t){if(this._mousedown)return;let e=t.target,{scrollWidth:n,clientWidth:o}=this._scrollable.nativeElement;this._position=Math.floor(e.scrollLeft/(n-o)*(e.offsetWidth-this._barLength)),this._updateIndicator()}_onMousedown(t){this._startX=t.clientX,this._mousedown=!0,document.addEventListener("mousemove",this._onMousemove),document.addEventListener("mouseup",this._onMouseup)}_onMousemove(t){let{offsetWidth:e}=this._scrollable.nativeElement;this._position=Math.max(0,Math.min(e-this._barLength,this._position+t.clientX-this._startX)),this._startX=t.clientX,this._updateScrollablePosition(),this._updateIndicator()}_onMouseup(){document.removeEventListener("mousemove",this._onMousemove),document.removeEventListener("mouseup",this._onMouseup),this._mousedown=!1}_updateScrollablePosition(){requestAnimationFrame(()=>{let{scrollWidth:t,clientWidth:e,offsetWidth:n}=this._scrollable.nativeElement;this._scrollable.nativeElement.scrollLeft=this._position/(n-this._barLength)*(t-e)})}_updateIndicator(){requestAnimationFrame(()=>{this._element.nativeElement.style.display=this._showBar?"block":"none",this._indicator.nativeElement.style.transform=`translateX(${this._position}px)`,this._indicator.nativeElement.style.width=`${this._barLength}px`})}static{this.\u0275fac=function(e){return new(e||i)(p(m))}}static{this.\u0275cmp=b({type:i,selectors:[["nx-swipebar"]],viewQuery:function(e,n){if(e&1&&(a(P,5),a(W,5),a(I,5)),e&2){let o;l(o=c())&&(n._element=o.first),l(o=c())&&(n._scrollable=o.first),l(o=c())&&(n._indicator=o.first)}},hostBindings:function(e,n){e&1&&M("resize",function(){return n._onResize()},!1,_)},inputs:{label:"label"},ngContentSelectors:O,decls:9,vars:1,consts:[["element",""],["indicator",""],["scrollable",""],["aria-hidden","true"],["nxCopytext","",1,"label"],[1,"bar"],[1,"indicator"],[1,"scrollable"]],template:function(e,n){e&1&&(x(),s(0,"div",3,0),v(2,Q,2,1,"div",4),s(3,"div",5),w(4,"div",6,1),r()(),s(6,"div",7,2),C(8),r()),e&2&&(d(2),g(n.label?2:-1))},dependencies:[h,N],styles:['[_nghost-%COMP%]{display:block}.label[_ngcontent-%COMP%]{margin-bottom:12px}.scrollable[_ngcontent-%COMP%]{overflow:auto;padding:var(--swipebar-padding);scrollbar-width:none}.scrollable[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.bar[_ngcontent-%COMP%]{background:var(--swipebar-background-color)}.indicator[_ngcontent-%COMP%]{position:relative;height:8px;background:var(--swipebar-color);cursor:grab;transform:translate(0)}.indicator[_ngcontent-%COMP%]:active{cursor:grabbing}.indicator[_ngcontent-%COMP%]:before{content:"";position:absolute;display:block;inset:-8px 0}'],changeDetection:0})}}return i})(),j=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275mod=f({type:i})}static{this.\u0275inj=u({imports:[L,h,X]})}}return i})();export{X as a,j as b};
