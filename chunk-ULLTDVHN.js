import{a as P,b as W}from"./chunk-K3SDRKSK.js";import{B as I,o as S}from"./chunk-EDQQKHAX.js";import{Ac as c,Bb as b,Cc as d,Gb as v,Mb as g,Nb as r,Ob as a,Pb as M,Wa as p,_b as w,ac as y,bc as C,cc as x,hc as E,ic as L,ma as u,ua as m,ub as h,va as _,vb as f,zc as l}from"./chunk-H42V67ZX.js";var N=["element"],Q=["scrollable"],X=["indicator"];function k(o,i){if(o&1&&(r(0,"div",8),E(1),a()),o&2){let O=y();h(1),L(O.label)}}var z=["*"],A=(()=>{let i=class i{constructor(e){this.zone=e,this._barLength=0,this._position=0,this._startX=0,this._mousedown=!1,this._showBar=!1,this.label="",this._onMousedown=this._onMousedown.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onMouseup=this._onMouseup.bind(this),this._onScroll=this._onScroll.bind(this)}ngAfterViewInit(){this._onResize(),this.zone.runOutsideAngular(()=>{this._scrollable.nativeElement.addEventListener("scroll",this._onScroll),this._indicator.nativeElement.addEventListener("mousedown",this._onMousedown)})}_onResize(){if(!this._scrollable)return;let{scrollWidth:e,offsetWidth:t}=this._scrollable.nativeElement;this._showBar=e>t,this._barLength=Math.max(80,t/e*t),this._updateIndicator()}_onScroll(e){if(this._mousedown)return;let t=e.target,{scrollWidth:n,clientWidth:s}=this._scrollable.nativeElement;this._position=Math.floor(t.scrollLeft/(n-s)*(t.offsetWidth-this._barLength)),this._updateIndicator()}_onMousedown(e){this._startX=e.clientX,this._mousedown=!0,document.addEventListener("mousemove",this._onMousemove),document.addEventListener("mouseup",this._onMouseup)}_onMousemove(e){let{offsetWidth:t}=this._scrollable.nativeElement;this._position=Math.max(0,Math.min(t-this._barLength,this._position+e.clientX-this._startX)),this._startX=e.clientX,this._updateScrollablePosition(),this._updateIndicator()}_onMouseup(){document.removeEventListener("mousemove",this._onMousemove),document.removeEventListener("mouseup",this._onMouseup),this._mousedown=!1}_updateScrollablePosition(){requestAnimationFrame(()=>{let{scrollWidth:e,clientWidth:t,offsetWidth:n}=this._scrollable.nativeElement;this._scrollable.nativeElement.scrollLeft=this._position/(n-this._barLength)*(e-t)})}_updateIndicator(){requestAnimationFrame(()=>{this._element.nativeElement.style.display=this._showBar?"block":"none",this._indicator.nativeElement.style.transform=`translateX(${this._position}px)`,this._indicator.nativeElement.style.width=`${this._barLength}px`})}};i.\u0275fac=function(t){return new(t||i)(f(b))},i.\u0275cmp=m({type:i,selectors:[["nx-swipebar"]],viewQuery:function(t,n){if(t&1&&(c(N,5),c(Q,5),c(X,5)),t&2){let s;l(s=d())&&(n._element=s.first),l(s=d())&&(n._scrollable=s.first),l(s=d())&&(n._indicator=s.first)}},hostBindings:function(t,n){t&1&&w("resize",function(){return n._onResize()},!1,p)},inputs:{label:"label"},ngContentSelectors:z,decls:9,vars:1,consts:[["aria-hidden","true"],["element",""],["class","label","nxCopytext","",4,"ngIf"],[1,"bar"],[1,"indicator"],["indicator",""],[1,"scrollable"],["scrollable",""],["nxCopytext","",1,"label"]],template:function(t,n){t&1&&(C(),r(0,"div",0,1),g(2,k,2,1,"div",2),r(3,"div",3),M(4,"div",4,5),a()(),r(6,"div",6,7),x(8),a()),t&2&&(h(2),v("ngIf",n.label))},dependencies:[S,P],styles:['[_nghost-%COMP%]{display:block}.label[_ngcontent-%COMP%]{margin-bottom:12px}.scrollable[_ngcontent-%COMP%]{overflow:auto;padding:var(--swipebar-padding);scrollbar-width:none}.scrollable[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.bar[_ngcontent-%COMP%]{background:var(--swipebar-background-color)}.indicator[_ngcontent-%COMP%]{position:relative;height:8px;background:var(--swipebar-color);cursor:grab;transform:translate(0)}.indicator[_ngcontent-%COMP%]:active{cursor:grabbing}.indicator[_ngcontent-%COMP%]:before{content:"";position:absolute;display:block;inset:-8px 0}'],changeDetection:0});let o=i;return o})(),F=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=_({type:i}),i.\u0275inj=u({imports:[I,W]});let o=i;return o})();export{A as a,F as b};
