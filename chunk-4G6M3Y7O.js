import{A as fe,H as W,I as X,n as I,o as de,p as me,s as H,t as he,u as ue,v as pe,x as xe}from"./chunk-ORXQNIBN.js";import{h as $}from"./chunk-CYCH5DGK.js";import{c as U,e as k}from"./chunk-SSOY4R6P.js";import{c as Q,k as _e}from"./chunk-P7HYBCKR.js";import{b as Ce}from"./chunk-NEM4VVWP.js";import{y as ge}from"./chunk-P6JKCIKX.js";import{$b as ae,Ac as L,Ba as te,Bc as F,Ca as ne,Cb as l,Dc as z,Ec as V,Fc as G,Jb as w,Kb as se,Lc as q,Nb as D,Nc as re,Ob as ie,Pa as oe,Pc as ce,Q as J,_b as m,a as c,bc as h,dc as u,ia as K,ic as O,ja as ee,jc as p,k as v,kc as x,la as N,lc as f,ld as le,ma as _,na as S,rb as b,sd as E,ta as j,tc as R,ua as B,xa as T,xc as A,zc as g}from"./chunk-ZUBEA7JB.js";var ve=["closeButton"],Me=["*"];function be(o,a){if(o&1&&f(0,"nx-icon",1),o&2){let e=g();O("name",e._iconName)}}function Oe(o,a){if(o&1){let e=R();p(0,"button",4,0),A("click",function(){j(e);let n=g();return B(n._emitCloseEvent())}),f(2,"nx-icon",5),x()}if(o&2){let e=g();m("aria-label",e.closeButtonLabel)}}function Pe(o,a){if(o&1&&f(0,"nx-icon",1),o&2){let e=g();O("name",e._iconName)}}function ye(o,a){if(o&1){let e=R();p(0,"button",4,0),A("click",function(){j(e);let n=g();return B(n._emitCloseEvent())}),f(2,"nx-icon",5),x()}if(o&2){let e=g();m("aria-label",e.closeButtonLabel)}}var Te="[_nghost-%COMP%]{font-size:var(--message-font-size);line-height:var(--message-line-height);font-weight:var(--message-font-weight);letter-spacing:var(--message-letter-spacing);color:var(--message-text-color);border-radius:var(--message-border-radius);width:100%;display:flex;align-items:flex-start;text-align:left;position:relative;border:1px solid;padding:23px}@media(max-width:703px){[_nghost-%COMP%]{display:block}}[dir=rtl]   [_nghost-%COMP%]{text-align:right}[_nghost-%COMP%], .context-regular[_nghost-%COMP%]{border-color:var(--message-regular-border-color);background-color:var(--message-regular-background-color)}.context-info[_nghost-%COMP%]{border-color:var(--message-info-border-color);background-color:var(--message-info-background-color)}.context-info[_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%]{color:var(--message-info-icon-color)}.context-error[_nghost-%COMP%]{border-color:var(--message-error-border-color);background-color:var(--message-error-background-color)}.context-error[_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%]{color:var(--message-error-icon-color)}.context-success[_nghost-%COMP%]{border-color:var(--message-success-border-color);background-color:var(--message-success-background-color)}.context-success[_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%]{color:var(--message-success-icon-color)}.context-warning[_nghost-%COMP%]{border-color:var(--message-warning-border-color);background-color:var(--message-warning-background-color)}.context-warning[_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%]{color:var(--message-warning-icon-color)}@media screen and (forced-colors:active){.nx-message__icon[_ngcontent-%COMP%]{color:CanvasText}}.nx-message__icon[_ngcontent-%COMP%]{margin-right:16px}@media(max-width:703px){.nx-message__icon[_ngcontent-%COMP%]{float:left;margin-right:8px}}[dir=rtl][_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%]{float:right;margin-right:initial;margin-left:16px}@media(max-width:703px){[dir=rtl][_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%]{margin-left:8px}}.nx-message--closable[_nghost-%COMP%]{padding-right:47px}[dir=rtl]   .nx-message--closable[_nghost-%COMP%]{padding-right:23px;padding-left:47px}.nx-message__close-icon[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px}[dir=rtl][_nghost-%COMP%]   .nx-message__close-icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .nx-message__close-icon[_ngcontent-%COMP%]{right:auto;left:16px}";function we(o,a){}function Ee(o,a){if(o&1&&re(0),o&2){let e=g();ce(" ",e.data.data," ")}}var Ie={info:"info-circle",error:"exclamation-triangle",success:"check-circle",warning:"exclamation-circle-warning"},Z=(()=>{class o{get _isInfo(){return this._context==="info"}get _isSuccess(){return this._context==="success"}get _isWarning(){return this._context==="warning"}get _isError(){return this._context==="error"}set context(e){this._updateContext(e)}get context(){return this._context}set closable(e){let t=Ce(e);t!==this._closable&&(this._closable=t,this._cdr.markForCheck())}get closable(){return this._closable}set closeButtonLabel(e){e!==this._closeButtonLabel&&(this._closeButtonLabel=e,this._cdr.markForCheck())}get closeButtonLabel(){return this._closeButtonLabel}get _iconName(){let e=this._allowedContexts.includes(this._context)?this._context:this._allowedContexts[0];return Ie[e]}constructor(e,t){this._cdr=e,this._focusMonitor=t,this._idGenerator=S($),this.id=le(this._idGenerator.nextId("nx-message"),{}),this._allowedContexts=["regular","info","error","warning","success"],this._context="regular",this._closable=!1,this._closeButtonLabel="Close dialog",this.closeEvent=new te}ngAfterViewInit(){this.closable&&this._focusMonitor.monitor(this._closeButton)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._closeButton)}_emitCloseEvent(){this.closeEvent.emit()}_updateContext(e){e!==this._context&&(this._context=e,this._cdr.markForCheck())}static{this.\u0275fac=function(t){return new(t||o)(l(E),l(Q))}}static{this.\u0275cmp=w({type:o,selectors:[["nx-message"]],viewQuery:function(t,n){if(t&1&&z(ve,5),t&2){let s;V(s=G())&&(n._closeButton=s.first)}},hostVars:11,hostBindings:function(t,n){t&2&&(m("id",n.id()),q("context-info",n._isInfo)("context-success",n._isSuccess)("context-warning",n._isWarning)("context-error",n._isError)("nx-message--closable",n.closable))},inputs:{id:[1,"id"],context:"context",closable:"closable",closeButtonLabel:"closeButtonLabel"},outputs:{closeEvent:"close"},exportAs:["nxMessage"],ngContentSelectors:Me,decls:4,vars:2,consts:[["closeButton",""],["size","s","aria-hidden","true",1,"nx-message__icon",3,"name"],["nxPlainButton","","tabindex","0","type","button",1,"nx-message__close-icon"],[1,"nx-message__content"],["nxPlainButton","","tabindex","0","type","button",1,"nx-message__close-icon",3,"click"],["name","close","size","s","aria-hidden","true"]],template:function(t,n){t&1&&(L(),h(0,be,1,1,"nx-icon",1),h(1,Oe,3,1,"button",2),p(2,"div",3),F(3),x()),t&2&&(u(n._iconName?0:-1),b(),u(n.closable?1:-1))},dependencies:[k,U,X,W],styles:["[_nghost-%COMP%]{font-size:var(--message-font-size);line-height:var(--message-line-height);font-weight:var(--message-font-weight);letter-spacing:var(--message-letter-spacing);color:var(--message-text-color);border-radius:var(--message-border-radius);width:100%;display:flex;align-items:flex-start;text-align:left;position:relative;border:1px solid;padding:23px}@media(max-width:703px){[_nghost-%COMP%]{display:block}}[dir=rtl]   [_nghost-%COMP%]{text-align:right}[_nghost-%COMP%], .context-regular[_nghost-%COMP%]{border-color:var(--message-regular-border-color);background-color:var(--message-regular-background-color)}.context-info[_nghost-%COMP%]{border-color:var(--message-info-border-color);background-color:var(--message-info-background-color)}.context-info[_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%]{color:var(--message-info-icon-color)}.context-error[_nghost-%COMP%]{border-color:var(--message-error-border-color);background-color:var(--message-error-background-color)}.context-error[_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%]{color:var(--message-error-icon-color)}.context-success[_nghost-%COMP%]{border-color:var(--message-success-border-color);background-color:var(--message-success-background-color)}.context-success[_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%]{color:var(--message-success-icon-color)}.context-warning[_nghost-%COMP%]{border-color:var(--message-warning-border-color);background-color:var(--message-warning-background-color)}.context-warning[_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%]{color:var(--message-warning-icon-color)}@media screen and (forced-colors:active){.nx-message__icon[_ngcontent-%COMP%]{color:CanvasText}}.nx-message__icon[_ngcontent-%COMP%]{margin-right:16px}@media(max-width:703px){.nx-message__icon[_ngcontent-%COMP%]{float:left;margin-right:8px}}[dir=rtl][_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%]{float:right;margin-right:initial;margin-left:16px}@media(max-width:703px){[dir=rtl][_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .nx-message__icon[_ngcontent-%COMP%]{margin-left:8px}}.nx-message--closable[_nghost-%COMP%]{padding-right:47px}[dir=rtl]   .nx-message--closable[_nghost-%COMP%]{padding-right:23px;padding-left:47px}.nx-message__close-icon[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px}[dir=rtl][_nghost-%COMP%]   .nx-message__close-icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .nx-message__close-icon[_ngcontent-%COMP%]{right:auto;left:16px}"],changeDetection:0})}}return o})(),ke=(()=>{class o extends Z{set context(e){this._updateContext(e)}get context(){return this._context}constructor(e,t){super(e,t),this._context="info",this._closable=!0,this._allowedContexts=["info","error","warning"]}static{this.\u0275fac=function(t){return new(t||o)(l(E),l(Q))}}static{this.\u0275cmp=w({type:o,selectors:[["nx-message-banner"]],inputs:{context:"context"},exportAs:["nxMessageBanner"],features:[D],ngContentSelectors:Me,decls:4,vars:2,consts:[["closeButton",""],["size","s","aria-hidden","true",1,"nx-message__icon",3,"name"],["nxPlainButton","","tabindex","0","type","button",1,"nx-message__close-icon"],[1,"nx-message__content"],["nxPlainButton","","tabindex","0","type","button",1,"nx-message__close-icon",3,"click"],["name","close","size","s","aria-hidden","true"]],template:function(t,n){t&1&&(L(),h(0,Pe,1,1,"nx-icon",1),h(1,ye,3,1,"button",2),p(2,"div",3),F(3),x()),t&2&&(u(n._iconName?0:-1),b(),u(n.closable?1:-1))},dependencies:[k,U,X,W],styles:[Te,"[_nghost-%COMP%]{border-radius:var(--message-banner-border-radius)}"],changeDetection:0})}}return o})(),d=class{constructor(){this.politeness="polite",this.announcementMessage="",this.duration=3e3,this.context="info",this.data=null}},y=class{constructor(a){this.data=a}},Y=(()=>{class o extends me{constructor(e,t,n,s,i){super(),this._ngZone=e,this._cdr=t,this._elementRef=n,this.config=s,this.data=i,this._destroyed=!1,this._onExit=new v,this._onEnter=new v,this._animationState="void",this._role=null,this._idGenerationService=S($),this._messageToastId=this._idGenerationService.nextId("nx-message-toast"),this._messageId=this._idGenerationService.nextId("nx-message"),this._context=this.config.context??"info",this._setAriaLabels()}attachComponentPortal(e){return this._assertNotAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._portalOutlet.attachTemplatePortal(e)}onAnimateEnter(e){let t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}enter(){setTimeout(()=>{let e=this._elementRef.nativeElement,t=e.querySelector(`#${this._messageId}`),n=e.querySelector(`#${this._messageToastId}`);t&&n&&(t.removeAttribute("aria-hidden"),n.appendChild(t))},0),this._destroyed||(this._animationState="visible",this._cdr.detectChanges(),this._cdr.markForCheck())}exit(){this._animationState="hidden",this._cdr.markForCheck(),setTimeout(()=>{this._completeExit()},300)}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_assertNotAttached(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach message toast content after content is already attached")}_setAriaLabels(){this.config.politeness==="assertive"&&!this.config.announcementMessage?this._role="alert":this.config.politeness==="off"?this._role=null:this._role="status"}static{this.\u0275fac=function(t){return new(t||o)(l(ne),l(E),l(oe),l(d),l(y))}}static{this.\u0275cmp=w({type:o,selectors:[["nx-message-toast"]],viewQuery:function(t,n){if(t&1&&z(H,7),t&2){let s;V(s=G())&&(n._portalOutlet=s.first)}},hostVars:5,hostBindings:function(t,n){t&1&&ae(function(i){return n.onAnimateEnter(i)}),t&2&&(m("role",n._role),q("nx-message-toast--visible",n._animationState==="visible")("nx-message-toast--hidden",n._animationState==="hidden"))},features:[D],decls:4,vars:5,consts:[["aria-hidden","true",3,"context","id"],["cdkPortalOutlet",""],[3,"id"]],template:function(t,n){t&1&&(p(0,"nx-message",0),ie(1,we,0,0,"ng-template",1),h(2,Ee,1,1),x(),f(3,"div",2)),t&2&&(O("context",n._context)("id",n._messageId),b(2),u(n.data?2:-1),b(),O("id",n._messageToastId),m("aria-live",n.config.politeness))},dependencies:[Z,H],styles:["[_nghost-%COMP%]{display:block;opacity:0;transform:translateY(100%);transition:opacity .3s cubic-bezier(0,0,.2,1),transform .3s cubic-bezier(0,0,.2,1)}.nx-message-toast--visible[_nghost-%COMP%]{opacity:1;transform:translateY(0)}.nx-message-toast--hidden[_nghost-%COMP%]{opacity:0;transform:translateY(200%)}nx-message[_ngcontent-%COMP%]{box-shadow:var(--message-box-shadow);max-width:352px;margin-bottom:16px}@media(max-width:703px){nx-message[_ngcontent-%COMP%]{max-width:calc(100vw - 16px)}}  .cdk-global-overlay-wrapper:has(nx-message-toast){z-index:2000!important}"]})}}return o})(),Ne=(()=>{class o{static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275mod=se({type:o})}static{this.\u0275inj=ee({imports:[ge,k,fe,he,Z,Y,ke]})}}return o})(),Se=2**31-1,P=class{constructor(a,e,t){this.toastInstance=a,this._overlayRef=e,this._componentRef=t,this._afterDismissed=new v,this._afterOpened=new v,a._onExit.pipe(J(1)).subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.toastInstance.exit(),clearTimeout(this._durationTimeoutId)}_dismissAfter(a){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(a,Se))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._afterDismissed.next(),this._afterDismissed.complete()}afterDismissed(){return this._afterDismissed.asObservable()}afterOpened(){return this.toastInstance._onEnter}},je=new N("NX_MESSAGE_TOAST_DEFAULT_CONFIG"),Be=new N("NxMessageToastComponentData"),rt=(()=>{class o{set _oldToastMessageRef(e){this._parentMessageToastService?this._parentMessageToastService._oldToastMessageRef=e:this._toastRefAtThisLevel=e}get _oldToastMessageRef(){let e=this._parentMessageToastService;return e?e._oldToastMessageRef:this._toastRefAtThisLevel}constructor(e,t,n,s,i,r){this._overlay=e,this._overlayContainer=t,this._injector=n,this._live=s,this._parentMessageToastService=i,this._defaultConfig=r,this._toastRefAtThisLevel=null,this._announcementToggle=!1,this._initializeWrapper()}_initializeWrapper(){let e=this._overlayContainer.getContainerElement();if(!e.querySelector("#nx-toast-message-region")){let t=document.createElement("div");t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true"),t.id="nx-toast-message-region",e.appendChild(t)}}open(e,t){let n=c(c(c({},new d),this._defaultConfig),t),s=this._createOverlay(n),i=this._createInjector(n,new y(e),this._injector),r=new I(Y,void 0,i),C=s.attach(r),M=new P(C.instance,s,null);return this._animateToast(M,n),this._oldToastMessageRef=M,this._oldToastMessageRef}openFromTemplate(e,t){let n=c(c(c({},new d),this._defaultConfig),t),s=this._createOverlay(n),i=this._attachToastComponent(s,n),r=new P(i,s,null),C=new de(e,null,{$implicit:n.data,toastRef:r});return i.attachTemplatePortal(C),this._animateToast(r,n),this._oldToastMessageRef=r,this._oldToastMessageRef}openFromComponent(e,t){let n=c(c(c({},new d),this._defaultConfig),t),s=this._createOverlay(n),i=this._attachToastComponent(s,n),r=new I(e,null),C=i.attachComponentPortal(r),M=new P(i,s,C);return this._animateToast(M,n),this._oldToastMessageRef=M,this._oldToastMessageRef}_attachToastComponent(e,t){let n=this._createInjector(t,null,this._injector),s=new I(Y,null,n),i=e.attach(s);return i.instance.config=t,i.instance}_createOverlay(e){let t=new ue,n=this._overlay.position().global();n.bottom("0"),n.centerHorizontally(),t.positionStrategy=n;let s=this._overlay.create(t),i=s.overlayElement.parentElement,r=this._overlayContainer.getContainerElement().querySelector("#nx-toast-message-region");return i&&r?.appendChild(i),s}_animateToast(e,t){if(e.afterDismissed().subscribe(()=>{this._oldToastMessageRef===e&&(this._oldToastMessageRef=null),t.announcementMessage&&this._live.clear()}),this._oldToastMessageRef?(this._oldToastMessageRef.afterDismissed().subscribe(()=>{e.toastInstance.enter()}),this._oldToastMessageRef.dismiss()):e.toastInstance.enter(),t.duration&&t.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(t.duration)),t.announcementMessage&&t.announcementMessage!==e.toastInstance.data?.data){let n=t.announcementMessage;this._announcementToggle=!this._announcementToggle;let s=n+(this._announcementToggle?"\u200B":"");setTimeout(()=>{this._live.announce(s,t.politeness)},100)}}_createInjector(e,t,n){return T.create({parent:n,providers:[{provide:d,useValue:e},{provide:y,useValue:t},{provide:Be,useValue:e.data}],name:"nx-message-toast__portal-injector"})}dismiss(){this._oldToastMessageRef&&this._oldToastMessageRef.dismiss()}ngOnDestroy(){this._toastRefAtThisLevel&&this._toastRefAtThisLevel.dismiss()}static{this.\u0275fac=function(t){return new(t||o)(_(xe),_(pe),_(T),_(_e),_(o,12),_(je,8))}}static{this.\u0275prov=K({token:o,factory:o.\u0275fac,providedIn:Ne})}}return o})();export{Z as a,ke as b,Ne as c,rt as d};
