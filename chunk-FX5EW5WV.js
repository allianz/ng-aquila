import{a as F,b as B}from"./chunk-FFH2IEYO.js";import{c as A,k as _}from"./chunk-K4LGKFNI.js";import{d as D,e as L,i as V,o as j}from"./chunk-GP7FEQRA.js";import{a as R}from"./chunk-ATMVZSAN.js";import{c as k,e as P}from"./chunk-AGQ4ALMF.js";import{a as S,c as f,w as T}from"./chunk-LK5X6SR6.js";import{a as d}from"./chunk-2BGO346T.js";import{B as O}from"./chunk-UUZACKYZ.js";import{Db as u,Eb as x,Gb as M,Nb as E,Yb as p,ea as m,jc as N,ma as g,mb as c,n as h,qa as y,ua as v,ub as n,va as b,wa as C,wb as w,ya as I}from"./chunk-QYP2T7PT.js";var $=new y("NX_INPUT_VALUE_ACCESSOR"),Y=["button","checkbox","file","hidden","image","radio","range","reset","submit"],K=["date","datetime","datetime-local","month","time","week"].filter(s=>f().has(s)),X=0,Ie=(()=>{let i=class i{set id(e){this._id=e||this._uid}get id(){return this._id}set value(e){e!==this.value&&(this._inputValueAccessor.value=e)}get value(){return this._inputValueAccessor.value}set readonly(e){this._readonly=d(e),this.stateChanges.next()}get readonly(){return this._readonly}setReadonly(e){this.readonly=e}set disabled(e){this._disabled=d(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get disabled(){return this.ngControl?.disabled!=null?this.ngControl.disabled:this._disabled}set required(e){this._required=d(e)}get required(){return this._required??this.ngControl?.control?.hasValidator(D.required)??!1}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea()&&f().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get type(){return this._type}set placeholder(e){this._placeholder=e}get placeholder(){return this.empty?this._placeholder:""}set updateOn(e){this._updateOn!==e&&(this._updateOn=e)}get updateOn(){return this._updateOn}constructor(e,o,t,r,l,q,H,U){this._elementRef=e,this._platform=o,this.ngControl=t,this._parentForm=r,this._parentFormGroup=l,this._errorStateMatcher=q,this._autofillMonitor=U,this._uid=`nx-input-${X++}`,this.errorState=!1,this.controlType="nx-input",this.autofilled=!1,this.stateChanges=new h,this.focused=!1,this._readonly=!1,this._disabled=!1,this._type="text",this._updateOn="change",this._destroyed=new h;let G=this.id;this.id=G,this._inputValueAccessor=H||this._elementRef.nativeElement,this._previousNativeValue=this.value,this._elementRef.nativeElement.nodeName.toLowerCase()==="textarea"&&(this.controlType="textarea")}ngOnInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).pipe(m(this._destroyed)).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}get elementRef(){return this._elementRef}_focusChanged(e){e!==this.focused&&!this.readonly&&(this.focused=e,this.stateChanges.next(),this._updateOn==="blur"&&this._detectInputChanges())}_detectInputChanges(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this._updateOn==="change"&&this._detectInputChanges()}updateErrorState(){let e=this.errorState,o=this._parentFormGroup||this._parentForm,t=this.ngControl?this.ngControl.control:null,r=this._errorStateMatcher.isErrorState(t,o);r!==e&&(this.errorState=r,this.stateChanges.next())}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}setAriaLabel(e){this._ariaLabel=e}_isBadInput(){return this._elementRef.nativeElement.validity?.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}_isNeverEmpty(){return K.includes(this._type)}_isTextarea(){let e=this._elementRef.nativeElement;return e.nodeName?e.nodeName.toLowerCase()==="textarea":!1}_validateType(){if(Y.includes(this._type))throw new Error(`Input of type '${this._type}' is not supported`)}get shouldLabelFloat(){return!!(this.focused||!this.empty||this.placeholder&&this.placeholder.length>0)}_dirtyCheckNativeValue(){let e=this.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}};i.\u0275fac=function(o){return new(o||i)(n(c),n(S),n(L,10),n(V,8),n(j,8),n(R),n($,10),n(B))},i.\u0275dir=C({type:i,selectors:[["input","nxInput",""],["textarea","nxInput",""],["select","nxInput",""]],hostVars:21,hostBindings:function(o,t){o&1&&p("focusout",function(){return t._focusChanged(!1)})("focus",function(){return t._focusChanged(!0)}),o&2&&(u("id",t.id)("disabled",t.disabled||null)("readonly",t.readonly||null)("required",t.required||null)("aria-label",t._ariaLabel||null)("aria-describedby",t._ariaDescribedby||null)("aria-invalid",t.errorState)("aria-required",t.required.toString())("placeholder",t.placeholder||null),M("c-input",!0)("nx-input",!0)("is-filled",t.empty===!1)("is-disabled",t.disabled)("has-error",t.errorState)("is-focused",t.focused))},inputs:{_ariaLabel:["nxAriaLabel","_ariaLabel"],id:"id",value:"value",readonly:"readonly",disabled:"disabled",required:"required",type:"type",placeholder:"placeholder",updateOn:"updateOn"},exportAs:["nxInput"],features:[N([{provide:A,useExisting:i},{provide:F,useExisting:i}]),I]});let s=i;return s})(),a={show:"password-show-o",hide:"password-hide-o"},we=(()=>{let i=class i{set ariaLabel(e){e!==this._ariaLabel&&(this._ariaLabel=e,this._cdr.markForCheck())}get ariaLabel(){return this._ariaLabel}constructor(e,o,t){this._cdr=e,this._elementRef=o,this._focusMonitor=t,this._currentIcon=a.show,this._pressed=!1,this._ariaLabel="Show password",this._focusMonitor.monitor(this._elementRef)}ngAfterViewInit(){if(!this.control){console.warn("You need to pass an input as a control to the password toggle.");return}this._currentIcon=this.control.type==="password"?a.show:a.hide}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}toggleInputType(){this.control&&(this.control.type=this.control.type==="password"?"text":"password",this._pressed=!this._pressed,this.toggleIcon(),this._cdr.markForCheck())}toggleIcon(){this._currentIcon=this._currentIcon===a.show?a.hide:a.show}_onKeydown(e){e&&(e.keyCode===13||e.keyCode===32)&&this.toggleInputType()}get tabindex(){return this.control?this.control.disabled?-1:0:null}};i.\u0275fac=function(o){return new(o||i)(n(w),n(c),n(T))},i.\u0275cmp=v({type:i,selectors:[["nx-password-toggle"]],hostAttrs:["role","button"],hostVars:3,hostBindings:function(o,t){o&1&&p("click",function(){return t.toggleInputType()})("keydown",function(l){return t._onKeydown(l)}),o&2&&u("aria-label",t.ariaLabel)("tabindex",t.tabindex)("aria-pressed",t._pressed)},inputs:{control:"control",ariaLabel:"ariaLabel"},decls:1,vars:1,consts:[["aria-hidden","true",3,"name"]],template:function(o,t){o&1&&E(0,"nx-icon",0),o&2&&x("name",t._currentIcon)},dependencies:[k],styles:["[_nghost-%COMP%]{position:relative;display:inline-block;height:24px;width:24px;cursor:pointer}@media screen and (forced-colors: active){[_nghost-%COMP%]{color:buttonText!important}}[_nghost-%COMP%]:focus{outline:none}[_nghost-%COMP%]:hover{color:var(--hover-primary)}.cdk-keyboard-focused[_nghost-%COMP%]     nx-icon{box-shadow:var(--focus-box-shadow);border-radius:4px}@media screen and (forced-colors: active),(forced-colors: active){.cdk-keyboard-focused[_nghost-%COMP%]     nx-icon{box-shadow:0 0 0 2px background,0 0 0 6px CanvasText;outline:4px solid CanvasText;outline-offset:2px}}.is-disabled[_nghost-%COMP%], .is-disabled   [_nghost-%COMP%]{pointer-events:none}@media screen and (forced-colors: active){.is-disabled[_nghost-%COMP%], .is-disabled   [_nghost-%COMP%]{color:GrayText!important}}"],changeDetection:0});let s=i;return s})(),xe=(()=>{let i=class i{};i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=b({type:i}),i.\u0275inj=g({imports:[O,_,P,_]});let s=i;return s})();export{$ as a,Ie as b,we as c,xe as d};
