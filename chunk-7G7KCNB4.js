import{d as P}from"./chunk-TPV47MNS.js";import{k as B}from"./chunk-DAHU3IV7.js";import{a as E,c as I}from"./chunk-WK4VBANE.js";import{b}from"./chunk-NEM4VVWP.js";import{y as Z}from"./chunk-P6JKCIKX.js";import{Cb as g,Kb as R,Lb as v,Pa as k,Xc as C,a as p,aa as S,ha as f,ja as y,k as A,sd as $,xc as M}from"./chunk-ZUBEA7JB.js";function V(n,r){if(r===void 0&&(r={allowQRIBAN:!0}),n==null)return!1;var e=new RegExp("^[0-9]{2}$",""),t=n.slice(0,2),i=d[t];return i===void 0||i.bban_regexp===void 0||i.bban_regexp===null||i.chars===void 0?!1:i.chars===n.length&&e.test(n.slice(2,4))&&L(n.slice(4),t)&&G(n)&&(r.allowQRIBAN||!F(n))}function L(n,r){if(n==null||r===void 0||r===null)return!1;var e=d[r];return e==null||e.bban_regexp===void 0||e.bban_regexp===null||e.chars===void 0||e.chars===null?!1:e.chars-4===n.length&&H(n,e.bban_regexp)?e.bban_validation_func?e.bban_validation_func(n.replace(/[\s.]+/g,"")):!0:!1}function F(n){if(n==null)return!1;var r=n.slice(0,2),e=["LI","CH"];if(!e.includes(r))return!1;var t=new RegExp("^3[0-1]{1}[0-9]{3}$","");return t.test(n.slice(4,9))}function H(n,r){var e=new RegExp(r,"");return e.test(n)}function G(n){var r=n.slice(0,2),e=parseInt(n.slice(2,4),10),t=n.slice(4),i=U("".concat(t).concat(r,"00")),a=m(i);return 98-a===e}function U(n){return n.split("").map(function(r){var e=r.charCodeAt(0);return e>=65?(e-55).toString():r}).join("")}var O=function(n){for(var r=[5,4,3,2,7,6,5,4,3,2],e=n.replace(/[\s.]+/g,""),t=parseInt(e.charAt(10),10),i=e.substring(0,10),a=0,s=0;s<10;s++)a+=parseInt(i.charAt(s),10)*r[s];var c=a%11;return t===(c===0?0:11-c)},W=function(n){var r=n.replace(/[\s.]+/g,""),e=parseInt(r.substring(0,r.length-2),10),t=parseInt(r.substring(r.length-2,r.length),10),i=e%97===0?97:e%97;return i===t},m=function(n){for(;n.length>2;){var r=n.slice(0,6),e=parseInt(r,10);if(isNaN(e))return NaN;n=e%97+n.slice(r.length)}return parseInt(n,10)%97},l=function(n){var r=n.replace(/[\s.]+/g,""),e=m(r);return e===1},K=function(n){for(var r=[3,9,7,1,3,9,7],e=parseInt(n.charAt(7),10),t=n.substring(0,7),i=0,a=0;a<7;a++)i+=parseInt(t.charAt(a),10)*r[a];var s=i%10;return e===(s===0?0:10-s)},j=function(n){for(var r=[4,8,5,10,9,7,3,6],e=[1,2,4,8,5,10,9,7,3,6],t=parseInt(n.charAt(8),10),i=parseInt(n.charAt(9),10),a=n.substring(0,8),s=n.substring(10,20),c=0,o=0;o<8;o++)c+=parseInt(a.charAt(o),10)*r[o];var u=c%11;if(t!==(u===0?0:u===1?1:11-u))return!1;c=0;for(var o=0;o<10;o++)c+=parseInt(s.charAt(o),10)*e[o];return u=c%11,i===(u===0?0:u===1?1:11-u)},D=function(n,r){for(var e=10,t=0;t<n.length;t++)e+=parseInt(n.charAt(t),10),e%10!==0&&(e=e%10),e=e*2,e=e%11;return r===(11-e===10?0:11-e)},Q=function(n){var r=parseInt(n.charAt(6),10),e=parseInt(n.charAt(16),10),t=n.substring(0,6),i=n.substring(7,16);return D(t,r)&&D(i,e)},w=function(n){for(var r=[10,5,8,4,2,1],e=[6,3,7,9,10,5,8,4,2,1],t=parseInt(n.charAt(9),10),i=parseInt(n.charAt(19),10),a=n.substring(4,9),s=n.substring(10,19),c=0,o=0;o<a.length;o++)c+=parseInt(a.charAt(o),10)*r[o];var u=c%11;if(t!==(u===0?0:u===1?1:11-u))return!1;c=0;for(var o=0;o<s.length;o++)c+=parseInt(s.charAt(o),10)*e[o];return u=c%11,i===(u===0?0:u===1?1:11-u)},Y=function(n){for(var r=[7,1,3,7,1,3,7,1,3,7,1,3,7],e=parseInt(n.charAt(15),10),t=n.substring(2,15),i=0,a=0;a<t.length;a++)i+=parseInt(t.charAt(a),10)*r[a];var s=i%10;return e===(s===0?0:10-s)},T=function(n){for(var r=n.replace(/[\s.]+/g,""),e=Array.from(r),t=0;t<r.length;t++){var i=e[t].charCodeAt(0);if(i>=65)switch(i){case 65:case 74:e[t]="1";break;case 66:case 75:case 83:e[t]="2";break;case 67:case 76:case 84:e[t]="3";break;case 68:case 77:case 85:e[t]="4";break;case 69:case 78:case 86:e[t]="5";break;case 70:case 79:case 87:e[t]="6";break;case 71:case 80:case 88:e[t]="7";break;case 72:case 81:case 89:e[t]="8";break;case 73:case 82:case 90:e[t]="9";break}}var a=m(e.join(""));return a===0},J=function(n){for(var r=[9,7,3,1,9,7,3,1,9,7,3,1,9,7,3],e=parseInt(n.charAt(7),10),t=n.substring(0,7),i=0,a=0;a<t.length;a++)i+=parseInt(t.charAt(a),10)*r[a];var s=i%10;if(e!==(s===0?0:10-s))return!1;if(i=0,n.endsWith("00000000")){for(var c=n.substring(8,15),o=parseInt(n.charAt(15),10),a=0;a<c.length;a++)i+=parseInt(c.charAt(a),10)*r[a];var u=i%10;return o===(u===0?0:10-u)}else{for(var c=n.substring(8,23),o=parseInt(n.charAt(23),10),a=0;a<c.length;a++)i+=parseInt(c.charAt(a),10)*r[a];var h=i%10;return o===(h===0?0:10-h)}};var d={AD:{chars:24,bban_regexp:"^[0-9]{8}[A-Z0-9]{12}$",IBANRegistry:!0,SEPA:!0,branch_indentifier:"4-7",bank_identifier:"0-3",account_indentifier:"8-24"},AE:{chars:23,bban_regexp:"^[0-9]{3}[0-9]{16}$",IBANRegistry:!0,bank_identifier:"0-2",account_indentifier:"7-23"},AF:{},AG:{},AI:{},AL:{chars:28,bban_regexp:"^[0-9]{8}[A-Z0-9]{16}$",IBANRegistry:!0,branch_indentifier:"3-7",bank_identifier:"0-2",account_indentifier:"12-28"},AM:{},AO:{chars:25,bban_regexp:"^[0-9]{21}$"},AQ:{},AR:{},AS:{},AT:{chars:20,bban_regexp:"^[0-9]{16}$",IBANRegistry:!0,SEPA:!0,bank_identifier:"0-4"},AU:{},AW:{},AX:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0},AZ:{chars:28,bban_regexp:"^[A-Z]{4}[A-Z0-9]{20}$",IBANRegistry:!0,bank_identifier:"0-3",account_indentifier:"4-28"},BA:{chars:20,bban_regexp:"^[0-9]{16}$",bban_validation_func:l,IBANRegistry:!0,branch_indentifier:"3-5",bank_identifier:"0-2"},BB:{},BD:{},BE:{chars:16,bban_regexp:"^[0-9]{12}$",bban_validation_func:W,IBANRegistry:!0,SEPA:!0,bank_identifier:"0-2",account_indentifier:"0-16"},BF:{chars:28,bban_regexp:"^[A-Z0-9]{2}[0-9]{22}$"},BG:{chars:22,bban_regexp:"^[A-Z]{4}[0-9]{6}[A-Z0-9]{8}$",IBANRegistry:!0,SEPA:!0,branch_indentifier:"4-7",bank_identifier:"0-3"},BH:{chars:22,bban_regexp:"^[A-Z]{4}[A-Z0-9]{14}$",IBANRegistry:!0,bank_identifier:"0-3",account_indentifier:"8-22"},BI:{chars:27,bban_regexp:"^[0-9]{23}$",branch_indentifier:"5-9",bank_identifier:"0-4",account_indentifier:"14-27"},BJ:{chars:28,bban_regexp:"^[A-Z0-9]{2}[0-9]{22}$"},BL:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$"},BM:{},BN:{},BO:{},BQ:{},BR:{chars:29,bban_regexp:"^[0-9]{23}[A-Z]{1}[A-Z0-9]{1}$",IBANRegistry:!0,branch_indentifier:"8-12",bank_identifier:"0-7",account_indentifier:"17-29"},BS:{},BT:{},BV:{},BW:{},BY:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{4}[A-Z0-9]{16}$",IBANRegistry:!0,bank_identifier:"0-3"},BZ:{},CA:{},CC:{},CD:{},CF:{chars:27,bban_regexp:"^[0-9]{23}$"},CG:{chars:27,bban_regexp:"^[0-9]{23}$"},CH:{chars:21,bban_regexp:"^[0-9]{5}[A-Z0-9]{12}$",IBANRegistry:!0,SEPA:!0,bank_identifier:"0-4"},CI:{chars:28,bban_regexp:"^[A-Z]{1}[0-9]{23}$"},CK:{},CL:{},CM:{chars:27,bban_regexp:"^[0-9]{23}$"},CN:{},CO:{},CR:{chars:22,bban_regexp:"^[0-9]{18}$",IBANRegistry:!0,bank_identifier:"0-3",account_indentifier:"8-22"},CU:{},CV:{chars:25,bban_regexp:"^[0-9]{21}$"},CW:{},CX:{},CY:{chars:28,bban_regexp:"^[0-9]{8}[A-Z0-9]{16}$",IBANRegistry:!0,SEPA:!0,branch_indentifier:"3-7",bank_identifier:"0-2",account_indentifier:"12-28"},CZ:{chars:24,bban_regexp:"^[0-9]{20}$",bban_validation_func:w,IBANRegistry:!0,SEPA:!0,bank_identifier:"0-3"},DE:{chars:22,bban_regexp:"^[0-9]{18}$",IBANRegistry:!0,SEPA:!0,bank_identifier:"0-7",account_indentifier:"13-22"},DJ:{chars:27,bban_regexp:"^[0-9]{23}$",branch_indentifier:"5-9",bank_identifier:"0-4",account_indentifier:"14-27"},DK:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0,SEPA:!0,bank_identifier:"0-3",account_indentifier:"4-18"},DM:{},DO:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{20}$",IBANRegistry:!0,bank_identifier:"0-3",account_indentifier:"8-28"},DZ:{chars:26,bban_regexp:"^[0-9]{22}$"},EC:{},EE:{chars:20,bban_regexp:"^[0-9]{16}$",bban_validation_func:Y,IBANRegistry:!0,SEPA:!0,bank_identifier:"0-1",account_indentifier:"8-20"},EG:{chars:29,bban_regexp:"^[0-9]{25}",IBANRegistry:!0,branch_indentifier:"4-7",bank_identifier:"0-3",account_indentifier:"17-29"},EH:{},ER:{},ES:{chars:24,bban_validation_func:j,bban_regexp:"^[0-9]{20}$",IBANRegistry:!0,SEPA:!0,branch_indentifier:"4-7",bank_identifier:"0-3",account_indentifier:"14-24"},ET:{},FI:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0,SEPA:!0,bank_identifier:"0-2",account_indentifier:"0-0"},FJ:{},FK:{chars:18,bban_regexp:"^[A-Z]{2}[0-9]{12}$",bank_identifier:"0-1",account_indentifier:"6-18"},FM:{},FO:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0,bank_identifier:"0-3",account_indentifier:"4-18"},FR:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",bban_validation_func:T,IBANRegistry:!0,SEPA:!0,bank_identifier:"0-4",branch_indentifier:"5-9",account_indentifier:"14-24"},GA:{chars:27,bban_regexp:"^[0-9]{23}$"},GB:{chars:22,bban_regexp:"^[A-Z]{4}[0-9]{14}$",IBANRegistry:!0,SEPA:!0,branch_indentifier:"4-9",bank_identifier:"0-3"},GD:{},GE:{chars:22,bban_regexp:"^[A-Z0-9]{2}[0-9]{16}$",IBANRegistry:!0,bank_identifier:"0-1",account_indentifier:"6-22"},GF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},GG:{},GH:{},GI:{chars:23,bban_regexp:"^[A-Z]{4}[A-Z0-9]{15}$",IBANRegistry:!0,SEPA:!0,bank_identifier:"0-3",account_indentifier:"8-23"},GL:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0,bank_identifier:"0-3",account_indentifier:"4-18"},GM:{},GN:{},GP:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},GQ:{chars:27,bban_regexp:"^[0-9]{23}$"},GR:{chars:27,bban_regexp:"^[0-9]{7}[A-Z0-9]{16}$",IBANRegistry:!0,SEPA:!0,branch_indentifier:"3-6",bank_identifier:"0-2",account_indentifier:"7-27"},GS:{},GT:{chars:28,bban_regexp:"^[A-Z0-9]{24}$",IBANRegistry:!0,bank_identifier:"0-3",account_indentifier:"8-28"},GU:{},GW:{chars:25,bban_regexp:"^[A-Z]{2}[0-9]{19}$"},GY:{},HK:{},HM:{},HN:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{20}$"},HR:{chars:21,bban_regexp:"^[0-9]{17}$",bban_validation_func:Q,IBANRegistry:!0,SEPA:!0,bank_identifier:"0-6"},HT:{},HU:{chars:28,bban_regexp:"^[0-9]{24}$",bban_validation_func:J,IBANRegistry:!0,SEPA:!0,branch_indentifier:"3-6",bank_identifier:"0-2"},ID:{},IE:{chars:22,bban_regexp:"^[A-Z0-9]{4}[0-9]{14}$",IBANRegistry:!0,SEPA:!0,branch_indentifier:"4-9",bank_identifier:"0-3"},IL:{chars:23,bban_regexp:"^[0-9]{19}$",IBANRegistry:!0,branch_indentifier:"3-5",bank_identifier:"0-2"},IM:{},IN:{},IO:{},IQ:{chars:23,bban_regexp:"^[A-Z]{4}[0-9]{15}$",IBANRegistry:!0,branch_indentifier:"4-6",bank_identifier:"0-3",account_indentifier:"11-23"},IR:{chars:26,bban_regexp:"^[0-9]{22}$"},IS:{chars:26,bban_regexp:"^[0-9]{22}$",IBANRegistry:!0,SEPA:!0,branch_indentifier:"2-3",bank_identifier:"0-1"},IT:{chars:27,bban_regexp:"^[A-Z]{1}[0-9]{10}[A-Z0-9]{12}$",IBANRegistry:!0,SEPA:!0,branch_indentifier:"6-10",bank_identifier:"1-5",account_indentifier:"4-27"},JE:{},JM:{},JO:{chars:30,bban_regexp:"^[A-Z]{4}[0-9]{4}[A-Z0-9]{18}$",IBANRegistry:!0,branch_indentifier:"4-7",bank_identifier:"4-7"},JP:{},KE:{},KG:{},KH:{},KI:{},KM:{chars:27,bban_regexp:"^[0-9]{23}$"},KN:{},KP:{},KR:{},KW:{chars:30,bban_regexp:"^[A-Z]{4}[A-Z0-9]{22}$",IBANRegistry:!0,bank_identifier:"0-3",account_indentifier:"20-30"},KY:{},KZ:{chars:20,bban_regexp:"^[0-9]{3}[A-Z0-9]{13}$",IBANRegistry:!0,bank_identifier:"0-2",account_indentifier:"0-20"},LA:{},LB:{chars:28,bban_regexp:"^[0-9]{4}[A-Z0-9]{20}$",IBANRegistry:!0,bank_identifier:"0-3",account_indentifier:"14-28"},LC:{chars:32,bban_regexp:"^[A-Z]{4}[A-Z0-9]{24}$",IBANRegistry:!0,bank_identifier:"0-3",account_indentifier:"8-32"},LI:{chars:21,bban_regexp:"^[0-9]{5}[A-Z0-9]{12}$",IBANRegistry:!0,SEPA:!0,bank_identifier:"0-4"},LK:{},LR:{},LS:{},LT:{chars:20,bban_regexp:"^[0-9]{16}$",IBANRegistry:!0,SEPA:!0,bank_identifier:"0-4"},LU:{chars:20,bban_regexp:"^[0-9]{3}[A-Z0-9]{13}$",IBANRegistry:!0,SEPA:!0,bank_identifier:"0-2"},LV:{chars:21,bban_regexp:"^[A-Z]{4}[A-Z0-9]{13}$",IBANRegistry:!0,SEPA:!0,bank_identifier:"0-3",account_indentifier:"0-21"},LY:{chars:25,bban_regexp:"^[0-9]{21}$",IBANRegistry:!0,branch_indentifier:"3-5",bank_identifier:"0-2",account_indentifier:"10-25"},MA:{chars:28,bban_regexp:"^[0-9]{24}$"},MC:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",bban_validation_func:T,IBANRegistry:!0,SEPA:!0,branch_indentifier:"5-9",bank_identifier:"0-4"},MD:{chars:24,bban_regexp:"^[A-Z0-9]{2}[A-Z0-9]{18}$",IBANRegistry:!0,bank_identifier:"0-1",account_indentifier:"6-24"},ME:{chars:22,bban_regexp:"^[0-9]{18}$",bban_validation_func:l,IBANRegistry:!0,bank_identifier:"0-2",account_indentifier:"4-22"},MF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},MG:{chars:27,bban_regexp:"^[0-9]{23}$"},MH:{},MK:{chars:19,bban_regexp:"^[0-9]{3}[A-Z0-9]{10}[0-9]{2}$",bban_validation_func:l,IBANRegistry:!0,bank_identifier:"0-2"},ML:{chars:28,bban_regexp:"^[A-Z0-9]{2}[0-9]{22}$"},MM:{},MN:{chars:20,bban_regexp:"^[0-9]{16}$",IBANRegistry:!0,bank_identifier:"0-3",account_indentifier:"8-20"},MO:{},MP:{},MQ:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},MR:{chars:27,bban_regexp:"^[0-9]{23}$",IBANRegistry:!0,branch_indentifier:"5-9",bank_identifier:"0-4",account_indentifier:"4-27"},MS:{},MT:{chars:31,bban_regexp:"^[A-Z]{4}[0-9]{5}[A-Z0-9]{18}$",IBANRegistry:!0,SEPA:!0,branch_indentifier:"4-8",bank_identifier:"0-3",account_indentifier:"15-31"},MU:{chars:30,bban_regexp:"^[A-Z]{4}[0-9]{19}[A-Z]{3}$",IBANRegistry:!0,branch_indentifier:"6-7",bank_identifier:"0-5",account_indentifier:"0-30"},MV:{},MW:{},MX:{},MY:{},MZ:{chars:25,bban_regexp:"^[0-9]{21}$"},NA:{},NC:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},NE:{chars:28,bban_regexp:"^[A-Z]{2}[0-9]{22}$"},NF:{},NG:{},NI:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{20}$",bank_identifier:"0-3",IBANRegistry:!0,account_indentifier:"8-28"},NL:{chars:18,bban_regexp:"^[A-Z]{4}[0-9]{10}$",IBANRegistry:!0,SEPA:!0,bank_identifier:"0-3",account_indentifier:"8-18"},NO:{chars:15,bban_regexp:"^[0-9]{11}$",bban_validation_func:O,IBANRegistry:!0,SEPA:!0,bank_identifier:"0-3",account_indentifier:"4-15"},NP:{},NR:{},NU:{},NZ:{},OM:{chars:23,bban_regexp:"^[0-9]{3}[A-Z0-9]{16}$",IBANRegistry:!0,SEPA:!1,bank_identifier:"0-2"},PA:{},PE:{},PF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},PG:{},PH:{},PK:{chars:24,bban_regexp:"^[A-Z0-9]{4}[0-9]{16}$",IBANRegistry:!0,bank_identifier:"0-3"},PL:{chars:28,bban_validation_func:K,bban_regexp:"^[0-9]{24}$",IBANRegistry:!0,SEPA:!0,branch_indentifier:"0-7",account_indentifier:"2-28"},PM:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},PN:{},PR:{},PS:{chars:29,bban_regexp:"^[A-Z0-9]{4}[0-9]{21}$",IBANRegistry:!0,bank_identifier:"0-3",account_indentifier:"17-29"},PT:{chars:25,bban_regexp:"^[0-9]{21}$",bban_validation_func:l,IBANRegistry:!0,SEPA:!0,bank_identifier:"0-3"},PW:{},PY:{},QA:{chars:29,bban_regexp:"^[A-Z]{4}[A-Z0-9]{21}$",IBANRegistry:!0,bank_identifier:"0-3",account_indentifier:"8-29"},RE:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},RO:{chars:24,bban_regexp:"^[A-Z]{4}[A-Z0-9]{16}$",IBANRegistry:!0,SEPA:!0,bank_identifier:"0-3",account_indentifier:"0-24"},RS:{chars:22,bban_regexp:"^[0-9]{18}$",bban_validation_func:l,IBANRegistry:!0,bank_identifier:"0-2"},RU:{chars:33,bban_regexp:"^[0-9]{14}[A-Z0-9]{15}$",IBANRegistry:!0,branch_indentifier:"9-13",bank_identifier:"0-8",account_indentifier:"13-33"},RW:{},SA:{chars:24,bban_regexp:"^[0-9]{2}[A-Z0-9]{18}$",IBANRegistry:!0,bank_identifier:"0-1",account_indentifier:"12-24"},SB:{},SC:{chars:31,bban_regexp:"^[A-Z]{4}[0-9]{20}[A-Z]{3}$",IBANRegistry:!0,branch_indentifier:"6-7",bank_identifier:"0-5",account_indentifier:"12-28"},SD:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0,bank_identifier:"0-1",account_indentifier:"6-18"},SE:{chars:24,bban_regexp:"^[0-9]{20}$",IBANRegistry:!0,SEPA:!0,bank_identifier:"0-2"},SG:{},SH:{},SI:{chars:19,bban_regexp:"^[0-9]{15}$",bban_validation_func:l,IBANRegistry:!0,SEPA:!0,branch_indentifier:"2-4",bank_identifier:"0-1",account_indentifier:"9-16"},SJ:{},SK:{chars:24,bban_regexp:"^[0-9]{20}$",bban_validation_func:w,IBANRegistry:!0,SEPA:!0},SL:{},SM:{chars:27,bban_regexp:"^[A-Z]{1}[0-9]{10}[A-Z0-9]{12}$",IBANRegistry:!0,SEPA:!0,branch_indentifier:"6-10"},SN:{chars:28,bban_regexp:"^[A-Z]{2}[0-9]{22}$"},SO:{chars:23,bban_regexp:"^[0-9]{19}$",IBANRegistry:!0,branch_indentifier:"4-6",account_indentifier:"11-23"},SR:{},SS:{},ST:{chars:25,bban_regexp:"^[0-9]{21}$",IBANRegistry:!0,branch_indentifier:"4-7"},SV:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{20}$",IBANRegistry:!0,account_indentifier:"8-28"},SX:{},SY:{},SZ:{},TC:{},TD:{chars:27,bban_regexp:"^[0-9]{23}$"},TF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},TG:{chars:28,bban_regexp:"^[A-Z]{2}[0-9]{22}$"},TH:{},TJ:{},TK:{},TL:{chars:23,bban_regexp:"^[0-9]{19}$",IBANRegistry:!0,account_indentifier:"4-23"},TM:{},TN:{chars:24,bban_regexp:"^[0-9]{20}$",IBANRegistry:!0,branch_indentifier:"2-4",account_indentifier:"4-24"},TO:{},TR:{chars:26,bban_regexp:"^[0-9]{5}[A-Z0-9]{17}$",IBANRegistry:!0},TT:{},TV:{},TW:{},TZ:{},UA:{chars:29,bban_regexp:"^[0-9]{6}[A-Z0-9]{19}$",IBANRegistry:!0,account_indentifier:"15-29"},UG:{},UM:{},US:{},UY:{},UZ:{},VA:{chars:22,bban_regexp:"^[0-9]{18}",IBANRegistry:!0,SEPA:!0,account_indentifier:"7-22"},VC:{},VE:{},VG:{chars:24,bban_regexp:"^[A-Z0-9]{4}[0-9]{16}$",IBANRegistry:!0,account_indentifier:"8-24"},VI:{},VN:{},VU:{},WF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},WS:{},XK:{chars:20,bban_regexp:"^[0-9]{16}$",IBANRegistry:!0,branch_indentifier:"2-3",account_indentifier:"4-20"},YE:{},YT:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},ZA:{},ZM:{},ZW:{}};var z=["/","(",")",".",":","-"," ","+",","],q={convertTo:"lower",dropSpecialCharacters:!1,deactivateMask:!1},N=class{constructor(r,e){this.element=r,this.eventHandlers=new Map,this._isComposing=!1,this._separators=[],this._inputValue=r.value,this.updateConfig(e,{callOnChange:!1}),this.addListener("keydown",this.onKeydown.bind(this)),this.addListener("input",this.onInput.bind(this)),this.addListener("paste",this.onPaste.bind(this)),this.addListener("compositionstart",this.onCompositionStart.bind(this)),this.addListener("compositionend",this.onCompositionEnd.bind(this)),this.init()}init(){this.maskConfig.deactivateMask||this.updateValue(this.getMaskedString(this.element.value),!1)}updateConfig(r,{callOnChange:e=!0,updateValue:t=!0}={}){if(this.maskConfig=p(p({},q),r),this._separators=this.maskConfig.separators??z,t){let i=this.maskConfig.deactivateMask?this.element.value:this.getMaskedString(this.element.value);this.updateValue(i,e)}}addListener(r,e){this.element.addEventListener(r,e),this.eventHandlers.set(r,e)}getUnmaskedValue(r){return this.maskConfig?.separators?.reduce((t,i)=>t.split(i).join(""),r)??""}onInput(r){if(this._isComposing)return;this.maskConfig.hooks?.beforeInput?.forEach(a=>a(r));let e=this._inputValue,t=r.target,i=this.getMaskedString(t.value);if(this.maskConfig.deactivateMask){i=t.value,this.updateValue(i);return}if(this._pastedData){this.updateValue(this._pastedData),t.setSelectionRange(this._cursor.position,this._cursor.position),this._pastedData=null,this._cursor=null;return}if(e.length===this.maskConfig.mask.length&&i.length===this.maskConfig.mask.length&&e!==i&&this._cursor&&this._cursor.selectionStart!==void 0&&this._cursor.selectionStart===this._cursor.selectionEnd){this.element.value=this.getMaskedString(e),t.setSelectionRange(this._cursor.selectionStart,this._cursor.selectionEnd),this._cursor=null;return}if(this.updateValue(i),this._cursor?.position!==void 0)t.setSelectionRange(this._cursor.position,this._cursor.position),this._cursor=null;else if(this._cursor?.selectionStart!==void 0)if(e===t.value){let a=this._cursor.selectionStart;for(;this.isSeparator(this.maskConfig.mask[a]);)a++;t.setSelectionRange(a,a),this._cursor=null}else{let a=this._cursor.selectionStart+this._calculateCursorShift(this._cursor.selectionStart);t.setSelectionRange(a,a),this._cursor=null}this.maskConfig.hooks?.afterInput?.forEach(a=>a(r))}onCompositionStart(r){this._isComposing=!0}onCompositionEnd(r){this._isComposing=!1,this.onInput(r)}onPaste(r){let e=r.target,t=(r.clipboardData||window.clipboardData).getData("text"),i=e.selectionStart,a=e.selectionEnd,s=e.value;this.maskConfig.hooks?.beforePaste?.forEach(h=>h(r));let c=this.getMaskedString(t,i);if(e.value.length===this.maskConfig.mask.length&&c.length>0&&i===a){e.setSelectionRange(i,a),this._cursor=null,r.preventDefault();return}let o=this.maskConfig.separators.reduce((h,_)=>h.split(_).join(""),c),u=this.getMaskedString(s.substring(0,i)+o+s.substring(a,s.length));if(u.length>=this.maskConfig.mask.length){let h=i,_=1;do u=this.getMaskedString(s.substring(0,i)+o.substring(0,_)+s.substring(a,s.length)),h+=this._calculateCursorShift(h),_++;while(u.length<this.maskConfig.mask.length);this._pastedData=u,this._cursor={position:h};return}this._cursor={position:i+c.length}}onKeydown(r){let e=r.keyCode,t=r.target;e===8||e===46?this.handleDelete(r):this._cursor={selectionStart:t.selectionStart,selectionEnd:t.selectionEnd}}handleDelete(r){let e=r.keyCode,t=r.target,i=this.element.value,a=e===8?1:0,s=i.substring(t.selectionStart-a,t.selectionEnd-a+1),c=t.selectionStart===i.length-1+a;if(t.selectionStart!==t.selectionEnd){let o=t.selectionStart;for(;this.isSeparator(this.maskConfig.mask[o]);)o++;this._cursor={position:o}}else c?(this.updateValue(i.substring(0,i.length-1)),r.preventDefault()):!this.maskConfig.deactivateMask&&this.isSeparator(s)?(t.setSelectionRange(t.selectionStart-a,t.selectionEnd-a),r.preventDefault()):this._cursor={position:t.selectionStart-a}}setValue(r){this.updateValue(r,!1)}updateValue(r,e=!0){let t=r==null?"":r.toString();this.maskConfig.deactivateMask||(this.maskConfig.convertTo==="upper"?t=t.toUpperCase():this.maskConfig.convertTo==="lower"&&(t=t.toLowerCase())),this.element.value!==t&&(this.element.value=t),this._inputValue=t,e&&this.maskConfig.hooks?.onChange?.forEach(i=>i(t))}isSeparator(r){return this._separators.includes(r)}_calculateCursorShift(r){let e=0,t=!1;for(this.isSeparator(this.maskConfig.mask[r+e])||(e++,t=!0);this.isSeparator(this.maskConfig.mask[r+e]);)e++;return t||e++,e}_isStringAllowed(r,e){return!!(e==="0"&&/^\d$/.test(r)||e==="A"&&/^[\dA-Z]$/i.test(r)||e==="S"&&/^[A-Z]$/i.test(r))}getMaskedString(r,e=0){let t=r.toString(),i="",a=e,s=0;for(;this.isSeparator(this.maskConfig.mask[a]);)i+=this.maskConfig.mask[a],a++;for(;s<t.length;)for(this._isStringAllowed(t[s],this.maskConfig.mask[a])?(i+=t[s],s++,a++):s++;this.isSeparator(this.maskConfig.mask[a]);)i+=this.maskConfig.mask[a],a++;return i}onDestroy(){this.eventHandlers.forEach((r,e)=>{this.element.removeEventListener(e,r)})}},ee={provide:E,useExisting:f(()=>x),multi:!0},te={provide:I,useExisting:f(()=>x),multi:!0},x=(()=>{class n{set deactivateMask(e){let t=b(e);t!==this._deactivateMask&&(this._deactivateMask=t,this.updateNxMask())}get deactivateMask(){return this._deactivateMask}set mask(e){e||(e=""),e!==this._mask&&(this._mask=e,this.updateNxMask(),this._validatorOnChange())}get mask(){return this._mask}set convertTo(e){this._convertTo=e,this.updateNxMask()}get convertTo(){return this._convertTo}set separators(e){this._separators=e,this._validatorOnChange(),this.updateNxMask()}get separators(){return this._separators}set dropSpecialCharacters(e){let t=b(e);t!==this._dropSpecialCharacters&&(this._dropSpecialCharacters=t,this.updateNxMask())}get dropSpecialCharacters(){return this._dropSpecialCharacters}set validateMask(e){let t=b(e);t!==this._validateMask&&(this._validateMask=t,this._validatorOnChange())}get validateMask(){return this._validateMask}get elementRefValue(){return this._elementRef.nativeElement.value}constructor(e,t){this._elementRef=e,this._cdr=t,this.cvaModelChange=new A,this._deactivateMask=!1,this._mask="",this._separators=["/","(",")",".",":","-"," ","+",","],this._dropSpecialCharacters=!1,this._validateMask=!0,this._onTouchedCallback=()=>{},this._validatorOnChange=()=>{},this._beforeInputHook=i=>{},this._afterInputHook=i=>{},this._beforePasteHook=i=>{}}ngOnInit(){this.nxMask=new N(this._elementRef.nativeElement,this.maskConfig)}updateNxMask({callOnChange:e=!0,updateValue:t=!0}={}){if(this.nxMask?.updateConfig(this.maskConfig,{callOnChange:e,updateValue:t}),this._onChangeCallback&&e&&this.nxMask){let i=this.dropSpecialCharacters?this.nxMask.getUnmaskedValue(this.nxMask.element.value):this.nxMask.element.value;this._onChangeCallback(i)}}get maskConfig(){return{mask:this.mask,convertTo:this.convertTo,separators:this.separators,dropSpecialCharacters:this.dropSpecialCharacters,deactivateMask:this.deactivateMask,hooks:{onChange:[this.handleMaskChange.bind(this)],beforeInput:[this._beforeInputHook],afterInput:[this._afterInputHook],beforePaste:[this._beforePasteHook]}}}handleMaskChange(e){this.dropSpecialCharacters&&(e=this.nxMask?.getUnmaskedValue(e)),this.cvaModelChange.next(e),this._onChangeCallback?.(e),this._cdr.detectChanges()}ngOnDestroy(){this.nxMask?.onDestroy()}registerBeforeInputHook(e){this._beforeInputHook=e,this.updateNxMask()}registerAfterInputHook(e){this._afterInputHook=e,this.updateNxMask()}registerBeforePasteHook(e){this._beforePasteHook=e,this.updateNxMask()}getUnmaskedValue(){return this.separators.reduce((t,i)=>t.split(i).join(""),this._elementRef.nativeElement.value)}setMask(e,t=!0){e||(e=""),e!==this._mask&&(this._mask=e,this.updateNxMask({updateValue:t,callOnChange:!1}),this._validatorOnChange())}_isStringAllowed(e,t){return!!(t==="0"&&/^\d$/.test(e)||t==="A"&&/^[\dA-Z]$/i.test(e)||t==="S"&&/^[A-Z]$/i.test(e))}getMaskedString(e,t=0){return this.nxMask?.getMaskedString(e,t)||""}isSeparator(e){return this._separators.includes(e)}writeValue(e){let t=e??"";this.cvaModelChange.next(t),this.deactivateMask?this.nxMask?.setValue(t):this.nxMask?.setValue(this.getMaskedString(t))}registerOnChange(e){this._onChangeCallback=e}registerOnTouched(e){this._onTouchedCallback=e}registerOnValidatorChange(e){this._validatorOnChange=e}isEmptyInputValue(e){return e==null||typeof e=="string"&&e.length===0}_validateFn(){let e=this._elementRef.nativeElement.value;if(this.isEmptyInputValue(e))return null;let t=this._elementRef.nativeElement.value.length,i=this._mask.length;return t!==i&&!this.deactivateMask?{nxMaskLengthError:{length:i,actual:t}}:null}validate(){return this.validateMask?this._validateFn():null}_touch(){this._onTouchedCallback()}static{this.\u0275fac=function(t){return new(t||n)(g(k),g($))}}static{this.\u0275dir=v({type:n,selectors:[["input","nxMask",""]],hostBindings:function(t,i){t&1&&M("blur",function(){return i._touch()})},inputs:{deactivateMask:"deactivateMask",mask:[0,"nxMask","mask"],convertTo:[0,"nxConvertTo","convertTo"],separators:"separators",dropSpecialCharacters:"dropSpecialCharacters",validateMask:"validateMask"},exportAs:["nxMaskDirective"],features:[C([ee,{provide:P,useExisting:n},te])]})}}return n})(),re={provide:I,useExisting:f(()=>ie),multi:!0},ie=(()=>{class n{constructor(e,t){this._elementRef=e,this.maskDirective=t,this._destroyed=new A,this._setCountryCodeFromInputValue=i=>{let a=i.target;this._setCountryCode(a.value.substr(0,2))},this._beforePasteHook=i=>{let a=i.target,s=(i.clipboardData||window.clipboardData).getData("text"),c=(this.maskDirective.elementRefValue.substr(0,a.selectionStart)+this.maskDirective.getMaskedString(s,a.selectionStart)).substr(0,2);this._setCountryCode(c)},this.maskDirective.registerBeforeInputHook(this._setCountryCodeFromInputValue),this.maskDirective.registerAfterInputHook(this._setCountryCodeFromInputValue),this.maskDirective.registerBeforePasteHook(this._beforePasteHook),this.maskDirective.cvaModelChange.pipe(S(this._destroyed)).subscribe(i=>{let a=this.maskDirective.getMaskedString(i).substr(0,2);this._setCountryCode(a)})}_setCountryCode(e){if(e=e.toUpperCase(),e.length===2&&this._countryCode!==e){let t=d[e];!t||typeof t=="object"&&Object.keys(t).length===0?(this._countryCode=null,this.maskDirective.setMask("SS")):(this._countryCode=e,this.maskDirective.setMask(this._getMask(this._countryCode),!1))}}ngOnInit(){this.maskDirective.mask="SS",this.maskDirective.convertTo="upper"}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_getMask(e){let t=d[e],i="SS00",a=t.bban_regexp,s=/\[([^\]]+)\]\{(\d+)\}/,c=s.exec(a);for(;c!==null;){let o=c[1],u=Number(c[2]);o==="0-9"?i+="0".repeat(u):o==="A-Z0-9"||o==="0-9A-Z"?i+="A".repeat(u):o==="A-Z"&&(i+="S".repeat(u)),a=a.substring(c.index+c[0].length),c=s.exec(a)}return i=i.match(/.{1,4}/g).join(" "),i}_validateFn(){return this._countryCodeInvalid()?{nxIbanInvalidCountryError:"no valid country code"}:V(this.maskDirective.getUnmaskedValue())?null:{nxIbanParseError:"no valid iban"}}validate(){return this.maskDirective.validateMask&&this.maskDirective.elementRefValue?this._validateFn():null}_countryCodeInvalid(){let e=this._elementRef.nativeElement.value.substr(0,2);return e.length!==2||!d[e].bban_regexp}static{this.\u0275fac=function(t){return new(t||n)(g(k),g(f(()=>x)))}}static{this.\u0275dir=v({type:n,selectors:[["input","nxIbanMask",""]],exportAs:["nxIbanMaskDirective"],features:[C([re])]})}}return n})(),ve=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=R({type:n})}static{this.\u0275inj=y({imports:[Z,B,B]})}}return n})();export{x as a,ie as b,ve as c};
