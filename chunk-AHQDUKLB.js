import{a as Wt,b as Zt,c as $t}from"./chunk-JTGUV4NG.js";import{a as Le,b as qe,c as Qt}from"./chunk-GH2TIENO.js";import{a as Ht,b as Xe}from"./chunk-ODYML365.js";import{a as Gt}from"./chunk-XJ2M4FUM.js";import{k as zt,r as At}from"./chunk-GNVTINEY.js";import"./chunk-NW377PMI.js";import"./chunk-GCLFQC76.js";import{a as jt}from"./chunk-SSY2UC32.js";import{a as Ot,b as R,c as Lt,e as w,f as qt}from"./chunk-IC3D5VWJ.js";import{A as oe,d as X,e as Dt,f as q,g as Q,h as ee,i as Oe,j as te,k as pe,l as W,o as Z,r as ie,v as Vt,z}from"./chunk-3G63IOQT.js";import"./chunk-G6IKXF57.js";import"./chunk-47NDUBEO.js";import{c as Pt,d as B}from"./chunk-DUO3FEKU.js";import"./chunk-BUOL5UUF.js";import{a as Rt}from"./chunk-ISGCCGJY.js";import{g as V,h as It,j as Se}from"./chunk-R6SQQCMR.js";import"./chunk-WGSRPNIX.js";import"./chunk-I7ZPUE7P.js";import"./chunk-WFMHNRW2.js";import{c as b,e as fe}from"./chunk-X2A5LDYK.js";import{x as kt}from"./chunk-F2VAFTP3.js";import{a as Bt,b as M,d as D}from"./chunk-VFGW4RDP.js";import{a as Ue,b as Ke}from"./chunk-QE7ILLZS.js";import{q as Nt,v as de,x as Tt,z as Mt}from"./chunk-AMM6UIFM.js";import{$b as l,$c as Pe,Ac as be,B as Qe,Bc as re,Cc as le,Dc as ae,Ec as ke,Fc as F,Ha as yt,I as Ct,Ia as x,Ic as wt,J as We,Ja as h,Jc as K,Kc as ne,Lc as Et,M as Ze,Ma as bt,Mc as Ie,O as Ft,Pb as T,Qb as me,Ra as Ut,Rb as u,Sb as Je,Ta as ue,Tb as he,U as vt,Wb as g,Yb as ge,Zb as _e,_b as Ce,ac as a,bc as _,ca as $e,ea as v,ec as St,fc as O,kc as S,ma as Me,mc as k,n as U,na as De,nc as Ye,oc as ce,pc as Fe,s as _t,sc as ve,tc as Y,ub as p,uc as H,vb as f,vc as j,wc as y,xa as C,xc as s,ya as Ve,yc as ye,za as Be,zc as A}from"./chunk-KJAFLB7N.js";var ei=["*"];function ti(o,t){if(o&1&&(l(0,"span",4),s(1),a()),o&2){let d=k();Je("background-color",d.iconColor[d.extension]||"#000"),p(),ye(d.extension)}}function ii(o,t){if(o&1&&(l(0,"span"),s(1),a()),o&2){let d=k();p(),ye(d.uploadingLabel)}}function oi(o,t){if(o&1&&(l(0,"span"),s(1),K(2,"number"),a()),o&2){let d=k();p(),A("",Et(2,1,d.size/1024/1024,".2")," MB")}}function ni(o,t){o&1&&_(0,"nx-spinner",0)}function ri(o,t){if(o&1&&_(0,"nx-icon",1),o&2){let d=k();me("aria-label",d.uploadedLabel||null)}}var li=["nativeInputFile"],ai=["fileRowElement"],si=[[["nx-label"]],[["","nxFileUploadHint",""]],[["nx-file-uploader-drop-zone"]],[["","nxFileUploadButton",""]],[["nx-error"]]],di=["nx-label","[nxFileUploadHint]","nx-file-uploader-drop-zone","[nxFileUploadButton]","nx-error"],pi=(o,t)=>({templateContext:o,file:t});function mi(o,t){o&1&&ce(0,4)}function ui(o,t){o&1&&St(0)}function ci(o,t){if(o&1){let d=O();l(0,"div",6,2),S("keydown",function(i){x(d);let n=k(2);return h(n._handleKeydownListRow(i))}),T(2,ui,1,0,"ng-container",7),a()}if(o&2){let d=t.$implicit,e=k(2),i=y(9);he("nx-file-uploader--file-state-uploading",d.isUploading)("nx-file-uploader--default-template",!e._itemTemplate),p(2),u("ngTemplateOutlet",e._itemTemplate?e._itemTemplate:i)("ngTemplateOutletContext",wt(6,pi,e._templateContext,d))}}function fi(o,t){if(o&1&&(l(0,"div",4),_e(1,ci,3,9,"div",5,ge),a()),o&2){let d=k();me("aria-label",d._templateContext.uploadedListLabel),p(),Ce(d.value)}}function xi(o,t){if(o&1){let d=O();_(0,"nx-file-upload-name",8)(1,"nx-file-upload-size",9),l(2,"div",10),_(3,"nx-file-upload-status",11),l(4,"nx-file-upload-delete",12),S("click",function(){let i=x(d).file,n=k();return h(n.removeFile(i))}),a()()}if(o&2){let d=t.templateContext,e=t.file;u("name",e==null?null:e.name),p(),u("size",e==null?null:e.size)("isUploading",e.isUploading)("uploadingLabel",d.uploadingLabel),p(2),u("isUploading",e.isUploading)("isUploaded",e.isUploaded)("uploadedLabel",d.uploadedLabel),p(),u("deleteLabel",d.deleteLabel)("isUploading",e.isUploading)}}var we=class{constructor(t,d){this.files=t,this.requests=d}},Ee=class{constructor(t,d){this.files=t,this.requests=d}},P=class{set config(t){this._config!==t&&(this._config=t)}get config(){return this._config}constructor(t,d){this.response=new U,this._config=t,this._httpClient=d}uploadFiles(t){this.config.uploadSeparately?this._uploadFilesSeparately(t):this._uploadFilesCollectively(t)}_uploadFilesCollectively(t){if(!t||t.length===0)return;let d=new FormData,e=t.filter(i=>!i.isUploaded);e.forEach(i=>{i.setUploadingState(),d.append("uploads[]",i.file,i.name)}),this._httpClient.post(this.config.requestUrl,d,this.config.options).subscribe(i=>{e.forEach(n=>n.setUploadedState()),this.response.next({allSucessful:!0,success:new we(e,[i])})},i=>{e.forEach(n=>n.setErrorState()),this.response.next({error:new Ee(e,[i])})})}_uploadFilesSeparately(t){if(!t)return;let d=[];t.filter(i=>!i.isUploaded).forEach(i=>{d.push(this._uploadFile(i).pipe(Ft(n=>_t(n))))}),Ct(d).subscribe(i=>{let n=i.reduce((r,m)=>(m.success?(r.success||(r.success=new we([],[])),r.success.files.push(...m.success.files),r.success.requests.push(...m.success.requests)):m.error&&(r.error||(r.error=new Ee([],[])),r.error.files.push(...m.error.files),r.error.requests.push(...m.error.requests)),r),{});n.error||(n.allSucessful=!0),this.response.next(n)})}_uploadFile(t){let d=new U,e=new FormData;return t.isUploaded||(t.setUploadingState(),e.append("uploads[]",t.file,t.name)),this._httpClient.post(this.config.requestUrl,e,this.config.options).subscribe(i=>{t.setUploadedState(),d.next({success:new we([t],[i])}),d.complete()},i=>{t.setErrorState(),d.next({error:new Ee([t],[i])}),d.complete()}),d}},ze=class{constructor(t,d=0){this.isUploading=!1,this.isUploaded=!1,this.isError=!1,this.index=0,this.onChange=new ue,this.file=t,this.name=t.name,this._size=t.size,this._type=t.type,this.index=d}get size(){return this._size}get type(){return this._type}setUploadedState(){this.isUploaded=!0,this.isUploading=!1,this.isError=!1,this.onChange.emit(this)}setUploadingState(){this.isUploaded=!1,this.isUploading=!0,this.isError=!1,this.onChange.emit(this)}setErrorState(){this.isUploaded=!1,this.isUploading=!1,this.isError=!0,this.onChange.emit(this)}};function Jt(o,t,d){if(!t||!o.type&&!d)return!0;let e=et(o.name);return t.replace(/\s/g,"").split(",").filter(i=>new RegExp(i).test(o.type)||i===e).length>0}function hi(o,t){return!t||o.size<=t}function et(o){let t=o.split(".");return t.length===1?"":"."+t.pop()}function Yt(o,t){return!o||!t||o<=t}var Re=class{static maxFileSize(t,d){return e=>!t||t>d.size?null:{NxFileUploadMaxFileSize:{max:t,fileName:d.name,actual:d.size}}}static fileType(t,d,e){return i=>Jt(t,d,e)?null:{NxFileUploadFileTypeNotAccepted:{fileName:t.name}}}static maxFileNumber(t,d){return e=>Yt(t,d)?null:{NxFileUploadMaxFileNumber:{max:d,actual:t}}}},E=(()=>{let t=class t{set disabled(e){this._disabled=e,this._cdr.markForCheck()}get disabled(){return this._disabled}constructor(e,i){this._cdr=e,this.elemetRef=i,this._disabled=!1,this._clicked=new U}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onClick(){this._clicked.next()}ngOnDestroy(){this._clicked.complete()}};t.\u0275fac=function(i){return new(i||t)(f(Pe),f(Ut))},t.\u0275dir=Be({type:t,selectors:[["","nxFileUploadButton",""]],hostVars:4,hostBindings:function(i,n){i&1&&S("click",function(){return n.onClick()}),i&2&&(me("aria-describedby",n._ariaDescribedby||null)("disabled",n.disabled||null),he("nx-file-upload-button",!0))},inputs:{disabled:"disabled"},standalone:!0});let o=t;return o})();function gi(o){return o!=null}var xe=(()=>{let t=class t{set disabled(e){this._disabled=e,this._cdr.markForCheck()}get disabled(){return this._disabled}constructor(e){this._cdr=e,this._disabled=!1,this._active=!1,this.fileDropped=new ue}onDrop(e){if(e.preventDefault(),this.disabled){if(!e.dataTransfer)return;e.dataTransfer.dropEffect="no-drop"}else{if(!e.dataTransfer){this.fileDropped.emit([]);return}let{dataTransfer:i}=e;if(i.items){let n=Array.from(i.items).map(r=>r.getAsFile()).filter(gi);i.items.clear(),this.fileDropped.emit(n)}else{let n=Array.from(i.files);i.clearData(),this.fileDropped.emit(n)}this._active=!1}}onDragOver(e){e.stopPropagation(),e.preventDefault(),this.disabled?e.dataTransfer.dropEffect="none":(e.dataTransfer.dropEffect="copy",this._active=!0,this._cdr.markForCheck())}onDragLeave(e){this._active=!1,e.dataTransfer.dropEffect="none",this._cdr.markForCheck()}onDragEnd(e){e.dataTransfer.dropEffect="none"}onDragStart(e){this.disabled?e.dataTransfer.dropEffect="none":e.dataTransfer.dropEffect="copy"}get active(){return this._active}};t.\u0275fac=function(i){return new(i||t)(f(Pe))},t.\u0275cmp=C({type:t,selectors:[["nx-file-uploader-drop-zone"]],hostVars:4,hostBindings:function(i,n){i&1&&S("drop",function(m){return n.onDrop(m)})("dragover",function(m){return n.onDragOver(m)})("dragleave",function(m){return n.onDragLeave(m)})("dragend",function(m){return n.onDragEnd(m)})("dragstart",function(m){return n.onDragStart(m)}),i&2&&he("is-active",n.active)("is-disabled",n.disabled)},inputs:{disabled:"disabled"},outputs:{fileDropped:"fileDropped"},standalone:!0,features:[F],ngContentSelectors:ei,decls:1,vars:0,template:function(i,n){i&1&&(Ye(),ce(0))},styles:["[_nghost-%COMP%]     button{margin-bottom:16px}@media (min-width: 704px){[_nghost-%COMP%]{height:104px;border:1px dashed var(--file-uploader-drop-zone-border-color);align-items:center;justify-content:center;display:flex;color:var(--file-uploader-drop-zone-text-color)}.is-active[_nghost-%COMP%]{border-style:solid}.is-disabled[_nghost-%COMP%]{cursor:no-drop}[_nghost-%COMP%]     button{margin-bottom:0}}"],changeDetection:0});let o=t;return o})(),_i=0,I=(()=>{let t=class t{constructor(){this.id=`nx-formfield-hint-${_i++}`}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=Be({type:t,selectors:[["","nxFileUploadHint",""]],hostVars:3,hostBindings:function(i,n){i&2&&(me("id",n.id),he("nx-file-upload-hint",!0))},inputs:{id:"id"},standalone:!0});let o=t;return o})(),Ae=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=C({type:t,selectors:[["nx-file-upload-delete"]],inputs:{isUploading:"isUploading",deleteLabel:"deleteLabel"},standalone:!0,features:[F],decls:2,vars:3,consts:[["nxIconButton","tertiary small-medium","type","button"],["name","trash-o"]],template:function(i,n){i&1&&(l(0,"button",0),_(1,"nx-icon",1),a()),i&2&&(me("aria-label",n.deleteLabel||null)("disabled",n.isUploading||null),p(),me("aria-hidden",!0))},dependencies:[Se,It,fe,b],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%] > button[_ngcontent-%COMP%]{margin-bottom:0;white-space:nowrap}"]});let o=t;return o})(),He=(()=>{let t=class t{constructor(){this.iconColor={xls:"#1E8927",xlsx:"#1E8927",pdf:"#DC3149",png:"#ba31dc"}}ngOnInit(){this.extension=et(this.name).substring(1)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=C({type:t,selectors:[["nx-file-upload-name"]],inputs:{name:"name"},standalone:!0,features:[F],decls:5,vars:2,consts:[[1,"extension"],[1,"extension-label",3,"background-color"],["name","file",1,"extension-icon"],[1,"nx-margin-left-2xs"],[1,"extension-label"]],template:function(i,n){i&1&&(l(0,"span",0),T(1,ti,2,3,"span",1),_(2,"nx-icon",2),a(),l(3,"span",3),s(4),a()),i&2&&(p(),g(n.extension?1:-1),p(3),ye(n.name))},dependencies:[fe,b],styles:["[_nghost-%COMP%]{font-size:var(--file-uploader-file-name-font-size);line-height:var(--file-uploader-file-name-line-height);font-weight:var(--file-uploader-file-name-font-weight);letter-spacing:var(--file-uploader-file-name-letter-spacing)}.extension[_ngcontent-%COMP%]{position:relative;top:4px;display:inline-flex}.extension-icon[_ngcontent-%COMP%]{font-size:22px}.extension-label[_ngcontent-%COMP%]{position:absolute;text-transform:uppercase;-webkit-user-select:none;user-select:none;line-height:normal;font-weight:700;padding:1px 3px;right:4px;bottom:4px;border-radius:2px 0 0 2px;font-size:6px;color:#fff}"]});let o=t;return o})(),tt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=C({type:t,selectors:[["nx-file-upload-size"]],inputs:{size:"size",isUploading:"isUploading",uploadingLabel:"uploadingLabel"},standalone:!0,features:[F],decls:2,vars:1,template:function(i,n){i&1&&T(0,ii,2,1,"span")(1,oi,3,4,"span"),i&2&&g(n.isUploading?0:1)},dependencies:[Tt],styles:["[_nghost-%COMP%]{white-space:nowrap}"]});let o=t;return o})(),je=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=C({type:t,selectors:[["nx-file-upload-status"]],inputs:{isUploading:"isUploading",isUploaded:"isUploaded",uploadedLabel:"uploadedLabel"},standalone:!0,features:[F],decls:2,vars:2,consts:[["size","medium"],["name","check-circle","size","s"]],template:function(i,n){i&1&&T(0,ni,1,0,"nx-spinner",0)(1,ri,1,1,"nx-icon",1),i&2&&(g(n.isUploading?0:-1),p(),g(n.isUploaded?1:-1))},dependencies:[Xe,Ht,fe,b],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]   nx-icon[_ngcontent-%COMP%]{color:var(--file-uploader-file-row-icon-color)}"]});let o=t;return o})(),Ge=(()=>{let t=class t{constructor(){this.changes=new U,this.uploadingLabel="uploading",this.deleteLabel="Delete",this.uploadedStateLabel="uploaded",this.uploadedListLabel="List of uploaded files"}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"});let o=t;return o})(),Ci=0,N=(()=>{let t=class t{set noBlockingValidators(e){this._noBlockingValidators=Ue(e)}get noBlockingValidators(){return this._noBlockingValidators}set id(e){this._id=e,this._cdr.markForCheck()}get id(){return this._id}set required(e){this._required=Ue(e)}get required(){return this._required}set value(e){this.writeValue(e)}get value(){return this._value}set name(e){this._name=e}get name(){return this._name}set disabled(e){this._disabled=Ue(e),this.button&&(this.button.disabled=this._disabled),this._dropZone&&(this._dropZone.disabled=this._disabled),this._cdr.markForCheck()}get disabled(){return this._disabled}set multiple(e){this._multiple=Ue(e)}get multiple(){return this._multiple}set accept(e){this._accept=e}get accept(){return this._accept}set maxFileSize(e){this._maxFileSize=Ke(e)}get maxFileSize(){return this._maxFileSize}set uploader(e){this._uploader!==e&&(this._uploader=e)}get uploader(){return this._uploader}set maxFileNumber(e){this._maxFileNumber=Ke(e)}get maxFileNumber(){return this._maxFileNumber}set itemTemplate(e){this._itemTemplate!==e&&(this._itemTemplate=e)}get itemTemplate(){return this._itemTemplate}constructor(e,i,n,r,m,c,Xt){this._cdr=e,this._errorStateMatcher=i,this._intl=n,this._parentForm=r,this._parentFormGroup=m,this.ngControl=c,this._focusMonitor=Xt,this._filesSubscriptions=[],this.valueChange=new ue,this.fileDeleted=new ue,this.filesSelected=new ue,this._controlValidators=null,this.errorState=!1,this.errors=[],this._noBlockingValidators=!1,this.stateChanges=new U,this.validatorFnArray=[],this._id=`nx-file-uploader-${Ci++}`,this._inputId=`${this.id}-input`,this._labelId=`${this.id}-label`,this._required=!1,this._disabled=!1,this._multiple=!1,this.strictAcceptValidation=!1,this._maxFileSize=0,this._maxFileNumber=null,this._destroyed=new U,this.openedChange=new ue,this._openedStream=this.openedChange.pipe(Ze(Te=>Te),Qe(()=>{})),this._closedStream=this.openedChange.pipe(Ze(Te=>!Te),Qe(()=>{})),this.onChangeCallback=Te=>{},this.onTouchedCallback=()=>{},this.ngControl&&(this.ngControl.valueAccessor=this),this._templateContext=this}ngOnInit(){this.ngControl?.control&&(this._controlValidators=this.ngControl.control.validator),this._intl.changes.pipe(v(this._destroyed)).subscribe(()=>{this._cdr.markForCheck(),this.stateChanges.next()}),this._resetValidators()}ngAfterViewInit(){this._fileRowElements.forEach(e=>this._focusMonitor.monitor(e)),this._fileRowElementsPrevious=this._fileRowElements,this._fileRowElements.changes.pipe(v(this._destroyed)).subscribe(e=>{this._fileRowElementsPrevious.forEach(i=>this._focusMonitor.stopMonitoring(i)),this._fileRowElementsPrevious=e,e.forEach(i=>this._focusMonitor.monitor(i))})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._filesSubscriptions.forEach(e=>e.unsubscribe()),this._fileRowElements.forEach(e=>this._focusMonitor.stopMonitoring(e))}updateErrorState(){let e=this.errorState,i=this._parentFormGroup||this._parentForm,n=this.ngControl?this.ngControl.control:null,r=this._errorStateMatcher.isErrorState(n,i);r!==e&&(this.errorState=r,this.stateChanges.next())}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}writeValue(e){this._value!==e&&(e&&this._filesSubscriptions&&(this._filesSubscriptions.forEach(i=>i.unsubscribe()),this._filesSubscriptions=[]),this._value=e,this._subscribeToFileChanges())}_resetValidators(e=!1){if(this.ngControl?.control){e&&this.ngControl.control.clearValidators();let i=[];this._controlValidators&&i.unshift(this._controlValidators),this.validatorFnArray&&i.push(...this.validatorFnArray),this.ngControl.control.setValidators(i),this.ngControl.control.updateValueAndValidity()}}ngAfterContentInit(){if(!this.button)return;this.button._clicked.pipe(v(this._destroyed)).subscribe(()=>{if(this.errors=[],this.maxFileNumber&&(this.value?.length||0)===this.maxFileNumber){this.setMaxFileNumberError(this.maxFileNumber),this._resetValidators(!0);return}this.nativeInputFile.nativeElement.click()});let e=We(this.button.elemetRef.nativeElement,"focus"),i=We(this.button.elemetRef.nativeElement,"click"),n=!1;i.pipe(v(this._destroyed)).subscribe(()=>{n=!0,this.openedChange.emit(n)}),e.pipe(v(this._destroyed)).subscribe(()=>{n&&(n=!1,this.openedChange.emit(n))}),this.button.disabled=this.disabled,this._dropZone&&(this._dropZone.fileDropped.pipe(v(this._destroyed)).subscribe(r=>{this._addFilesToQueue(r)}),this._dropZone.disabled=this.disabled),this._label&&(this._label.for=this._inputId,this._label.id=this._labelId),this.stateChanges.pipe(v(this._destroyed)).subscribe(()=>{this._syncDescribedByIds(),this._cdr.markForCheck()}),this._hintChildren.changes.pipe($e(null),v(this._destroyed)).subscribe(()=>{this._syncDescribedByIds(),this._cdr.markForCheck()}),this._errorList.changes.pipe($e(null),v(this._destroyed)).subscribe(()=>{this._syncDescribedByIds(),this._cdr.markForCheck()})}_addFilesToQueue(e){this.multiple||(this.value=[]),this._setFileListFromValue(e),this._resetValidators(!0),this.onChangeCallback(this.value),this.onTouchedCallback(),this.valueChange.emit(this.value),this.filesSelected.emit(this.value)}_setFileListFromValue(e){if(this.validatorFnArray=[],e===null)this.value=void 0;else{this.errors=[];let i=(this.value?.length||0)+e.length;Yt(i,this.maxFileNumber)?e.forEach(n=>{if(!hi(n,this.maxFileSize)){this.setFileSizeError(n);return}if(!Jt(n,this.accept,this.strictAcceptValidation)){this.setFileTypeError(n);return}let r=new ze(n);this.value?this.value.push(r):this.value=[r],this._cdr.markForCheck()}):this.setMaxFileNumberError(i),console.log(this.errors),this._subscribeToFileChanges()}}removeFile(e){this.value=this.value.filter(i=>e!==i),this._filesSubscriptions&&(this._filesSubscriptions.forEach(i=>i.unsubscribe()),this._filesSubscriptions=[]),this._subscribeToFileChanges(),this.validatorFnArray=[],this._resetValidators(!0),this._cdr.markForCheck(),this.valueChange.emit(this.value),this.fileDeleted.emit(e),this.onTouchedCallback(),this.onChangeCallback(this.value),this.nativeInputFile.nativeElement.value=""}uploadFiles(){if(!this.uploader){console.warn("No uploader found. Please define a NxFileUpload to use the uploading mechanism.");return}this.uploader&&(this.uploader.response.pipe(vt(1)).subscribe(e=>{let i=this.value?.filter(r=>r.isUploaded&&!r.isError),n=e.error?.files.filter(r=>!r.isUploaded&&r.isError);n?.length&&n?.forEach(r=>this.setFileUploadError(r,"An error occured while uploading")),this.value=i}),this.uploader.uploadFiles(this.value))}ngDoCheck(){this.ngControl&&this.updateErrorState()}get uploadingLabel(){return this._intl.uploadingLabel}get deleteLabel(){return this._intl.deleteLabel}get uploadedLabel(){return this._intl.uploadedStateLabel}get uploadedListLabel(){return this._intl.uploadedListLabel}_syncDescribedByIds(){let e=[];e=this._hintChildren.map(i=>i.id),e=this._label?[this._label.id,...e]:e,e=[...this._errorList.map(i=>i.id),...e],this.button?.setDescribedByIds(e)}_handleKeydownListRow(e){if(e.keyCode===40){let i=e.target.nextSibling;i?.classList?.contains("nx-file-uploader--file-row")&&(e.preventDefault(),i.focus())}else if(e.keyCode===38){let i=e.target.previousSibling;i?.classList?.contains("nx-file-uploader--file-row")&&(e.preventDefault(),i.focus())}}_onFileChange(e){if(this.disabled)return;let i=e.target,n=Array.from(i.files??[]);this._addFilesToQueue(n),this.stateChanges.next(),this._cdr.markForCheck(),this.nativeInputFile.nativeElement.value=""}_subscribeToFileChanges(){if(this.value?.length){let e;this.value.map(i=>{e=i.onChange.subscribe(()=>{this._cdr.markForCheck()}),this._filesSubscriptions.push(e)})}}setMaxFileNumberError(e){this.errors.push({filename:"",type:"fileNumber",max:this.maxFileNumber,actual:e}),!this.noBlockingValidators&&this.ngControl?.control&&this.validatorFnArray.push(i=>({NxFileUploadMaxFileNumber:{max:this.maxFileNumber,actual:e}}))}setFileSizeError(e){this.errors.push({filename:e.name,type:"fileSize",max:this.maxFileSize,actual:e.size}),!this.noBlockingValidators&&this.ngControl?.control&&this.validatorFnArray.push(Re.maxFileSize(this.maxFileSize,e))}setFileTypeError(e){this.errors.push({filename:e.name,type:"fileType",extension:this.accept,actual:et(e.name)}),!this.noBlockingValidators&&this.ngControl?.control&&this.validatorFnArray.push(Re.fileType(e,this.accept,this.strictAcceptValidation))}setFileUploadError(e,i){this.errors.push({filename:e.name,type:"upload",reason:i})}get allFilesUploaded(){return this.value?.every(e=>e.isUploaded)||!1}setDisabledState(e){this.disabled=e,this.stateChanges.next()}};t.\u0275fac=function(i){return new(i||t)(f(Pe),f(Rt),f(Ge),f(Oe,8),f(Z,8),f(Dt,10),f(kt))},t.\u0275cmp=C({type:t,selectors:[["nx-file-uploader"]],contentQueries:function(i,n,r){if(i&1&&(ve(r,E,5),ve(r,xe,7),ve(r,w,5),ve(r,I,4),ve(r,R,4)),i&2){let m;H(m=j())&&(n.button=m.first),H(m=j())&&(n._dropZone=m.first),H(m=j())&&(n._label=m.first),H(m=j())&&(n._hintChildren=m),H(m=j())&&(n._errorList=m)}},viewQuery:function(i,n){if(i&1&&(Y(li,5),Y(ai,5)),i&2){let r;H(r=j())&&(n.nativeInputFile=r.first),H(r=j())&&(n._fileRowElements=r)}},hostVars:3,hostBindings:function(i,n){i&2&&(me("aria-invalid",n.errorState),he("has-error",n.errorState))},inputs:{noBlockingValidators:"noBlockingValidators",id:"id",required:"required",value:"value",name:"name",disabled:"disabled",multiple:"multiple",accept:"accept",strictAcceptValidation:"strictAcceptValidation",maxFileSize:"maxFileSize",uploader:"uploader",maxFileNumber:"maxFileNumber",itemTemplate:"itemTemplate"},outputs:{valueChange:"valueChange",fileDeleted:"fileDeleted",filesSelected:"filesSelected",openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed"},exportAs:["NxFileUploaderComponent"],standalone:!0,features:[ke([{provide:Ot,useValue:{appearance:"message"}}]),yt,F],ngContentSelectors:di,decls:10,vars:6,consts:[["nativeInputFile",""],["defaultFileRow",""],["fileRowElement",""],["type","file",3,"change","id"],["role","list",1,"nx-file-uploader--file-list","nx-margin-bottom-m"],["role","listitem",1,"nx-file-uploader--file-row",3,"nx-file-uploader--file-state-uploading","nx-file-uploader--default-template"],["role","listitem",1,"nx-file-uploader--file-row",3,"keydown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"name"],[3,"size","isUploading","uploadingLabel"],[1,"nx-file-uploader--file-row-actions"],[3,"isUploading","isUploaded","uploadedLabel"],[3,"click","deleteLabel","isUploading"]],template:function(i,n){if(i&1){let r=O();Ye(si),T(0,mi,1,0),ce(1),ce(2,1),ce(3,2),ce(4,3),l(5,"input",3,0),S("change",function(c){return x(r),h(n._onFileChange(c))}),a(),T(7,fi,3,1,"div",4)(8,xi,5,9,"ng-template",null,1,Ie)}i&2&&(g(n.errorState||n.errors.length?0:-1),p(5),u("id",n._inputId),me("multiple",n.multiple||null)("disabled",n.disabled||null)("accept",n.accept),p(2),g(n.value&&n.value.length>0?7:-1))},dependencies:[Nt,He,tt,je,Ae],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]     nx-error.nx-error--message{margin:12px 0}[_nghost-%COMP%]     nx-error.nx-error--message ul{margin-left:28px;margin-top:6px}[_nghost-%COMP%]     nx-error.nx-error--message li{line-height:24px}.nx-file-uploader--file-list[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.nx-file-uploader--file-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;border-bottom-width:1px;border-bottom-style:solid;padding:8px 12px;border-bottom-color:var(--file-uploader-file-row-border-bottom-color);color:var(--file-uploader-file-row-text-color)}.nx-file-uploader--file-row[_ngcontent-%COMP%]:hover{background-color:var(--file-uploader-file-row-hover-background-color)}.nx-file-uploader--file-row[_ngcontent-%COMP%]:focus{outline:none}.nx-file-uploader--file-row[_ngcontent-%COMP%]     .nx-file-uploader--file-row-actions{margin-left:auto;display:flex;align-items:center;justify-content:flex-end;min-width:120px;flex:none}[dir=rtl][_nghost-%COMP%]   .nx-file-uploader--file-row[_ngcontent-%COMP%]     .nx-file-uploader--file-row-actions, [dir=rtl]   [_nghost-%COMP%]   .nx-file-uploader--file-row[_ngcontent-%COMP%]     .nx-file-uploader--file-row-actions{margin-left:initial;margin-right:auto}.nx-file-uploader--file-row.nx-file-uploader--default-template[_ngcontent-%COMP%]   nx-file-upload-name[_ngcontent-%COMP%]{flex:none;max-width:65%;overflow-wrap:break-word;line-height:28px}@media (max-width: 703px){.nx-file-uploader--file-row.nx-file-uploader--default-template[_ngcontent-%COMP%]   nx-file-upload-name[_ngcontent-%COMP%]{flex:100%;max-width:100%}}.nx-file-uploader--file-row.nx-file-uploader--default-template[_ngcontent-%COMP%]   nx-file-upload-size[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:flex-end}@media (max-width: 703px){.nx-file-uploader--file-row.nx-file-uploader--default-template[_ngcontent-%COMP%]   nx-file-upload-size[_ngcontent-%COMP%]{justify-content:flex-start}}.nx-file-uploader--file-row.nx-file-uploader--default-template[_ngcontent-%COMP%]   nx-file-upload-status[_ngcontent-%COMP%]{flex:0 1 auto;padding:0 16px}.nx-file-uploader--file-row.nx-file-uploader--default-template[_ngcontent-%COMP%]   nx-file-upload-delete[_ngcontent-%COMP%]{flex:0 1 auto}.nx-file-uploader--file-row.nx-file-uploader--file-state-uploading[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{color:var(--file-uploader-file-row-uploading-file-name-color)}  input[type=file]{display:none}  .nx-file-upload-button{display:block}  .nx-file-upload-hint{font-size:var(--file-uploader-hint-font-size);line-height:var(--file-uploader-hint-line-height);font-weight:var(--file-uploader-hint-font-weight);letter-spacing:var(--file-uploader-hint-letter-spacing);display:block}.nx-file-uploader--file-row.cdk-keyboard-focused[_ngcontent-%COMP%]{box-shadow:var(--focus-box-shadow)}@media screen and (forced-colors: active),(forced-colors: active){.nx-file-uploader--file-row.cdk-keyboard-focused[_ngcontent-%COMP%]{box-shadow:0 0 0 2px background,0 0 0 6px CanvasText;outline:4px solid CanvasText;outline-offset:2px}}"],changeDetection:0});let o=t;return o})(),L=(()=>{let t=class t{set fileUpload(e){this._fileUpload!==e&&(this._fileUpload=e)}get fileUpload(){return this._fileUpload}_onClick(){this._fileUpload.uploadFiles()}get visibility(){return this._fileUpload.allFilesUploaded?"hidden":"unset"}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=Be({type:t,selectors:[["","nxFileUploadTriggerFor",""]],hostVars:2,hostBindings:function(i,n){i&1&&S("click",function(){return n._onClick()}),i&2&&Je("visibility",n.visibility)},inputs:{fileUpload:[0,"nxFileUploadTriggerFor","fileUpload"]},exportAs:["nxFileUploadTrigger"],standalone:!0});let o=t;return o})(),Kt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Ve({type:t}),t.\u0275inj=De({imports:[Mt,fe,Se,Xe,N,He,je,Ae,Lt,qt]});let o=t;return o})();var Fi=["documentUpload"],Ne={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},it=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new M,headers:new Bt({"My-Custom-Header":"custom-header-value"}),reportProgress:!0}},this.myFiles=[],this.uploader=new P(this.uploadConfig,this.http),this._destroyed=new U}ngOnInit(){this.uploader.response.pipe(v(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Ne):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onFilesAddedChange(e){e&&this.documentUpload.uploadFiles()}};t.\u0275fac=function(i){return new(i||t)(f(B),f(D))},t.\u0275cmp=C({type:t,selectors:[["file-uploader-auto-example"]],viewQuery:function(i,n){if(i&1&&Y(Fi,5),i&2){let r;H(r=j())&&(n.documentUpload=r.first)}},standalone:!0,features:[F],decls:9,vars:2,consts:[["documentUpload",""],["multiple","",3,"ngModelChange","filesSelected","ngModel","uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary small-medium","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","nxIconPositionStart","","aria-hidden","true"]],template:function(i,n){if(i&1){let r=O();l(0,"nx-file-uploader",1,0),ae("ngModelChange",function(c){return x(r),le(n.myFiles,c)||(n.myFiles=c),h(c)}),S("filesSelected",function(c){return x(r),h(n.onFilesAddedChange(c))}),l(2,"nx-label",2),s(3,"Upload file(s)"),a(),l(4,"span",3),s(5,"Multiple files are allowed"),a(),l(6,"button",4),_(7,"nx-icon",5),s(8," Add File "),a()()}i&2&&(re("ngModel",n.myFiles),u("uploader",n.uploader))},dependencies:[N,z,q,pe,w,I,V,E,b]});let o=t;return o})();var vi={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},ot=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new M,reportProgress:!0}},this.uploader=new P(this.uploadConfig,this.http),this._destroyed=new U}ngOnInit(){this.uploader.response.pipe(v(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",vi):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}};t.\u0275fac=function(i){return new(i||t)(f(B),f(D))},t.\u0275cmp=C({type:t,selectors:[["file-uploader-basic-example"]],standalone:!0,features:[F],decls:11,vars:3,consts:[["documentUpload",""],["multiple","",3,"uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"nxFileUploadTriggerFor","disabled"]],template:function(i,n){if(i&1&&(l(0,"nx-file-uploader",1,0)(2,"nx-label",2),s(3,"Select a file to upload"),a(),l(4,"span",3),s(5,"Multiple files can be selected"),a(),l(6,"button",4),_(7,"nx-icon",5),s(8," Add File "),a()(),l(9,"button",6),s(10,` Upload
`),a()),i&2){let r=y(1);u("uploader",n.uploader),p(9),u("nxFileUploadTriggerFor",r)("disabled",!(r.value!=null&&r.value.length))}},dependencies:[N,w,I,V,E,b,L]});let o=t;return o})();var yi=["documentUpload"],bi=["ngModel"];function Ui(o,t){o&1&&(l(0,"nx-error"),s(1," An error occured while uploading. "),a())}function Si(o,t){o&1&&(l(0,"nx-error"),s(1,"Required!"),a())}function wi(o,t){if(o&1){let d=O();_(0,"nx-file-upload-name",7)(1,"nx-file-upload-size",8),l(2,"div",9),_(3,"nx-file-upload-status",10),l(4,"nx-file-upload-delete",11),S("click",function(){let i=x(d),n=i.templateContext,r=i.file;return h(n.removeFile(r))}),a()(),l(5,"form")(6,"nx-radio-group",12),ae("ngModelChange",function(i){let n=x(d).file;return le(n.formData,i)||(n.formData=i),h(i)}),l(7,"nx-label",13),s(8,"Do you own all rights to this picture?"),a(),l(9,"div",14)(10,"nx-radio",15),s(11,"Yes"),a(),l(12,"nx-radio",16),s(13,"No"),a()()()()}if(o&2){let d=t.templateContext,e=t.file;u("name",e==null?null:e.name),p(),u("size",e==null?null:e.size)("isUploading",e.isUploading)("uploadingLabel",d.uploadingLabel),p(2),u("isUploading",e.isUploading)("isUploaded",e.isUploaded)("uploadedLabel",d.uploadedLabel),p(),u("deleteLabel",d.deleteLabel)("isUploading",e.isUploading),p(2),u("disabled",e.isUploading||e.isUploaded),re("ngModel",e.formData),p(4),u("value",!0),p(2),u("value",!1)}}var Ei={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},nt=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.myFiles=[],this.showUploadError=!1}onChange(){this.validate()}validate(){let e=this.myFiles.every(i=>typeof i.formData=="boolean");return this.ngModel.control.setErrors(e?{}:{required:!0}),e}upload(e){if(this.showUploadError=!1,!this.documentUpload.value||!this.validate())return;let i=new FormData;this.myFiles.forEach(m=>{m.isUploaded||(m.setUploadingState(),i.set(m.name,m.file,m.name),i.set(`${m.name}-form`,m.formData.toString()))});let r={params:new M,reportProgress:!0};this.http.post(e,i,r).subscribe(m=>{this.documentUpload.value.forEach(c=>{c.setUploadedState()}),this.messageToastService.open("All files were uploaded successfully!",Ei)},m=>{this.documentUpload.value.forEach(c=>{c.isUploaded||c.setErrorState()}),this.showUploadError=!0})}};t.\u0275fac=function(i){return new(i||t)(f(B),f(D))},t.\u0275cmp=C({type:t,selectors:[["file-uploader-custom-item-example"]],viewQuery:function(i,n){if(i&1&&(Y(yi,5),Y(bi,5)),i&2){let r;H(r=j())&&(n.documentUpload=r.first),H(r=j())&&(n.ngModel=r.first)}},standalone:!0,features:[F],decls:14,vars:5,consts:[["documentUpload","","ngModel","ngModel"],["myItemTemplate",""],["multiple","",3,"ngModelChange","ngModel","itemTemplate"],["size","small",1,"nx-margin-bottom-3xs"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"click","disabled"],[3,"name"],[3,"size","isUploading","uploadingLabel"],[1,"nx-file-uploader--file-row-actions"],[3,"isUploading","isUploaded","uploadedLabel"],[3,"click","deleteLabel","isUploading"],["name","pictureRights",3,"ngModelChange","disabled","ngModel"],[1,"nx-margin-bottom-m"],[1,"horizontal-buttons"],[1,"nx-margin-bottom-m",3,"value"],[1,"nx-margin-left-s","nx-margin-bottom-m",3,"value"]],template:function(i,n){if(i&1){let r=O();l(0,"nx-file-uploader",2,0),ae("ngModelChange",function(c){return x(r),le(n.myFiles,c)||(n.myFiles=c),h(c)}),l(3,"nx-label",3),s(4,"Please upload a file"),a(),l(5,"button",4),_(6,"nx-icon",5),s(7," Add File "),a()(),T(8,Ui,2,0,"nx-error")(9,Si,2,0,"nx-error"),l(10,"button",6),S("click",function(){return x(r),h(n.upload("file-upload"))}),s(11,` Upload files
`),a(),T(12,wi,14,13,"ng-template",null,1,Ie)}if(i&2){let r=y(1),m=y(2),c=y(13);re("ngModel",n.myFiles),u("itemTemplate",c),p(8),g(n.showUploadError?8:-1),p(),g(m.control.hasError("required")?9:-1),p(),u("disabled",!(r.value!=null&&r.value.length))}},dependencies:[N,z,W,q,Q,pe,Oe,w,V,E,b,R,He,tt,je,Ae,Wt,Zt],styles:["nx-file-upload-name[_ngcontent-%COMP%]{flex:1}nx-file-upload-size[_ngcontent-%COMP%]{flex:none}nx-file-upload-status[_ngcontent-%COMP%]{flex:0 1 auto;padding:0 16px}nx-file-upload-delete[_ngcontent-%COMP%]{flex:0 1 auto}form[_ngcontent-%COMP%]{padding-top:16px;width:100%}.horizontal-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row}@media (max-width: 703px){nx-file-upload-name[_ngcontent-%COMP%]{flex:100%;order:-1;margin-bottom:16px}}"]});let o=t;return o})();var Ni=["documentUpload"];function Ti(o,t){o&1&&(l(0,"nx-error"),s(1,"Required!"),a())}function Mi(o,t){o&1&&(l(0,"nx-error"),s(1,"An error occured while uploading."),a())}function Di(o,t){if(o&1&&(l(0,"div"),s(1),a()),o&2){let d=k().$implicit;p(),A(' "',d.filename,'" could not be uploaded. The supported extensions us PNG. ')}}function Vi(o,t){if(o&1&&(l(0,"div"),s(1),a()),o&2){let d=k().$implicit;p(),be(' "',d.filename,'" could not be uploaded. max file size is ',d.max,". ")}}function Bi(o,t){if(o&1&&(l(0,"div"),s(1),a()),o&2){let d=k().$implicit;p(),A(" You cannot upload more than ",d.max," documents. ")}}function ki(o,t){if(o&1&&(l(0,"li"),T(1,Di,2,1,"div")(2,Vi,2,2,"div")(3,Bi,2,1,"div"),a()),o&2){let d=t.$implicit;p(),g(d.type==="fileType"?1:-1),p(),g(d.type==="fileSize"?2:-1),p(),g(d.type==="fileNumber"?3:-1)}}function Ii(o,t){if(o&1&&(l(0,"nx-error"),s(1," Errors: "),l(2,"ul"),_e(3,ki,4,3,"li",null,ge),a()()),o&2){k();let d=y(2);p(3),Ce(d==null?null:d.errors)}}var rt=(()=>{let t=class t{toggleValidation(){this.disableValidator=!this.disableValidator}constructor(e,i){this.messageToastService=e,this.http=i,this.disableValidator=!1,this.uploadConfig={requestUrl:"file-upload",options:{params:new M,reportProgress:!0}},this.uploader=new P(this.uploadConfig,this.http),this.testForm=new ee({documents:new te([],X.required)}),this._destroyed=new U}ngOnInit(){this.uploader.response.pipe(v(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Ne):e.error&&this.testForm.controls.documents.setErrors({serverError:!0})})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onChange(e){console.log(e)}onDelete(e){console.log(e)}};t.\u0275fac=function(i){return new(i||t)(f(B),f(D))},t.\u0275cmp=C({type:t,selectors:[["file-uploader-error-list-example"]],viewQuery:function(i,n){if(i&1&&Y(Ni,5),i&2){let r;H(r=j())&&(n.documentUpload=r.first)}},standalone:!0,features:[F],decls:24,vars:16,consts:[["documentUpload",""],[3,"formGroup"],["multiple","","formControlName","documents","accept","png","disableCommonValidator","","maxFileNumber","2",3,"fileDeleted","valueChange","maxFileSize","uploader","noBlockingValidators"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","primary small","type","button",3,"click","disabled","nxFileUploadTriggerFor"],["nxButton","secondary small","type","button",1,"nx-margin-top-s",3,"click"]],template:function(i,n){if(i&1){let r=O();l(0,"form",1)(1,"nx-file-uploader",2,0),S("fileDeleted",function(c){return x(r),h(n.onDelete(c))})("valueChange",function(c){return x(r),h(n.onChange(c))}),l(3,"nx-label",3),s(4,"Required file to upload"),a(),l(5,"span",4),s(6,"Maximum file size 2MB, Accept only PNG files, Maximum 2 files"),a(),l(7,"button",5),_(8,"nx-icon",6),s(9," Add File "),a(),T(10,Ti,2,0,"nx-error")(11,Mi,2,0,"nx-error")(12,Ii,5,0,"nx-error"),a()(),l(13,"button",7),S("click",function(){return x(r),h(n.testForm.controls.documents.setErrors({serverError:!1}))}),s(14,` Upload files
`),a(),_(15,"br"),l(16,"button",8),S("click",function(){return x(r),h(n.toggleValidation())}),s(17),a(),l(18,"pre"),s(19),K(20,"json"),_(21,"br"),s(22),K(23,"json"),a()}if(i&2){let r=y(2);u("formGroup",n.testForm),p(),Fe("maxFileSize",2*1024*1024),u("uploader",n.uploader)("noBlockingValidators",n.disableValidator),p(9),g(n.testForm.controls.documents.hasError("required")?10:-1),p(),g(n.testForm.controls.documents.hasError("serverError")?11:-1),p(),g(!(r==null||r.errors==null)&&r.errors.length?12:-1),p(),u("disabled",!n.testForm.valid)("nxFileUploadTriggerFor",r),p(4),A(" Toggle Disable validator (",n.disableValidator,`)
`),p(2),A("          validators: ",ne(20,12,n.testForm.controls.documents.errors),`
          `),p(3),A(`
          errors property: `,ne(23,14,r==null?null:r.errors),`
        `)}},dependencies:[z,W,q,Q,oe,Z,ie,N,w,I,V,E,b,R,L,de],changeDetection:0});let o=t;return o})();var Pi={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},lt=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new M,reportProgress:!0}},this.uploader=new P(this.uploadConfig,this.http),this._destroyed=new U}ngOnInit(){this.uploader.response.pipe(v(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Pi):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}};t.\u0275fac=function(i){return new(i||t)(f(B),f(D))},t.\u0275cmp=C({type:t,selectors:[["file-uploader-drop-zone-example"]],standalone:!0,features:[F],decls:14,vars:3,consts:[["documentUpload",""],["multiple","",3,"uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],[1,"nx-margin-bottom-m"],["nxCopytext","",1,"nx-margin-right-2xs","nx-hidden-xs","nx-hidden-s"],["nxButton","primary small-medium","type","button","nxFileUploadButton",""],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"nxFileUploadTriggerFor","disabled"]],template:function(i,n){if(i&1&&(l(0,"nx-file-uploader",1,0)(2,"nx-label",2),s(3,"Select a file to upload"),a(),l(4,"span",3),s(5,"Multiple files can be selected"),a(),l(6,"nx-file-uploader-drop-zone",4)(7,"span",5),s(8,"Drag your files here to"),a(),l(9,"button",6),_(10,"nx-icon",7),s(11," Add File "),a()()(),l(12,"button",8),s(13,` Upload files
`),a()),i&2){let r=y(1);u("uploader",n.uploader),p(12),u("nxFileUploadTriggerFor",r)("disabled",!(r.value!=null&&r.value.length))}},dependencies:[N,w,I,xe,jt,V,E,b,L]});let o=t;return o})();var Oi=["documentUpload"];function Li(o,t){o&1&&(l(0,"nx-error"),s(1,"Required!"),a())}function qi(o,t){o&1&&(l(0,"nx-error"),s(1,"An error occured while uploading."),a())}function zi(o,t){if(o&1&&(l(0,"div"),s(1),a()),o&2){let d=k().$implicit;p(),A(' "',d.filename,'" could not be uploaded. The supported extensions us PNG. ')}}function Ri(o,t){if(o&1&&(l(0,"div"),s(1),a()),o&2){let d=k().$implicit;p(),be(' "',d.filename,'" could not be uploaded. max file size is ',d.max,". ")}}function Ai(o,t){if(o&1&&(l(0,"div"),s(1),a()),o&2){let d=k().$implicit;p(),A(" You cannot upload more than ",d.max," documents. ")}}function Hi(o,t){if(o&1&&(l(0,"li"),T(1,zi,2,1,"div")(2,Ri,2,2,"div")(3,Ai,2,1,"div"),a()),o&2){let d=t.$implicit;p(),g(d.type==="fileType"?1:-1),p(),g(d.type==="fileSize"?2:-1),p(),g(d.type==="fileNumber"?3:-1)}}function ji(o,t){if(o&1&&(l(0,"nx-error"),s(1," Errors: "),l(2,"ul"),_e(3,Hi,4,3,"li",null,ge),a()()),o&2){k();let d=y(2);p(3),Ce(d==null?null:d.errors)}}var at=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new M,reportProgress:!0}},this.uploader=new P(this.uploadConfig,this.http),this.testForm=new ee({documents:new te([],X.required)}),this._destroyed=new U}ngOnInit(){this.uploader.response.pipe(v(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Ne):e.error&&this.testForm.controls.documents.setErrors({serverError:!0})})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onChange(e){console.log(e)}onDelete(e){console.log(e)}};t.\u0275fac=function(i){return new(i||t)(f(B),f(D))},t.\u0275cmp=C({type:t,selectors:[["file-uploader-error-list-example"]],viewQuery:function(i,n){if(i&1&&Y(Oi,5),i&2){let r;H(r=j())&&(n.documentUpload=r.first)}},standalone:!0,features:[F],decls:15,vars:9,consts:[["documentUpload",""],[3,"formGroup"],["multiple","","formControlName","documents","accept","png","disableCommonValidator","","maxFileNumber","2",3,"fileDeleted","valueChange","maxFileSize","uploader","noBlockingValidators"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","primary small","type","button",3,"click","disabled","nxFileUploadTriggerFor"]],template:function(i,n){if(i&1){let r=O();l(0,"form",1)(1,"nx-file-uploader",2,0),S("fileDeleted",function(c){return x(r),h(n.onDelete(c))})("valueChange",function(c){return x(r),h(n.onChange(c))}),l(3,"nx-label",3),s(4,"Required file to upload"),a(),l(5,"span",4),s(6,"Maximum file size 2MB, Accept only PNG files, Maximum 2 files"),a(),l(7,"button",5),_(8,"nx-icon",6),s(9," Add File "),a(),T(10,Li,2,0,"nx-error")(11,qi,2,0,"nx-error")(12,ji,5,0,"nx-error"),a()(),l(13,"button",7),S("click",function(){return x(r),h(n.testForm.controls.documents.setErrors({serverError:!1}))}),s(14,` Upload files
`),a()}if(i&2){let r=y(2);u("formGroup",n.testForm),p(),Fe("maxFileSize",2*1024*1024),u("uploader",n.uploader)("noBlockingValidators",!0),p(9),g(n.testForm.controls.documents.hasError("required")?10:-1),p(),g(n.testForm.controls.documents.hasError("serverError")?11:-1),p(),g(!(r==null||r.errors==null)&&r.errors.length?12:-1),p(),u("disabled",!n.testForm.valid)("nxFileUploadTriggerFor",r)}},dependencies:[z,W,q,Q,oe,Z,ie,N,w,I,V,E,b,R,L],changeDetection:0});let o=t;return o})();var Gi={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},st=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new M,reportProgress:!0}},this.uploader=new P(this.uploadConfig,this.http),this._destroyed=new U}ngOnInit(){this.uploader.response.pipe(v(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Gi):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}};t.\u0275fac=function(i){return new(i||t)(f(B),f(D))},t.\u0275cmp=C({type:t,selectors:[["file-uploader-expert-example"]],standalone:!0,features:[F],decls:11,vars:3,consts:[["documentUpload",""],["multiple","",3,"uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary small-medium","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"nxFileUploadTriggerFor","disabled"]],template:function(i,n){if(i&1&&(l(0,"nx-file-uploader",1,0)(2,"nx-label",2),s(3,"Select a file to upload"),a(),l(4,"span",3),s(5,"Multiple files can be selected"),a(),l(6,"button",4),_(7,"nx-icon",5),s(8," Add File "),a()(),l(9,"button",6),s(10,` Upload
`),a()),i&2){let r=y(1);u("uploader",n.uploader),p(9),u("nxFileUploadTriggerFor",r)("disabled",!(r.value!=null&&r.value.length))}},dependencies:[N,w,I,V,E,b,L]});let o=t;return o})();var Qi=(()=>{let t=class t extends Ge{constructor(){super(...arguments),this.uploadingLabel="T\xE9l\xE9chargement",this.deleteLabel="Supprimer",this.uploadedStateLabel="T\xE9l\xE9charg\xE9",this.uploadedListLabel="Liste des fichiers t\xE9l\xE9charg\xE9s"}};t.\u0275fac=(()=>{let e;return function(n){return(e||(e=bt(t)))(n||t)}})(),t.\u0275prov=Me({token:t,factory:t.\u0275fac});let o=t;return o})(),Wi={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},dt=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new M,reportProgress:!0}},this.uploader=new P(this.uploadConfig,this.http),this._destroyed=new U}ngOnInit(){this.uploader.response.pipe(v(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Wi):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}};t.\u0275fac=function(i){return new(i||t)(f(B),f(D))},t.\u0275cmp=C({type:t,selectors:[["file-uploader-intl-example"]],standalone:!0,features:[ke([{provide:Ge,useClass:Qi}]),F],decls:11,vars:3,consts:[["documentUpload",""],["multiple","",3,"uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"disabled","nxFileUploadTriggerFor"]],template:function(i,n){if(i&1&&(l(0,"nx-file-uploader",1,0)(2,"nx-label",2),s(3,"Select a file to upload"),a(),l(4,"span",3),s(5,"Multiple files can be selected"),a(),l(6,"button",4),_(7,"nx-icon",5),s(8," Add File "),a()(),l(9,"button",6),s(10,` Upload files
`),a()),i&2){let r=y(1);u("uploader",n.uploader),p(9),u("disabled",!(r.value!=null&&r.value.length))("nxFileUploadTriggerFor",r)}},dependencies:[N,w,I,V,E,b,L]});let o=t;return o})();function Zi(o,t){o&1&&(l(0,"li"),s(1,"Required!"),a())}function $i(o,t){if(o&1&&(l(0,"li"),s(1),K(2,"json"),K(3,"json"),a()),o&2){let d=k(2);p(),be(" There were ",ne(2,2,d.testForm.controls.documents.getError("NxFileUploadMaxFileNumber").actual)," files added, but the maximum is ",ne(3,4,d.testForm.controls.documents.getError("NxFileUploadMaxFileNumber").max)," ")}}function Ji(o,t){if(o&1&&(l(0,"nx-error")(1,"div",8),s(2,"Error"),a(),l(3,"ul"),T(4,Zi,2,0,"li")(5,$i,4,6,"li"),a()()),o&2){let d=k();p(4),g(d.testForm.controls.documents.hasError("required")?4:-1),p(),g(d.testForm.controls.documents.hasError("NxFileUploadMaxFileNumber")?5:-1)}}var Yi={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},pt=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new M,reportProgress:!0}},this.uploader=new P(this.uploadConfig,this.http),this.testForm=new ee({documents:new te([],X.required)}),this._destroyed=new U}ngOnInit(){this.uploader.response.pipe(v(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Yi):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onChange(e){console.log(e)}onDelete(e){console.log(e)}};t.\u0275fac=function(i){return new(i||t)(f(B),f(D))},t.\u0275cmp=C({type:t,selectors:[["file-uploader-max-file-number-example"]],standalone:!0,features:[F],decls:13,vars:5,consts:[["documentUpload",""],[3,"formGroup"],["multiple","","formControlName","documents","maxFileNumber","3",3,"fileDeleted","valueChange","uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"click","disabled","nxFileUploadTriggerFor"],[1,"nx-font-weight-bold"]],template:function(i,n){if(i&1){let r=O();l(0,"form",1)(1,"nx-file-uploader",2,0),S("fileDeleted",function(c){return x(r),h(n.onDelete(c))})("valueChange",function(c){return x(r),h(n.onChange(c))}),l(3,"nx-label",3),s(4,"Required file to upload"),a(),l(5,"span",4),s(6,"Maximum number of 3 files"),a(),l(7,"button",5),_(8,"nx-icon",6),s(9," Add File "),a(),T(10,Ji,6,2,"nx-error"),a()(),l(11,"button",7),S("click",function(){return x(r),h(n.testForm.controls.documents.setErrors({serverError:!1}))}),s(12,` Upload files
`),a()}if(i&2){let r=y(2);u("formGroup",n.testForm),p(),u("uploader",n.uploader),p(9),g(n.testForm.controls.documents!=null&&n.testForm.controls.documents.errors?10:-1),p(),u("disabled",!n.testForm.valid)("nxFileUploadTriggerFor",r)}},dependencies:[z,W,q,Q,oe,Z,ie,N,w,I,V,E,b,R,L,de]});let o=t;return o})();var Ki={duration:3e3,context:"success",announcementMessage:"All files were uploaded successfully!"},mt=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new M,reportProgress:!0}},this.uploader=new P(this.uploadConfig,this.http),this.testForm=new ee({documents:new te([],X.required)}),this._destroyed=new U}ngOnInit(){this.uploader.response.pipe(v(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",Ki):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}};t.\u0275fac=function(i){return new(i||t)(f(B),f(D))},t.\u0275cmp=C({type:t,selectors:[["file-uploader-reactive-example"]],standalone:!0,features:[F],decls:14,vars:4,consts:[["documentUpload",""],[3,"formGroup"],["formControlName","documents","required","","accept","image/jpeg, image/x-png, image/png","multiple","",3,"uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"disabled","nxFileUploadTriggerFor"]],template:function(i,n){if(i&1&&(l(0,"form",1)(1,"nx-file-uploader",2,0)(3,"nx-label",3),s(4,"Required file to upload"),a(),l(5,"span",4),s(6,"Only JPG or PNG files are accepted."),a(),l(7,"button",5),_(8,"nx-icon",6),s(9," Add File "),a(),l(10,"nx-error"),s(11,"Required!"),a()(),l(12,"button",7),s(13," Upload files "),a()()),i&2){let r=y(2);u("formGroup",n.testForm),p(),u("uploader",n.uploader),p(11),u("disabled",!n.testForm.valid)("nxFileUploadTriggerFor",r)}},dependencies:[z,W,q,Q,Vt,oe,Z,ie,N,w,I,V,E,b,R,L]});let o=t;return o})();function Xi(o,t){o&1&&(l(0,"nx-error"),s(1," An error occured while uploading. "),a())}var eo={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},ut=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new M,reportProgress:!0},uploadSeparately:!0},this.uploader=new P(this.uploadConfig,this.http),this.showUploadError=!1,this._destroyed=new U}ngOnInit(){this.uploader.response.pipe(v(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",eo):this.showUploadError=!0})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}};t.\u0275fac=function(i){return new(i||t)(f(B),f(D))},t.\u0275cmp=C({type:t,selectors:[["file-uploader-separate-requests-example"]],standalone:!0,features:[F],decls:20,vars:6,consts:[["documentUpload",""],["multiple","",3,"uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["variant","small",3,"ngModelChange","ngModel"],["value","file-upload"],["value","file-upload-error"],["nxButton","secondary small","type","button",3,"click","disabled","nxFileUploadTriggerFor"]],template:function(i,n){if(i&1){let r=O();l(0,"nx-file-uploader",1,0)(2,"nx-label",2),s(3,"Select a file to upload"),a(),l(4,"span",3),s(5,"Multiple files can be selected"),a(),l(6,"button",4),_(7,"nx-icon",5),s(8," Add File "),a()(),T(9,Xi,2,0,"nx-error"),l(10,"p"),s(11),a(),l(12,"nx-radio-toggle",6),ae("ngModelChange",function(c){return x(r),le(n.uploadConfig.requestUrl,c)||(n.uploadConfig.requestUrl=c),h(c)}),l(13,"nx-radio-toggle-button",7),s(14,"Valid url"),a(),l(15,"nx-radio-toggle-button",8),s(16,"Invalid url"),a()(),_(17,"br"),l(18,"button",9),S("click",function(){return x(r),h(n.showUploadError=!1)}),s(19,` Upload files
`),a()}if(i&2){let r=y(1);u("uploader",n.uploader),p(9),g(n.showUploadError?9:-1),p(2),A(" Set url for testing the upload: ",n.uploadConfig.requestUrl==="file-upload"?"Valid url":"Invalid url",`
`),p(),re("ngModel",n.uploadConfig.requestUrl),p(6),u("disabled",!(r.value!=null&&r.value.length))("nxFileUploadTriggerFor",r)}},dependencies:[N,w,I,V,E,b,R,Le,z,q,pe,qe,L]});let o=t;return o})();function to(o,t){o&1&&(l(0,"li"),s(1,"Required!"),a())}function io(o,t){if(o&1&&(l(0,"li"),s(1),K(2,"json"),a()),o&2){let d=k(2);p(),A(" File ",ne(2,1,d.testForm.controls.documents.getError("NxFileUploadFileTypeNotAccepted").fileName)," can not be uploaded. This file type is not supported! ")}}function oo(o,t){if(o&1&&(l(0,"nx-error")(1,"div",10),s(2,"Error"),a(),l(3,"ul"),T(4,to,2,0,"li")(5,io,3,3,"li"),a()()),o&2){let d=k();p(4),g(d.testForm.controls.documents.hasError("required")?4:-1),p(),g(d.testForm.controls.documents.hasError("NxFileUploadFileTypeNotAccepted")?5:-1)}}var no={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},ct=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new M,reportProgress:!0}},this.stricterAcceptValidation=!0,this.uploader=new P(this.uploadConfig,this.http),this.testForm=new ee({documents:new te([],X.required)}),this._destroyed=new U}ngOnInit(){this.uploader.response.pipe(v(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",no):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onChange(e){console.log(e)}onDelete(e){console.log(e)}toggleAcceptValidation(){this.stricterAcceptValidation=!this.stricterAcceptValidation}};t.\u0275fac=function(i){return new(i||t)(f(B),f(D))},t.\u0275cmp=C({type:t,selectors:[["file-uploader-strict-type-validation-example"]],standalone:!0,features:[F],decls:20,vars:7,consts:[["documentUpload",""],["nxButton","primary small",3,"click"],[3,"formGroup"],["formControlName","documents","multiple","","accept","image/png",3,"valueChange","fileDeleted","strictAcceptValidation","uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],[1,"nx-margin-bottom-m"],["nxButton","primary","type","button","nxFileUploadButton",""],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"nxFileUploadTriggerFor","disabled"],[1,"nx-font-weight-bold"]],template:function(i,n){if(i&1){let r=O();l(0,"button",1),S("click",function(){return x(r),h(n.toggleAcceptValidation())}),s(1,` Toggle strict validation
`),a(),l(2,"p"),s(3," Strict validation is: "),l(4,"strong"),s(5),a()(),l(6,"form",2)(7,"nx-file-uploader",3,0),S("valueChange",function(c){return x(r),h(n.onChange(c))})("fileDeleted",function(c){return x(r),h(n.onDelete(c))}),l(9,"nx-label",4),s(10,"Required file to upload"),a(),l(11,"span",5),s(12,"Only *.png files are allowed"),a(),l(13,"nx-file-uploader-drop-zone",6)(14,"button",7),_(15,"nx-icon",8),s(16," Add File "),a()(),T(17,oo,6,2,"nx-error"),a(),l(18,"button",9),s(19," Upload files "),a()()}if(i&2){let r=y(8);p(5),ye(n.stricterAcceptValidation?"on":"off"),p(),u("formGroup",n.testForm),p(),u("strictAcceptValidation",n.stricterAcceptValidation)("uploader",n.uploader),p(10),g(n.testForm.controls.documents!=null&&n.testForm.controls.documents.errors?17:-1),p(),u("nxFileUploadTriggerFor",r)("disabled",!n.testForm.valid)}},dependencies:[V,z,W,q,Q,oe,Z,ie,N,w,I,xe,E,b,R,L,de]});let o=t;return o})();var ro={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},ft=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new M,reportProgress:!0}},this.uploader=new P(this.uploadConfig,this.http),this.myFiles=[],this._destroyed=new U}ngOnInit(){this.uploader.response.pipe(v(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",ro):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}};t.\u0275fac=function(i){return new(i||t)(f(B),f(D))},t.\u0275cmp=C({type:t,selectors:[["file-uploader-template-driven-example"]],standalone:!0,features:[F],decls:11,vars:4,consts:[["documentUpload",""],[3,"ngModelChange","ngModel","uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"nxFileUploadTriggerFor","disabled"]],template:function(i,n){if(i&1){let r=O();l(0,"nx-file-uploader",1,0),ae("ngModelChange",function(c){return x(r),le(n.myFiles,c)||(n.myFiles=c),h(c)}),l(2,"nx-label",2),s(3,"Please upload a file"),a(),l(4,"span",3),s(5,"Only one file is allowed."),a(),l(6,"button",4),_(7,"nx-icon",5),s(8," Add File "),a()(),l(9,"button",6),s(10,` Upload files
`),a()}if(i&2){let r=y(1);re("ngModel",n.myFiles),u("uploader",n.uploader),p(9),u("nxFileUploadTriggerFor",r)("disabled",r.value&&!r.value.length)}},dependencies:[N,z,q,pe,w,I,V,E,b,L]});let o=t;return o})();function lo(o,t){o&1&&(l(0,"li"),s(1,"Required!"),a())}function ao(o,t){if(o&1&&(l(0,"li"),s(1),K(2,"json"),a()),o&2){let d=k(2);p(),A(" File ",ne(2,1,d.testForm.controls.documents.getError("NxFileUploadFileTypeNotAccepted").fileName)," can not be uploaded. This file type is not supported! ")}}function so(o,t){if(o&1&&(l(0,"nx-error")(1,"div",9),s(2,"Error"),a(),l(3,"ul"),T(4,lo,2,0,"li")(5,ao,3,3,"li"),a()()),o&2){let d=k();p(4),g(d.testForm.controls.documents.hasError("required")?4:-1),p(),g(d.testForm.controls.documents.hasError("NxFileUploadFileTypeNotAccepted")?5:-1)}}var po={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},xt=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new M,reportProgress:!0}},this.uploader=new P(this.uploadConfig,this.http),this.testForm=new ee({documents:new te([],X.required)}),this._destroyed=new U}ngOnInit(){this.uploader.response.pipe(v(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",po):e.error&&console.log(e.error)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onChange(e){console.log(e)}onDelete(e){console.log(e)}};t.\u0275fac=function(i){return new(i||t)(f(B),f(D))},t.\u0275cmp=C({type:t,selectors:[["file-uploader-type-validation-example"]],standalone:!0,features:[F],decls:14,vars:5,consts:[["documentUpload",""],[3,"formGroup"],["formControlName","documents","multiple","","accept","image/png",3,"valueChange","fileDeleted","uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],[1,"nx-margin-bottom-m"],["nxButton","primary","type","button","nxFileUploadButton",""],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",3,"nxFileUploadTriggerFor","disabled"],[1,"nx-font-weight-bold"]],template:function(i,n){if(i&1){let r=O();l(0,"form",1)(1,"nx-file-uploader",2,0),S("valueChange",function(c){return x(r),h(n.onChange(c))})("fileDeleted",function(c){return x(r),h(n.onDelete(c))}),l(3,"nx-label",3),s(4,"Required file to upload"),a(),l(5,"span",4),s(6,"Only *.png files are allowed"),a(),l(7,"nx-file-uploader-drop-zone",5)(8,"button",6),_(9,"nx-icon",7),s(10," Add File "),a()(),T(11,so,6,2,"nx-error"),a(),l(12,"button",8),s(13," Upload files "),a()()}if(i&2){let r=y(2);u("formGroup",n.testForm),p(),u("uploader",n.uploader),p(10),g(n.testForm.controls.documents!=null&&n.testForm.controls.documents.errors?11:-1),p(),u("nxFileUploadTriggerFor",r)("disabled",!n.testForm.valid)}},dependencies:[z,W,q,Q,oe,Z,ie,N,w,I,xe,V,E,b,R,L,de]});let o=t;return o})();function mo(o,t){o&1&&(l(0,"li"),s(1,"Required!"),a())}function uo(o,t){o&1&&(l(0,"li"),s(1,"An error occured while uploading."),a())}function co(o,t){if(o&1&&(l(0,"li"),s(1),K(2,"json"),a()),o&2){let d=k(2);p(),A(" File ",ne(2,1,d.testForm.controls.documents.getError("NxFileUploadMaxFileSize").fileName)," can not be uploaded. File size exceeds size limit! ")}}function fo(o,t){if(o&1&&(l(0,"nx-error")(1,"div",11),s(2,"Error"),a(),l(3,"ul"),T(4,mo,2,0,"li")(5,uo,2,0,"li")(6,co,3,3,"li"),a()()),o&2){let d=k();p(4),g(d.testForm.controls.documents.hasError("required")?4:-1),p(),g(d.testForm.controls.documents.hasError("serverError")?5:-1),p(),g(d.testForm.controls.documents.hasError("NxFileUploadMaxFileSize")?6:-1)}}var xo={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},ht=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.uploadConfig={requestUrl:"file-upload",options:{params:new M,reportProgress:!0}},this.uploader=new P(this.uploadConfig,this.http),this.testForm=new ee({documents:new te([],X.required)}),this._destroyed=new U}ngOnInit(){this.uploader.response.pipe(v(this._destroyed)).subscribe(e=>{e.success?this.messageToastService.open("All files were uploaded successfully!",xo):e.error&&this.testForm.controls.documents.setErrors({serverError:!0})})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}onChange(e){console.log(e)}onDelete(e){console.log(e)}};t.\u0275fac=function(i){return new(i||t)(f(B),f(D))},t.\u0275cmp=C({type:t,selectors:[["file-uploader-validation-example"]],standalone:!0,features:[F],decls:21,vars:8,consts:[["documentUpload",""],[3,"formGroup"],["multiple","","formControlName","documents",3,"fileDeleted","valueChange","maxFileSize","uploader"],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["variant","small",3,"ngModelChange","ngModel"],["value","file-upload"],["value","file-upload-error"],["nxButton","secondary small","type","button",3,"click","disabled","nxFileUploadTriggerFor"],[1,"nx-font-weight-bold"]],template:function(i,n){if(i&1){let r=O();l(0,"form",1)(1,"nx-file-uploader",2,0),S("fileDeleted",function(c){return x(r),h(n.onDelete(c))})("valueChange",function(c){return x(r),h(n.onChange(c))}),l(3,"nx-label",3),s(4,"Required file to upload"),a(),l(5,"span",4),s(6,"Maximum file size 2MB"),a(),l(7,"button",5),_(8,"nx-icon",6),s(9," Add File "),a(),T(10,fo,7,3,"nx-error"),a()(),l(11,"p"),s(12),a(),l(13,"nx-radio-toggle",7),ae("ngModelChange",function(c){return x(r),le(n.uploadConfig.requestUrl,c)||(n.uploadConfig.requestUrl=c),h(c)}),l(14,"nx-radio-toggle-button",8),s(15,"Valid url"),a(),l(16,"nx-radio-toggle-button",9),s(17,"Invalid url"),a()(),_(18,"br"),l(19,"button",10),S("click",function(){return x(r),h(n.testForm.controls.documents.setErrors({serverError:!1}))}),s(20,` Upload files
`),a()}if(i&2){let r=y(2);u("formGroup",n.testForm),p(),Fe("maxFileSize",2*1024*1024),u("uploader",n.uploader),p(9),g(n.testForm.controls.documents.errors?10:-1),p(2),A(" Set url for testing the upload: ",n.uploadConfig.requestUrl==="file-upload"?"Valid url":"Invalid url",`
`),p(),re("ngModel",n.uploadConfig.requestUrl),p(6),u("disabled",!n.testForm.valid)("nxFileUploadTriggerFor",r)}},dependencies:[z,W,q,Q,pe,oe,Z,ie,N,w,I,V,E,b,R,Le,qe,L,de]});let o=t;return o})();var ho=["documentUpload"];function go(o,t){o&1&&(l(0,"nx-error"),s(1," An error occured while uploading. "),a())}var _o={duration:3e3,context:"success",announcementMessage:"File was uploaded successfully!"},gt=(()=>{let t=class t{constructor(e,i){this.messageToastService=e,this.http=i,this.showUploadError=!1}upload(e){if(this.showUploadError=!1,!this.documentUpload.value)return;let i=new FormData;this.documentUpload.value.forEach(m=>{m.isUploaded||(m.setUploadingState(),i.append("uploads[]",m.file,m.name))});let r={params:new M,reportProgress:!0};this.http.post(e,i,r).subscribe(m=>{this.documentUpload.value.forEach(c=>{c.setUploadedState()}),this.messageToastService.open("All files were uploaded successfully!",_o)},m=>{this.documentUpload.value.forEach(c=>{c.isUploaded||c.setErrorState()}),this.showUploadError=!0})}};t.\u0275fac=function(i){return new(i||t)(f(B),f(D))},t.\u0275cmp=C({type:t,selectors:[["file-uploader-with-request-example"]],viewQuery:function(i,n){if(i&1&&Y(ho,5),i&2){let r;H(r=j())&&(n.documentUpload=r.first)}},standalone:!0,features:[F],decls:14,vars:3,consts:[["documentUpload",""],["multiple",""],["size","small",1,"nx-margin-bottom-3xs"],["nxFileUploadHint","",1,"nx-margin-bottom-s"],["nxButton","primary","type","button","nxFileUploadButton","",1,"nx-margin-bottom-s"],["name","plus","aria-hidden","true",1,"nx-margin-right-2xs"],["nxButton","secondary small","type","button",1,"nx-margin-right-2xs",3,"click","disabled"],["nxButton","secondary small","type","button",3,"click","disabled"]],template:function(i,n){if(i&1){let r=O();l(0,"nx-file-uploader",1,0)(2,"nx-label",2),s(3,"Select a file to upload"),a(),l(4,"span",3),s(5,"Multiple files can be selected"),a(),l(6,"button",4),_(7,"nx-icon",5),s(8," Add File "),a()(),T(9,go,2,0,"nx-error"),l(10,"button",6),S("click",function(){return x(r),h(n.upload("file-upload"))}),s(11,` Upload files
`),a(),l(12,"button",7),S("click",function(){return x(r),h(n.upload("file-upload-error"))}),s(13,` Upload files (and get an error)
`),a()}if(i&2){let r=y(1);p(9),g(n.showUploadError?9:-1),p(),u("disabled",!(r.value!=null&&r.value.length)),p(2),u("disabled",!(r.value!=null&&r.value.length))}},dependencies:[N,w,I,V,E,b,R]});let o=t;return o})();var Co=[at,it,ot,lt,dt,mt,ut,ft,xt,ht,gt,pt,nt,st,ct,rt],sa=(()=>{let t=class t{static components(){return{"file-uploader-error-list":at,"file-uploader-auto":it,"file-uploader-basic":ot,"file-uploader-drop-zone":lt,"file-uploader-intl":dt,"file-uploader-reactive":mt,"file-uploader-separate-requests":ut,"file-uploader-template-driven":ft,"file-uploader-type-validation":xt,"file-uploader-validation":ht,"file-uploader-with-request":gt,"file-uploader-max-file-number":pt,"file-uploader-custom-item":nt,"file-uploader-expert":st,"file-uploader-strict-type-validation":ct,"file-uploader-disable-common-validators":rt}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Ve({type:t}),t.\u0275inj=De({imports:[Kt,fe,$t,Se,Qt,Gt,zt,At,Pt,Co]});let o=t;return o})();export{sa as FileExamplesModule};
